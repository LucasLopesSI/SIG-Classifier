DOI: 10.1111/tgis.12553  

R E S E A R C H   A R T I C L E

Fine‐scale intra‐ and inter‐city commercial store 
site recommendations using knowledge transfer

Yao Yao1,2  |   Penghua Liu3 |   Ye Hong4 |   Zhaotang Liang5 |   
Rouyu Wang6 |   Qingfeng Guan1 |   Jingmin Chen2

1School of Geography and Information 
Engineering, China University of 
Geosciences, Wuhan, China

2Alibaba Group, Hangzhou, China

3School of Geography and Planning, Sun 
Yat‐sen University, Guangzhou, China

4Department of Civil, Environmental 
and Geomatic Engineering, ETH Zurich, 
Switzerland

5Institute of Space and Earth Information 
Science, Chinese University of Hong Kong, 
Hong Kong

6Institute of Geography, University of 
Edinburgh, UK

Correspondence
Yao Yao and Qingfeng Guan, School of 
Geography and Information Engineering, 
China University of Geosciences, 388 Lumo 
Road, Wuhan 430074, China.
Email: yaoy@cug.edu.cn, guanqf@cug.edu.cn

Funding information
National Key R&D Program of China, 
Grant/Award Number: 2017YFB0503804; 
National Natural Science Foundation of 
China, Grant/Award Number: 41671408 
and 41801306

Abstract

The  rapid  development  of  urban  retail  companies  brings 

new  opportunities  to  the  Chinese  economy.  Due  to  the 

spatiotemporal heterogeneity of different cities, selecting a 

business location in a new area has become a challenge. The 

application of multi‐source geospatial data makes it possible 

to describe human activities and urban functional zones at 

fine scale. We  propose  a  knowledge  transfer‐based  model 

named  KTSR  to  support  citywide  business  location  selec‐

tions at the land‐parcel scale. This framework can optimize 

customer scores and study the pattern of business location 

selection for chain brands. First, we extract the features of 

each  urban  land  parcel  and  study  the  similarities  between 

them. Then, singular value decomposition was used to build 

a  knowledge‐transfer  model  of  similar  urban  land  parcels 

between  different  cities.  The  results  show  that:  (1)  com‐

pared  with  the  actual  scores,  the  estimated  deviation  of 

the proposed model decreased by more than 50%, and the 

Pearson correlation coefficient reached 0.84 or higher; (2) 

the decomposed features were good at quantifying and de‐

scribing high‐level commercial operation information, which 

has a strong relationship with urban functional structures. 

In general, our method can work for selecting business loca‐

tions and estimating sale volumes and user evaluations.

Transactions in GIS. 2019;23:1029–1047. 

wileyonlinelibrary.com/journal/tgis 

  |  1029

© 2019 John Wiley & Sons Ltd1030  |    

1 |  I NTRO D U C TI O N

With  the  rapid  development  of  the  national  economy  and  local  market  demands,  Chinese  internet  companies 

have started to change their traditional single‐service mode as online content providers to a multi‐service mode 

as online‐to‐offline (O2O) life service/goods providers (Ellison & Ellison, 2006; Ma & Bureau, 2017; Singh, Bansal, 

& Kaur, 2012). Such a new retail pattern exists mainly in the form of a company that has both an online presence 

and physical retail locations. According to marketing theory, the location of offline retail stores has great impact 

on not only their profit, but also their future development (Roig‐Tierno, Baviera‐PuigJuan, Buitrago‐Vera, & Mas 

Verdúet, 2013). Choosing an optimal location for a physical retail store, especially in a complex urban context, is 

thus an important topic in both O2O practices and GIS algorithm studies.

Traditional commercial site selections rely mainly on field surveys to conduct assessments of customers' needs 

in target areas (Chang & Lin, 2015; Hong & Zhang, 2011; Yıldırım & Önder, 2014; Zhou, Wang, & Liu, 2005). These 

methods require many human and material resources, as well as being difficult to fit to the rapidly changing mar‐

kets and dynamic developments of cities (Shakhsi‐Niaei, Torabi, & Iranmanesh, 2011). In the field of GIS, gravity 

models (Pearson, 2007; Yu, Zhang, & Yang, 2014), linear regression (Qu, Yu, Tian, & Guo, 2015; Yu et al., 2014), and 

decision trees (Karamshuk, Noulas, Scellato, Nicosia, & Mascolo, 2013) have commonly been used to determine 

site selection suitability based on multiple datasets, such as passenger traffic volume, sales and road network data.

Based  on  the  heterogeneous  multi‐source  geospatial  data  produced  by  massive  activities  within  cities,  the 

fusion of multi‐source data can effectively address the bias problem generated from a single data source (Liu et al., 

2015, 2017; Yao et al., 2017), and the study of location selection for stores has gradually shifted to be multi‐source 

data‐driven (Eravci, Bulut, Etemoglu, & Ferhatosmanoğlu, 2016; Jensen, 2006; Karamshuk et al., 2013). Previous 

studies were conducted basically with abundant tagged stores data (Eravci et al., 2016; Jensen, 2006; Qu et al., 

2015); however, the main issue encountered in site selection for stores currently is the so‐called “cold‐start” prob‐

lem, which requires decision‐makers to conduct site‐selecting action in a new city without any prior knowledge 

(Bobadilla, Ortega, Hernando, & Bernal, 2012).

To tackle the abovementioned problems, some studies suggest that collaborative filtering can be used to build 

a site‐selection model for a target business, as it can learn knowledge from other cities or similar stores (Lian et al., 

2015; Zafarani, Abbasi, & Liu, 2014; Zheng, Cao, Zheng, Xie, & Yang, 2010). The general idea of collaborative fil‐

tering is making automatic predictions (filtering) about the interests of a user by collecting preference information 

from many users (collaborating), mostly seen in the commercial recommendation field. Nevertheless, there are 

huge gaps for inter‐city site selection, including gaps in social economies, human activity patterns and geograph‐

ical conditions (Kotthaus & Grimmond, 2014; Shwartz, Shirley, & Kark, 2008; Zhou, Pickett, & Cadenasso, 2016; 

Zhou, Yang, & Lu, 2013). Considering the uneven distribution of socioeconomic conditions across geographical 

space, traditional machine‐learning methods cannot be adopted directly when transferring knowledge across dif‐

ferent cities and different sectors (Cuo, Li, Zheng, Wang, & Yu, 2018; Zheng et al., 2010). In such cases, transfer 

learning  can  be  a  feasible  solution,  using  existing  knowledge  to  solve  problems  in  different  but  related  fields, 

especially when little or no sample data is available in the target area (Pan & Yang, 2010).

Based on the abovementioned ideas of knowledge transfer and collaborative filtering, Cuo et al. (2018) pro‐

posed the CityTransfer model. CityTransfer uses a twofold knowledge‐transfer framework to conduct site‐selec‐

tion recommendations. On the one hand, knowledge for a specific business in the source city is transferred to the 

target city; on the other hand, local features of the target city are also learned to improve the traditional collabora‐

tive filtering for site selection. Compared with empirical methods, CityTransfer achieved the highest accuracy with 

a grid resolution of 500 m. However, for actual site‐selection applications, site‐selection evaluations conducted 

at planned land‐parcel scale would be more practical and reasonable, especially in an urban context (Jiang & Yao, 

2010; Zheng, Capra, Wolfson, & Yang, 2014).

Also, in megacities, there is substantial heterogeneity of crowd activities between different planned land par‐

cels, especially in China. To our knowledge, in addition to the expansion of their own urban areas, the formation 

YAO et Al.    |  1031

and expansion of large cities in China relies mainly on the merger or annexation of several smaller cities (Bai, Shi, & 

Liu, 2014; Chen, Chang, Karacsonyi, & Zhang, 2014; Ma, 2005). Due to the differences in residents' behavioral ac‐

tivities and natural geographical attributes in different regions, spatial heterogeneity of geographical phenomena 

will occur in different regions of the big cities, especially in China's megacities (Beijing, Shanghai, Guangzhou and 

Shenzhen) (Fang, Song, & Zhang, 2005; Feng, Wu, & Logan, 2008; Li, Peng, Yanxu, & Yi'na, 2017). Thus, knowledge 

transfer across different urban regions should involve further investigations (Zhou et al., 2016).

Aimed at commercial store site recommendations for intra‐ and inter‐city cases at the land‐parcel scale, this 

study  proposes  a  collaborative  filter‐based  knowledge‐transfer  framework  named  KTSR  (Knowledge  Transfer‐

based  Site  Recommendation).  We  chose  two  megacities  in  the  southern  part  of  China  as  the  study  area,  and 

utilized the customer ratings of three major Chinese hotel chains as the criteria for location suitability. Based on 

the comparison between the obtained estimation and the actual scores, the accuracy of the proposed fine‐scale 

site‐selection model is evaluated.

The remainder of the article is organized as follows. Section 2 briefly introduces the case study area and the 

multi‐source datasets. Section 3 describes the KTSR model and comparative experiments in detail. In Section 4, 

we present the experimental parameters and experimental results, and analyze the significance of the model pa‐

rameters. Section 5 discusses the findings of the research in detail, summarizes the innovations, and explores the 

potential shortcomings of this study. Finally, we give conclusions and future work in Section 6.

2 |  S T U DY A R E A A N D DATA

The study area includes two metropolitan cities, namely Guangzhou and Shenzhen (Figure 1). Due to rapid urbani‐

zation, Guangzhou and Shenzhen have become two leading economic centers in the Pearl River Delta, which is the 

most important economic zone in southern China. As the capital of Guangdong Province, Guangzhou is typically 

characterized as a top‐down development mode with strong government intervention, while Shenzhen is charac‐

terized as a bottom‐up development mode with a less powerful government and enjoys considerable autonomy in 

economic affairs, given it’s “Special Economic Zone” status (Ng & Tang, 1999). Figure 1 shows the administrative 

regions and planned land parcels of Guangzhou and Shenzhen, with their built‐up urban areas. A total of 15,716 

F I G U R E   1  Case study areas

YAO et Al.1032  |    

and 6,913 planned land parcels are delineated in Guangzhou (Figure 1b) and Shenzhen (Figure 1c), respectively, 

which are decided and published by the Guangdong Urban and Rural Planning and Design Institute.

Although Guangzhou and Shenzhen both lie along the Pearl River Delta and have experienced rapid urban‐

ization, their economic development and residential activity modes are completely different (Sui & Zeng, 2001). 

As one of the earliest trading ports in China, Guangzhou still relies on traditional industry and international trade 

(Fan, 2001; Lin, Li, & Yang, 2011); as the youngest metropolis in China, Shenzhen is famous for its high‐tech inno‐

vations and advanced producer services (Wang, Lin, & Li, 2010).

Dianping.com is the largest Chinese O2O local life service platform, with a built‐in consumer review system 

for locally found products and services. Dianping.com scores each store in a range from 0 to 10 points: the higher 

the score, the greater the user's recommendation. The user rating data from Dianping.com is often used to rec‐

ommend shops to users (Fang, Xu, Shamim Hossain, & Muhammad, 2016), and to evaluate the popularity of shops 

in a certain area (Zhai et al., 2015). Online reviews have been proven to show great potential in commercial site 

recommendation in the new retail era (Xiang, Du, Ma, & Fan, 2017; Zheng, Du, Ma, & Fan, 2017). More specifi‐

cally, the rating data can reflect user preferences and business performance both qualitatively and quantitatively, 

thus affecting management decisions like site selection (Li et al., 2018; Xie, Zhang, & Zhang, 2014). Moreover, the 

previous study has demonstrated that such user rating score data can reflect commercial site‐selection suitability, 

which can be applied well to optimal retail store placement in China (Zhang, Chen, & Chen, 2017). In this study, 

we designed a web crawler to fetch the locations of the top three largest hotel chains (7‐Days Inn, Home Inn, and 

Hanting Inn) and their customer rating scores from Dianping.com (Figure 2).

Social media data, including points of interest (POIs) from Baidu.com, real‐time Tencent user densities (RTUD) 

from  QQ.com,  road  networks  from  OpenStreetMap  (OSM),  and  house  price  data  from  Fang.com,  are  used  to 

extract commercial and geographical features for site recommendations in the study area. Baidu POIs have 20 

F I G U R E   2  Distribution of three chain hotel brands (7‐Days Inn, Home Inn, and Hanting Inn) and their user 
rating scores obtained from Dianping.com, which is the largest website that provides O2O services in China

YAO et Al.    |  1033

categories (Table 1), including life services, residential communities, hotels, etc. Previous studies have proved that 

Baidu POIs can reflect urban functional structures effectively in China (Rodrigues, Pereira, & Oliveira Alves, 2012; 

Yao et al., 2016). The road network data obtained from OSM in this study are shown later in Figure 4; these data 

can reflect the traffic suitability of urban areas. In this study, we calculate the density of the road network using 

autocorrelated kernel density estimation (Terrell & Scott, 1992); we also take the distances to main roads (includ‐

ing highways, first and second‐class roads) into consideration.

The  RTUD  records  the  locations  of  smartphone  users  who  are  using  Tencent  applications  and  are  able  to 

reflect the characteristics of urban residents' behavior in megacities, since over 93% of residents in Guangzhou 

and Shenzhen use Tencent location‐based services (Chen et al., 2017; Yao et al., 2017; Yuan, Zheng, & Xie, 2012). 

The spatial resolution of the RTUD data is 25 m, and covers a temporal range from May to June 2016, as shown in 

Figure 3. Besides, house prices are an important commercial factor for merchants to target potential customers and 

find suitable store locations. This study obtained house price data in Guangzhou and Shenzhen via a web crawler, 

which yielded a house price distribution in urban areas using ordinary kriging interpolation (Kuntz & Helbich, 2014).

3 |  M E TH O D O LO G Y

The flowchart of the proposed method is illustrated in Figure 4. We attempt to mine the operation character‐

istic information of the intra‐ and inter‐cities to recommend sites for the location selection of chain stores. The 

procedure can be divided into three parts, including feature extraction, knowledge transfer, and comparing the 

results with several traditional models to reveal the advantages and disadvantages of the proposed knowledge 

transfer‐based model.

TA B L E   1  Feature list of spatial variables

Feature source

Dimensionality

Details

Baidu POIs

20

Density of each type: administrative land‐
mark (ADL); government (GOV); corpora‐
tion (COR); clinical facility (CLF); education 
(EDU); life services (LIF); location annota‐
tion (LOC); entertainment (ENT); catering 
(CAT); traffic facility (TRA); shopping (SHP); 
residential community (RSC); financial in‐
dustry (FII); road (ROD); automobile service 
(AMS); hotel (HOT); business building (BUB); 
scenic spot (SCE); green space (GRE); natu‐
ral mountains (MOU)

Entropy of POI categories at the land‐parcel 

level

Average density of active users from 0:00 to 

24:00 during working days

Average density of active users from 0:00 to 

24:00 during other days

Road density

Distance to main roads

Average house price (by ordinary kriging 

interpolation)

Area and perimeter of land parcel

Distance to bus stations

Distance to subway stations

Tencent RTUD

OSM roads

Fang.com

Basic geographical data

1

24

24

1

1

1

2

1

1

YAO et Al.1034  |    

F I G U R E   3  Distribution of RTUD in the main urban areas of Guangzhou (GZ) and Shenzhen (SZ) at three 
different times

F I G U R E   4  Flowchart of intra‐ and inter‐city commercial store site recommendations via knowledge transfer 
using multi‐source geospatial big data

3.1 | Feature extraction and dimensionality reduction

As illustrated in Table 1, several geographical and commercial features are extracted from multi‐source geospa‐

tial  data,  including  POIs,  Tencent  user  density,  house  prices,  road  network  density,  etc.  We  obtained  658,718 

YAO et Al.    |  1035

recorded POIs with 20 categories in the study area. For each land parcel j, we counted the number of each POI 

category; based on this, the entropy of the POI was extracted to characterize the functional diversity (Li, Xing, Xia, 

& Huang, 2016; Liao, Xiao, & Huan‐Zhang, 2007). As shown in Table 1, the geographical and commercial features 

of each land parcel can be represented by a 75‐dimensional vector. To solve the problem of excessive dimensions 

and sparse features, this study adopts principal component analysis (PCA) to reduce the feature dimensions.

3.2 | Knowledge transfer‐based location selection

By mining the associated knowledge between user rating scores and multi‐source geospatial data, the proposed 

KTSR model can transfer the knowledge to regions without scoring information at the land‐parcel level. To quan‐

tify and transfer the knowledge from different areas for calculating the suitability of site selection, land parcels 

with similar properties (e.g. socioeconomic conditions, human activities) were first chosen by quantifying their 

similarities for both intra‐ and inter‐city cases. For land parcels in the source city and target city, the Pearson cor‐

relation coefficient is used to characterize their similarities (Pearson, 1969; Zafarani et al., 2014).

When the intra‐city transfer process is carried out (i.e. learning location selection knowledge in the case that 

the source and target city is the same) for the land parcel LP(s)
i
to their Pearson correlation coefficient values in descending order (except LP(s)
i
inter‐city transfer is performed, as location selection knowledge from one city to the other needs to be localized, 
we pick land parcels both in the source city and in the target city when LP(t)
for any hotel. For simplicity, we denote the set of selected land parcels as Δ =

, the top γ land parcels would be picked according 

j  does not contain any valid rating score 

 itself) in the same city. When the 

LP1,LP2, … ,LP𝛾 }
.
{

This  study  aims  to  make  full  use  of  the  characteristics  of  enterprises  and  land‐parcel  features  to  recommend 

location selections. We use s and p matrices to represent the characteristics of the stores and the features of the 
land parcels, respectively, where si represents the characteristics of store i and pj represents the feature vector of 
land parcel j. Similar to singular value decomposition (SVD), si and pT
j  are multiplied to get a preliminary rating score. 
For the selected source‐city land parcels Δ, we decompose the rating matrices Y(s)
 into s and p, respectively, 
with SVD‐based collaborative filtering (Konstan et al., 1997), where si and pj are used to predict the score of store i 
in land parcel j.

 and Y(t)

Due to the difference in the rating standards of different cities and different stores, we introduce the bias 
parameter BSi for store i and BPj for land parcel j to adjust the prediction scores. Since chain corporations generally 
have a fixed market position and location preferences, BSi and si are generally unchanged between different cities; 
hence, we can transfer enterprise knowledge from the source city to the target city. However, the features of the 

land parcels between different cities are generally dissimilar (Wei, Zheng, & Yang, 2016). Therefore, we introduce 
BP(s)
j

j  as the biases of land parcel j in the source city and the target city, respectively.

 and BP(t)
Based on this, we predict the scores ̂y(s)

ij  and ̂y(t)

ij  of hotel i in land parcel j in the source city s and the target city 

t with Equations (1) and (2):

Therefore,  the  loss  function  is  constructed  based  on  the  predicted  score  and  the  real  score,  as  shown  in 

Equation (3):

ij = BSi + BP(s)
̂y(s)

j + sip(s)T

j

ij = BSi + BP(t)
̂y(t)

j + sip(t)T

j

J =

∑
ij ∈Y(s)
y(s)

ij − y(s)
̂y(s)
ij )

(

2

+ 𝜆

2

ij − y(t)
̂y(t)
ij )

(

∑
y(t)
ij ∈Y(t)

(1)

(2)

(3)

Here, J is the loss function and 𝜆 is a fine‐tuning parameter that is no less than 0.

To avoid overfitting, we introduced the L2 regularization term as shown in Equation (4):

YAO et Al.1036  |    

R =

BS2

i +

BP(s)2

i +

BP(t)2

i +

c

∑
i=1

m

∑
i=1

n

∑
i=1

n

2

si

∑
i=1 |
|

|
|

|
|

|
|

(4)

(5)

where c denotes the number of hotels, m the number of validation land parcels in the source city, and n the number 

of validation land parcels in the target city. For the intra‐city analysis case, n would be set to 0 since the source and 
the target city are the same. By combining loss function J and the regularization term R, we can finally obtain the 

optimization target 𝜁, as shown in Equation (5):

𝜁 = J + 𝜇R

Here,  μ  is  a  parameter  which  controls  the  importance  of  the  regularization  term,  adjusting  the  penalty  for 

generalization purposes. In this study, a stochastic gradient descent (SGD) method is used to minimize the loss 
function. Specifically, for each iteration, a land parcel in Δ is selected randomly during the SGD process, and the 
loss function 𝜁 is calculated. The initial values of bias (BS and BP) at the beginning of the iteration are set to 0. The 
standard R2, root‐mean‐square error (RMSE), and Pearson correlation coefficient (Pearson R) are applied to quan‐

tify the accuracy between the actual and the estimated rating scores.

3.3 | Comparison with traditional location models

After extracting the geographical and commercial features of each land parcel, we design inter‐ and intra‐city 

site‐recommendation models based on three different machine‐learning methods, namely proposed knowl‐

edge transfer (KT), linear regression (LR) (Qu et al., 2015; Yu et al., 2014), and random forest (RF), to dem‐

onstrate  the  effectiveness  of  our  proposed  KT  model.  LR  is  a  classical  model  addressing  the  site‐selection 

problem, and RF is a multi‐decision tree ensemble model which is good at solving high‐dimensional nonlinear 

regression problems and can avoid overfitting problems effectively (Biau, 2012; Breiman, 2001). The RF al‐

gorithm  carries  out  splits  based  on  bagging  instead  of  trying  to  balance  features  (Palczewska,  Palczewski, 

Robinson, & Neaguet, 2014), which indicates that the RF‐based fitting model is capable of solving the cor‐

relation problem of high‐dimensional spatial variables in geographical applications (Liu et al., 2017; Yao et al., 

2017).

respectively.

2004).

3.4 | Detecting the relationship between operating characteristics and urban land‐
use patterns

After obtaining the transfer matrix s of each land parcel, we can characterize the operating characteristics 

of different chain hotels. In this study, the number of rows in s equals the number of hotel chain brands, and 

the  number  of  columns  equals  the  dimensions  of  the  features  after  performing  PCA  reduction:  3  and  30, 

k‐Means clustering with a cosine distance is adopted for the operating characteristics of Hanting Inn for 

each land parcel, using the silhouette index to estimate the optimal clustering level (Campello & Hruschka, 

2006; Chen, Li, Liu, & Ai, 2014). The numerical range of the silhouette index is between − 1 and 1. The closer 

the index is to 1, the better the clustering effect. In this study, the best clustering results are selected and 

compared with the enrichment factors of the POIs (Chen et al., 2017). The enrichment factor of a POI class 

greater than 1 signified that the proportion of the POI in that cluster was higher than that of the entire study 

area, and the corresponding land parcel was more functional (Verburg, de Nijs, van Eck, Visser, & de Jong, 

YAO et Al.    |  1037

4 |  R E S U LT S

4.1 | Implementation and results

As  illustrated  in  Table  2,  we  estimate  the  customer  rating  scores  of  7‐Days  Inn,  Home  Inn,  and  Hanting  Inn 

in  each  land  parcel  for  both  intra‐city  (Shenzhen  →  Shenzhen,  Guangzhou  →  Guangzhou)  and  inter‐city 

(Shenzhen → Guangzhou, Guangzhou → Shenzhen) scenarios. Previous studies have suggested that a site‐selection 

recommendation model may be constructed with a combination of data from the source city and land‐parcel data 

from the target city (Pan & Yang, 2009; Wang, Chen, & Huang, 2015). Thus, GZ&SZ2SZ represents the regression 

model (LR and RF) that uses data from Guangzhou and half of that from Shenzhen to estimate the chain hotel scores 

for each land parcel in Shenzhen.

During  the  construction  of  the  intra‐urban  transfer  model  KT  and  regression  models  LR  and  RF,  the  score 

data of each chain hotel are divided equally into training and testing data. Also, in the proposed KTSR model, the 

source city is set to Guangzhou and the target city is Shenzhen. The input of each hotel in the target city in the 

KTSR model is equal to the combination of all the hotel rating data in the source city (Guangzhou) and that of the 

TA B L E   2  Average estimation accuracy of customer rating scores by different models

Hotel name

R2

Pearson R

RMSE

KT‐based models

KT_GZ2GZ

KT_GZ2SZ

LR‐based models

LR_GZ2GZ

LR_GZ2SZ

LR_GZ&SZ2SZ

RF‐based models

RF_GZ2GZ

RF_GZ2SZ

RF_GZ&SZ2SZ

7‐Days Inn

Home Inn

Hanting Inn

7‐Days Inn

Home Inn

Hanting Inn

7‐Days Inn

Home Inn

Hanting Inn

7‐Days Inn

Home Inn

Hanting Inn

7‐Days Inn

Home Inn

Hanting Inn

7‐Days Inn

Home Inn

Hanting Inn

7‐Days Inn

Home Inn

Hanting Inn

7‐Days Inn

Home Inn

Hanting Inn

0.629

0.669

0.674

0.852

0.795

0.685

0.171

0.237

0.265

0.004

0.045

0.011

0.002

0.003

0.090

0.841

0.824

0.834

0.002

0.005

0.019

0.052

0.001

0.000

0.779

0.806

0.835

0.946

0.898

0.840

0.470

0.444

0.655

−0.078

0.192

−0.183

0.224

−0.105

0.005

0.975

0.972

0.973

0.160

0.115

−0.037

0.170

0.233

−0.073

1.592

1.402

1.375

1.152

1.532

1.600

2.944

2.886

1.953

6.167

6.606

8.186

3.681

3.859

3.525

1.409

1.367

1.002

3.610

3.222

2.970

3.441

2.911

3.350

YAO et Al.1038  |    

other two hotels in the target city (Shenzhen). Specifically, the number of decision trees in the RF algorithm is set 

to 80, and the out‐of‐bag rate is equal to 0.5. In the KTSR model, the learning rate (α) has been set to 0.001, and 

the ranges of the similar land‐patch number γ and penalty rate μ are set to [0, 20] and [0.0, 1.0], respectively. The 
KTSR model is adjusted in steps of Δ𝛾 = 1 and Δ𝜇 = 0.1, and we calculate the average estimated accuracy of the 

model under all combinations of similar land‐patch numbers (γ) and penalty rates (μ).

Table 2 demonstrates the average accuracy of the estimated customer rating scores via different models. The 

model with the highest estimation accuracy is the RF‐based Guangzhou intra‐city and Shenzhen intra‐city regression 
model (R2 > 0.8, RMSE < 1.5), while the accuracy of the LR‐based model is rather low, which illustrates two issues: first, 

the geographical and commercial features selected in this study are effective for the site recommendation; second, 

even by reducing the dimensionality with the PCA, these features are still strongly correlated. Linear regression is not 

able to reveal the correlation problem in high‐dimensional features, which results in low estimation accuracy. As the 

best machine learning‐based regression model, RF can address well the strong correlation problem of high‐dimen‐

sional variables (Fernández‐Delgado, Cernadas, Barro, & Amorim, 2014). Also, the accuracy of the proposed KTSR 
model (R2 > 0.6, RMSE < 1.6) is slightly lower than that of the RF‐based regression model, which reveals that the KTSR 

is effective for intra‐city site‐selection modeling, and its accuracy approaches that of the nonlinear regression model.

As  for  the  cross‐city  (GZ2SZ)  user  rating  estimation  results,  the  proposed  KTSR  model  obtains  the  highest 
estimation accuracy (R2 > 0.6, RMSE < 1.6). We can observe that the accuracies of the LR and RF‐based inter‐city 
regression models are both very low (R2 < 0.05, RMSE > 3.0). Even if the data of the target city are added to the 

model, such as LR_GZ&SZ2SZ and TF_GZ&SZ2SZ, a robust regression model cannot be obtained. The main reason 

is that there are huge differences in geographic features and consumer preferences among different cities. If the 

site‐selection model does not take into account the differences in residential behavior characteristics and urban 

function patterns that exist between cities, then simply applying the socioeconomic model of the source city to ad‐

dress the spatially related issues of the target city cannot obtain a reasonable result. The proposed KT‐based inter‐

city site‐selection model maps the common business model of the source and target cities at the land‐parcel scale 

into  mathematical  space  vectors.  By  multiplying  space  vectors  with  socioeconomic  features  of  the  land  parcel, 

accurate customer rating score estimations are obtained, providing a reliable reference for the location selection.

Figures 5 and 6 display the estimated customer rating scores of 7‐Days Inn, Home Inn, and Hanting Inn via 

the KTSR model at the land‐parcel level in Guangzhou and Shenzhen. Overall, the KTSR model assigns a different 

user evaluation score to each land parcel, which provides a reference for site selection. Some very interesting 

phenomena can be found in the details.

1.  Areas  where  people  or  tourists  are  more  concentrated,  such  as  colleges  and  universities  [Figure  5  (#2) 

and  Figure  6  (#1)]  and  well‐known  tourist  attractions  [Figure  5  (#1)  and  Figure  6  (#2)],  are  basically  the 

most  ideal  sites  for  all  chain  hotels,  reflecting  the  common  preference  for  chain  hotel  site  selecting.

2.  The site selection of chain hotels also needs to consider economic factors, such as house prices, fully. Figure 5 

(#5) shows that higher site‐selection suitability appears in the center of Panyu District, where house prices are 

relatively low. Figure 6 (#3) shows poor site‐selection suitability in the center of Shenzhen, which has extremely 
high house prices (>80,000 RMB yuan/m2). Although passenger flow for Shenzhen's center is relatively high, the 

site‐selection suitability stays relatively low compared to other regions.

3.  The estimated result shows that site‐selection decision‐making is affected greatly by the enterprise's business 

model and its target customer group. From Figures 5 and 6, we can see that the suitability of Hanting Inn in the 

city village [Figure 5 (#4)] is lower than that of the others, while its suitability value near the park [Figure 6 (#5)] 

is higher. Based on the description from official websites, Hanting Inn is more inclined to run its business in areas 

where traffic is convenient and security is guaranteed, which explains its estimated suitability distribution with 

respect to city village and park.

Figures 7 and 8 demonstrate the estimated error during the SVD process when obtaining rating scores in each 

land parcel. Except for a few regions, the estimated RMSE for the land parcels in the study area is within 2.0. In 

YAO et Al.    |  1039

F I G U R E   5  Estimated user rating scores for (a) 7‐Days Inn, (b) Home Inn, and (c) Hanting Inn at the land‐parcel 
scale in the main urban areas of Guangzhou. Among them, area (#1) is the sports center of Guangzhou, (#2) is 
Sun Yat‐sen University, (#3) is Wanda Plaza near the Guangzhou railway station, (#4) is an urban village named 
Chebei, and (#5) is the downtown center of the Panyu District

GZ–GZ intra‐city transfer cases, the land parcel of Baiyun Airport has an RMSE value over 5.0. As Baiyun Airport 

is the only airport in Guangzhou, such a result is reasonable since no similar functional plots could be found for 

site‐selection references in this case. Besides, it is worth noting that the RMSE of Nanshan District's coastal area 

reached 2.0–2.5. On the one hand, this is because of the lack of chain hotel rating data; on the other hand, as an 

inland city, Guangzhou lacks land parcels with similar functional structures and crowd activity characteristics.

4.2 | The relationship between the transfer matrix and urban land use

In this study, we chose the operating characteristics of Hanting Inn for clustering as an example. The best cluster‐

ing results (silhouette value = 0.780) divided the land parcels into five categories. Figure 9 and Table 3 show the 

clustering results and enhancement factors of various POIs in land parcels, respectively.

The results indicate that the chain hotels correlate strongly with brand operating characteristics and urban 

functional structures. From Table 3, Classes 1 and 5 are mainly composed of government agencies, educational fa‐

cilities, and residential communities. The land functions of Class 2 are mainly green spaces and scenic areas; areas 

YAO et Al.1040  |    

F I G U R E   6  Estimated user rating scores for (a) 7‐Days Inn, (b) Home Inn, and (c) Hanting Inn at the land‐parcel 
scale in the main urban areas of Shenzhen. Among them, area (#1) is Shenzhen University, (#2) is a mangrove 
ecotourism area near the beach, (#3) is the citizen center of Futian District, (#4) is the Meilin shopping center, 
and (#5) is the flower expo park

with high crowd mobility, such as airports and amusement parks, are also in this category. The crowd activities 

within the land parcel marked as Class 3 are relatively sparse; by comparing with RS images, we characterize this 

category with construction sites and factories.

Many mountain and scenic POIs are found within Class 4, which indicates that this class mainly contains parks 

and leisure areas inside the city. From these results, the regional functions of the city affect the business model 

and economic behavior of the same hotel brand. These results confirm the socioeconomic hypothesis that the 

business model and behavior of the hotel derive from the internal economic activities of the city, and their quanti‐

fications can reflect the internal functional structure of the city effectively (Myint, 2008; Zhou, Lin, & Yan, 2008).

5 |  D I S CU S S I O N

How to select site locations to obtain maximum commercial profit has always been a hot topic of interest to both 

GIS academia and business. This study aims to tackle the spatial heterogeneity problem for intra‐ and inter‐city 

YAO et Al.    |  1041

F I G U R E   7  Estimated error distribution of user rating scores at the land‐parcel scale in Guangzhou

commercial site recommendations at the land‐parcel level. Based on the idea of knowledge transfer, the proposed 

KTSR model carried out the transmission of intra‐ and inter‐city brand operation characteristics successfully, and 

obtained high‐accuracy site‐selection suitability results in Guangzhou and Shenzhen for three chain hotel brands 
(R2 > 0.6, RMSE < 1.6).

As an intra‐city site‐recommendation model, the KTSR model can achieve the accuracy of the nonlinear re‐

gression model (RF‐based fitting model). As an inter‐city location model, by introducing the idea of knowledge 
transfer, the model can obtain much higher accuracy than traditional location‐recommendation models, with R2 

increasing from 0.01 to over 0.65, which illustrates that the conventional regression models lack consideration of 

YAO et Al.1042  |    

F I G U R E   8  Estimated error distribution of user rating scores at the land‐parcel scale in Shenzhen

F I G U R E   9  Land parcel‐scale clustering results of the brand operating features

the spatial heterogeneity issues between cities. The proposed KTSR model can extract the transfer information 

effectively for site selection, and the deviation calculated in the model expresses the spatial heterogeneity be‐

tween cities.

YAO et Al.    |  1043

i

‐
n
a
t
r
e
t
n
e

 
,

T
N
E

 
;

n
o
i
t
a
t
o
n
n
a
 
n
o
i
t
a
c
o

l
 
,

C
O
L

 
;
s
e
c
i

v
r
e
s
 

e
f
i
l
 
,

F

I
L

 
;

n
o
i
t
a
c
u
d
e

 
,

U
D
E

 
;
y
t
i
l
i
c
a
f
 
l

a
c
i
n

i
l

c
 
,

F
L
C

 
;

n
o
i
t
a
r
o
p
r
o
c
 
,

R
O
C

 
;
t
n
e
m
n
r
e
v
o
g

 
,

V
O
G

 
;
k
r
a
m
d
n
a

l
 

e
v

i
t
a
r
t
s
i
n
m
d
a
 
,

i

L
D
A

 
:
I

O
P
 
f
o
 
s
e
p
y
T

 
;
g
n
d

i

l
i

u
b
 
s
s
e
n
i
s
u
b

 
,

B
U
B

 
;
l

e
t
o
h

 
,

T
O
H

 
;

e
c
i

v
r
e
s
 
e

l
i

b
o
m
o
t
u
a
 
,

S
M
A

 
;

d
a
o
r
 
,

D
O
R

 
;
y
r
t
s
u
d
n

i
 
l

a

i
c
n
a
n

i
f
 
,
I
I

F

 
;
y
t
i
n
u
m
m
o
c
 
l

a

i
t
n
e
d
i
s
e
r
 
,

C
S
R

i

 
;
g
n
p
p
o
h
s
 
,

P
H
S

 
;
y
t
i
l
i
c
a
f
 
c
i
f
f
a
r
t
 
,

A
R
T

 
;
g
n
i
r
e
t
a
c
 
,

T
A
C

 
;
t
n
e
m

i

.
s
n
a
t
n
u
o
m

 
l

a
r
u
t
a
n

 
,

U
O
M

 
;

e
c
a
p
s
 
n
e
e
r
g

 
,

E
R
G

 
;
t
o
p
s
 
c
i
n
e
c
s
 
,

E
C
S

s
e
s
s
a

l

l

c
 
g
n
i
r
e
t
s
u
c
 
t
n
e
r
e
f
f
i
d
n

 

i
 
s
I
O
P
 
f
o
 
s
r
o
t
c
a
f
 
t
n
e
m
h
c
i
r
n
E
 
3

 

E
L
B
A
T

YAO et Al.1044  |    

From  the  perspective  of  urban  geography,  on  the  one  hand,  the  site‐selection  suitability  results  (Figure  6) 

obtained with the proposed KTSR model reflect well the commonality and brand positioning of different brand 

chain  hotels  in  different  cities.  The  results  also  reflect  the  balance  between  population  activity  densities  and 

urban house prices. The extent of the impact of these on site selection, however, has not been quantified, which is 

a topic worthy of further exploration. On the other hand, the results demonstrate that the brand operating char‐

acteristics of each chain hotel have a strong correlation with urban land‐use patterns, which was not discovered 

by previous research (Cuo et al., 2018). These results (Figure 9 and Table 3) quantify the characteristics of internal 

social and economic activities in the city and provide a quantitative research method for the analysis of an urban 

business and economy model in future studies.

There are still several limitations to this study. We aim to verify the effectiveness of the KTSR model for intra‐ 

and inter‐city site selection and select several feature sets that can reflect geographical and commercial charac‐

teristics. Although our results have demonstrated the effectiveness of this feature set, business activities are far 

more complex, and many factors need to be taken into consideration. In the actual operation of shop‐location 

selection, local planning policies, store visibility (e.g. on the street or in shopping malls), and other factors are also 

vital. This study provides a site‐selection recommendation method. In future work, we will introduce and quantify 

the factors mentioned earlier based on the results of this research to provide a more accurate location selection 

plan. Besides, how to quantify the impact of various spatial factors on the suitability of shop site selection is of 

great practical interest. We will introduce global sensitivity analysis (Homma & Saltelli, 1996; Sudret, 2008) for 

space‐driven factor analysis of site‐selection suitability, to provide more accurate and reliable reference recom‐

mendations for businesses.

Cities  are  complex  systems,  and  vast  differences  exist  among  the  functional  structures,  social  economics, 

and crowd activities of different cities (Yao et al., 2017). For example, during the process of intra‐ and inter‐city 

transfer with the KTSR model, abnormal plots would be derived due to the lack of prior knowledge (e.g. Baiyun 

Airport in Guangzhou and the coastal area of Shenzhen). To solve this problem, collecting data from multiple cit‐

ies to form a site‐selection database will be necessary. By building a multi‐city KTSR model, we can obtain more 

accurate target site selections for the target city. With sufficient data, the method proposed in this study can not 

only estimate the scores of chain brand hotels, but also predict the customer flows and sales of locations where 

shops will be located.

6 |  CO N C LU S I O N S

Differences in physical geography and human economic attributes among cities and regions lead to spatial het‐

erogeneities within and between megacities. These spatial heterogeneities can lead to inaccuracies in the results 

of  traditional  location‐selection  models  based  on  regression  algorithms.  Aimed  at  this  problem,  the  proposed 

KTSR  model  considers  and  explores:  (a)  the  spatial  heterogeneity  between  cities  or  regions;  and  (b)  the  brand 

characteristics of chain stores, for knowledge transfer. With user rating scores as the fitting target, the proposed 

KTSR model outperforms the traditional location‐recommendation models. The study also found that there is a 

connection between the brand identity matrix of chain stores and urban land use, which is a meaningful result and 

can be used as a basis for understanding the correlation between urban commercial and functional structures.

In future research, we will consider the following aspects: (a) adding more local factors to optimize the KTSR 

model; (b) analyzing the correlation between the site suitability of various shops and the spatial variables, and 

finding the corresponding driving factors; and (c) considering more diverse urban land‐use patterns, and building 

a  location–shop–sales  dataset  with  real  sales  data  to  train  the  KTSR  model  used  in  real‐world  applications.  In 

summary, in a new retail era, the KTSR model can help internet companies promote their O2O services by recom‐

mending precise offline store locations, as well as building feasible commercial appraisal models for their offline 

business.

YAO et Al.    |  1045

Yao Yao 

 https://orcid.org/0000‐0002‐2830‐0377 

O R C I D

R E F E R E N C E S

Bai, X., Shi, P., & Liu, Y. (2014). Society: Realizing China's urban dream. Nature News, 509(7499), 158–160.
Biau, G. E. R. (2012). Analysis of a random forests model. Journal of Machine Learning Research, 13(1), 1063–1095.
Bobadilla, J., Ortega, F., Hernando, A., & Bernal, J. (2012). A collaborative filtering approach to mitigate the new user cold 

start problem. Knowledge‐Based Systems, 26, 225–238.

Breiman, L. (2001). Random forests. Machine Learning, 45(1), 5–32.
Campello, R. J. G. B., & Hruschka, E. R. (2006). A fuzzy extension of the silhouette width criterion for cluster analysis. 

Fuzzy Sets & Systems, 157(21), 2858–2875.

Chang, P. Y., & Lin, H. Y. (2015). Manufacturing plant location selection in logistics network using analytic hierarchy pro‐

cess. Journal of Industrial Engineering & Management, 8(5), 1547–1575.

Chen,  J.,  Chang,  K.‐T.,  Karacsonyi,  D.,  &  Zhang,  X.  (2014).  Comparing  urban  land  expansion  and  its  driving  factors  in 

Shenzhen and Dongguan, China. Habitat International, 43, 61–71.

Chen, Y., Li, X., Liu, X., & Ai, B. (2014). Modeling urban land‐use dynamics in a fast developing city using the modified 
logistic cellular automaton with a patch‐based simulation strategy. International Journal of Geographical Information 
Science, 28(2), 234–255.

Chen, Y., Liu, X., Li, X., Liu, X., Yao, Y., Hu, G., … Pei, F. (2017). Delineating urban functional areas with building‐level social 
media  data:  A  dynamic  time  warping  (DTW)  distance  based  k‐medoids  method.  Landscape  &  Urban  Planning,  160, 
48–60.

Cuo, B., Li, J., Zheng, V. W., Wang, Z., & Yu, Z. (2018). CityTransfer: Transferring inter‐ and intra‐city knowledge for chain 
store site recommendation based on multi‐source urban data. Proceedings of the ACM on Interactive, Mobile, Wearable 
& Ubiquitous Technologies, 1(4), 135.

Ellison, G., & Ellison, S. F. (2006). Internet retail demand: Taxes, geography, and online–offline competition (NBER Working 

Paper No. 12242). Cambridge, MA: National Bureau for Economic Research.

Eravci, B., Bulut, N., Etemoglu, C., & Ferhatosmanoğlu, H. (2016). Location recommendations for new businesses using 
check‐in  data.  In  Proceedings  of  the  16th  IEEE  International  Conference  on  Data  Mining  Workshops  (pp.  1110–1117). 
Barcelona, Spain: IEEE.

Fan,  C.  C.  (2001).  Migration  and  labor‐market  returns  in  urban  China:  Results  from  a  recent  survey  in  Guangzhou. 

Environment & Planning A, 33(3), 479–508.

Fang, C., Song, J., & Zhang, Q. (2005). The formation, development and spatial heterogeneity patterns for the structures 

system of urban agglomerations in China. Acta Geographica Sinica, 60(5), 827.

Fang, Q., Xu, C., Shamim Hossain, M., & Muhammad, G. (2016). STCAPLRS: A spatial–temporal context‐aware personal‐

ized location recommendation system. ACM Transactions on Intelligent Systems & Technology, 7(4), 59.

Feng, J., Wu, F., & Logan, J. (2008). From homogenous to heterogeneous: The transformation of Beijing's socio‐spatial 

structure. Built Environment, 34(4), 482–498.

Fernández‐Delgado, M., Cernadas, E., Barro, S., & Amorim, D. (2014). Do we need hundreds of classifiers to solve real 

world classification problems. Journal of Machine Learning Research, 15(1), 3133–3181.

Homma,  T.,  &  Saltelli,  A.  (1996).  Importance  measures  in  global  sensitivity  analysis  of  non‐linear  models.  Reliability 

Hong, L., & Zhang, X. (2011). Study on location selection of multi‐objective emergency logistics center based on AHP. 

Engineering & System Safety, 52(1), 1–17.

Procedia Engineering, 15, 2128–2132.

Jensen, P. (2006). Network‐based predictions of retail store commercial categories and optimal locations. Physical Review 

E: Statistical, Nonlinear & Soft Matter Physics, 74(2), 35101.

Jiang,  B.,  &  Yao,  X.  (Eds.).  (2010).  Geospatial  analysis  and  modelling  of  urban  structure  and  dynamics.  Berlin,  Germany: 

Springer.

Karamshuk, D., Noulas, A., Scellato, S., Nicosia, V., & Mascolo, C. (2013). Geo‐spotting: Mining online location‐based ser‐
vices for optimal retail store placement. In Proceedings of the 19th ACM SIGKDD International Conference on Knowledge 
Discovery and Data Mining (pp. 793–801). Chicago, IL: ACM.

Konstan, J. A., Miller, B. N., Maltz, D., Herlocker, J. L., Gordon, L. R., & Riedl, J. (1997). GroupLens: Applying collaborative 

filtering to Usenet news. Communications of the ACM, 40(3), 77–87.

Kotthaus, S., & Grimmond, C. S. B. (2014). Energy exchange in a dense urban environment: Part II, Impact of spatial het‐

erogeneity of the surface. Urban Climate, 10, 281–307.

YAO et Al.1046  |    

Kuntz, M., & Helbich, M. (2014). Geostatistical mapping of real estate prices: An empirical comparison of kriging and cokriging. 

London, UK: Taylor & Francis.

Li, H., Peng, J., Yanxu, L., & Yi'na, H. (2017). Urbanization impact on landscape patterns in Beijing City, China: A spatial 

heterogeneity perspective. Ecological Indicators, 82, 50–60.

Li, L., Xing, X., Xia, H., & Huang, X. (2016). Entropy‐weighted instance matching between different sourcing points of 

interest. Entropy, 18(2), 45.

Li, N., Guo, B., Liu, Y., Jing, Y., Ouyang, Y., & Yu, Z. (2018). Commercial site recommendation based on neural collaborative 
filtering. In Proceedings of the 2018 ACM International Joint Conference and 2018 International Symposium on Pervasive 
and Ubiquitous Computing and Wearable Computers (pp. 138–141). Singapore: ACM.

Lian, D., Ge, Y., Zhang, F., Yuan, N. J., Xie, X., Zhou, T., & Rui, Y. (2015). Content‐aware collaborative filtering for location 
recommendation  based  on  human  mobility  data.  In  Proceedings  of  the  2015  IEEE  International  Conference  on  Data 
Mining (pp. 261–270). Atlantic City, NJ: IEEE.

Liao,  B.,  Xiao,  S.  Z.,  &  Huan‐Zhang,  L.  U.  (2007).  Interest  points  detection  based  on  weighted  local  entropy.  Laser  & 

Lin, H. L., Li, H. Y., & Yang, C. H. (2011). Agglomeration and productivity: Firm‐level evidence from China's textile industry. 

Infrared, 4.

China Economic Review, 22(3), 313–329.

Liu, X., He, J., Yao, Y., Zhang, J., Liang, H., Wang, H., & Hong, Y. (2017). Classifying urban land use by integrating remote 

sensing and social media data. International Journal of Geographical Information Science, 31(8), 1675–1696.

Liu, Y., Liu, X., Gao, S., Gong, L., Kang, C., Zhi, Y., … Shi, L. (2015). Social sensing: A new approach to understanding our 

socioeconomic environments. Annals of the Association of American Geographers, 105(3), 512–530.

Ma, J., & Bureau, Z. F. (2017). Analysis on the operation model of traditional entity retail under the Internet background 

Ma, L. J. (2005). Urban administrative restructuring, changing scale relations and local economic development in China. 

Myint, S. W. (2008). An exploration of spatial dispersion, pattern, and association of socio‐economic functional units in 

in China. Innovation Science & Technology, 4. 

Political Geography, 24(4), 477–497.

an urban system. Applied Geography, 28(3), 168–188.

International Planning Studies, 4(1), 7–27.

Ng, M. K., & Tang, W. S. (1999). Land‐use planning in ‘one country, two systems’: Hong Kong, Guangzhou and Shenzhen. 

Palczewska, A., Palczewski, J., Robinson, R. M., & Neaguet, D. (2014). Interpreting random forest classification models 
using a feature contribution method. In T. Bouabana‐Tebibel & S. H. Rubin (Eds.), Integration of reusable systems (pp. 
193–218). Berlin, Germany: Springer.

Pan, G. Q., & Yang, J. Q. (2009). Research on the route selection and station site selection of Guangzhou–Shenzhen–Hong 

Kong passenger dedicated line in Shenzhen downtown area. Journal of Railway Engineering Society, 23(4).

Pan, S. J., & Yang, Q. (2010). A survey on transfer learning. IEEE Transactions on Knowledge & Data Engineering, 22(10), 

1345–1359.

Pearson, J. K. (2007). A comparative business site‐location feasibility analysis using geographic information systems and the 

gravity model. Retrieved from http://www.gis.smumn.edu/grad‐proje cts/pears onj.pdf

Pearson, R. G. (1969). Hard and soft acids and bases. Survey of Progress in Chemistry, 5(22), 1–52.
Qu, H.‐Y., Yu, Z.‐W., Tian, M., & Guo, B. (2015). Research and implementation of commercial site recommendation system 

based on LBSN. Computer Science, 9, 33–36.

Rodrigues, F., Pereira, F. C., & Oliveira Alves, A. (2012). Automatic classification of points‐of‐interest for land‐use analysis. 
In  Proceedings  of  the  Fourth  International  Conference  on  Advanced  Geographic  Information  Systems,  Applications,  and 
Services (pp. 41–49). Valencia, Spain.

Roig‐Tierno, N., Baviera‐PuigJuan, A., Buitrago‐Vera, J., & Mas Verdúet, F. (2013). The retail site location decision process 

using GIS and the analytical hierarchy process. Applied Geography, 40(2), 191–198.

Shakhsi‐Niaei, M., Torabi, S. A., & Iranmanesh, S. H. (2011). A comprehensive framework for project selection problem under 

uncertainty and real‐world constraints. Oxford, UK: Pergamon.

Shwartz, A., Shirley, S., & Kark, S. (2008). How do habitat variability and management regime shape the spatial heteroge‐

neity of birds within a large Mediterranean urban park? Landscape & Urban Planning, 84(3–4), 219–229.

Singh,  D.,  Bansal,  M.,  &  Kaur,  N.  (2012).  Internet  retailing:  New  era  of  marketing.  International  Journal  of  Marketing  & 

Technology, 2(3), 154–169.

93(7), 964–979.

Sudret, B. (2008). Global sensitivity analysis using polynomial chaos expansions. Reliability Engineering & System Safety, 

Sui, D. Z., & Zeng, H. (2001). Modeling the dynamics of landscape structure in Asia's emerging desakota regions: A case 

study in Shenzhen. Landscape & Urban Planning, 53(1), 37–52.

Terrell, G. R., & Scott, D. W. (1992). Variable kernel density estimation. Annals of Statistics, 20(3), 1236–1265.

YAO et Al.    |  1047

Verburg, P. H., de Nijs, T. C. M., van Eck, J. R., Visser, H., & de Jong, K. (2004). A method to analyse neighbourhood char‐

acteristics of land use patterns. Computers, Environment & Urban Systems, 28(6), 667–690.

Wang, C. C., Lin, G. C., & Li, G. (2010). Industrial clustering and technological innovation in China: New evidence from the 

ICT industry in Shenzhen. Environment & Planning A, 42(8), 1987–2010.

Wang, S., Chen, Z.‐N., & Huang, F.‐F. (2015). Spatial pattern and location choice of chain supermarkets in Guangzhou. 

Economic Geography, 2015(11), 85–93.

Wei,  Y.,  Zheng,  Y.,  &  Yang,  Q.  (2016).  Transfer  knowledge  between  cities.  In  Proceedings  of  the  22nd  ACM  SIGKDD 

International Conference on Knowledge Discovery and Data Mining (pp. 1905–1914). San Francisco, CA: ACM.

Xiang, Z., Du, Q., Ma, Y., & Fan, W. (2017). A comparative analysis of major online review platforms: Implications for social 

media analytics in hospitality and tourism. Tourism Management, 58, 51–65.

Xie, K. L., Zhang, Z., & Zhang, Z. (2014). The business value of online consumer reviews and management response to 

hotel performance. International Journal of Hospitality Management, 43, 1–12.

Yao, Y., Li, X., Liu, X., Liu, P., Liang, Z., Zhang, J., & Mai, K. (2016). Sensing spatial distribution of urban land use by integrat‐
ing points‐of‐interest and Google Word2Vec model. International Journal of Geographical Information Science, 31(4), 
825–848.

Yao, Y., Liu, X., Li, X., Zhang, J., Liang, Z., Mai, K., & Zhang, Y. (2017). Mapping fine‐scale population distributions at the 
building level by integrating multisource geospatial big data. International Journal of Geographical Information Science, 
31(6), 1220–1244.

Yıldırım,  B.  F.,  &  Önder,  E.  (2014).  Evaluating  potential  freight  villages  in  Istanbul  using  multi  criteria  decision  making 

techniques. Journal of Logistics Management, 3(1), 1–10.

Yu, Z., Zhang, D., & Yang, D. (2014). Where is the largest market? Ranking areas by popularity from location based so‐
cial  networks.  In  Proceedings of the 10th International IEEE Conference on Ubiquitous Intelligence and Computing and 
International Conference on Autonomic and Trusted Computing (pp. 157–162). Vietri sul Mare, Italy: IEEE.

Yuan, J., Zheng, Y., & Xie, X. (2012). Discovering regions of different functions in a city using human mobility and POIs. 
In Proceedings of the 18th SIGKDD Conference on Knowledge Discovery and Data Mining (pp. 186–194). Beijing, China: 
ACM.

Zafarani, R., Abbasi, M. A., & Liu, H. (2014). Social media mining: An introduction. Cambridge, UK: Cambridge University 

Press.

Zhai, S. X., Xu, X.‐L., Yang, L.‐R., Zhou, M., Zhang, L., & Qiu, B.‐K. (2015). Mapping the popularity of urban restaurants 

using social media data. Applied Geography, 63, 113–120.

Zhang, N., Chen, H., & Chen, X. (2017). Transfer learning for urban computing: A case study for optimal retail store place‐

ment. In Proceedings of the Fourth International Workshop on Urban Computing. Sydney, Australia: ACM.

Zheng, V. W., Cao, B., Zheng, Y., Xie, X., & Yang, Q. (2010). Collaborative filtering meets mobile recommendation: A user‐

centered approach. In Proceedings of the 24th AAAI Conference on Artificial Intelligence. Atlanta, GA: AAAI.

Zheng, X., Du, Q., Ma, Y., & Fan, W. (2017). A comparative analysis of major online review platforms: Implications for 

social media analytics in hospitality and tourism. Tourism Management, 58, 51–65.

Zheng, Y., Capra, L., Wolfson, O., & Yang, H. (2014). Urban computing: Concepts, methodologies, and applications. ACM 

Transactions on Intelligent Systems & Technology, 5(3), 38.

Zhou, S., Lin, G., & Yan, X. (2008). The relationship among consumer's travel behavior, urban commercial and residential 

spatial structure in Guangzhou, China. Acta Geographica Sinica, 63(4), 395–404.

Zhou, T., Yang, J., & Lu, Y. (2013). Residential land use in urban fringes of China: Spatial heterogeneity and readjustment 

Zhou, W., Pickett, S. T. A., & Cadenasso, M. L. (2016). Shifting concepts of urban spatial heterogeneity and their implica‐

mode. Advanced Science Letters, 19(4), 1202–1205.

tions for sustainability. Landscape Ecology, 32(1), 15–30.

Zhou, X. Y., Wang, Y. R., & Liu, Z. F. (2005). Research on the integrated analysis method of logistics center location. In 
Proceedings of the International Conference on Industrial Engineering and Engineering Management. St. John's, Canada: 
IEEE.

How to cite this article: Yao Y, Liu P, Hong Y, et al. Fine‐scale intra‐ and inter‐city commercial store site 

recommendations using knowledge transfer. Transactions in GIS. 2019;23:1029–1047. 

https ://doi.org/10.1111/tgis.12553 

YAO et Al.