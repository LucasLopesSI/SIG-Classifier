bs_bs_banner

Research Article

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129)): (cid:129)(cid:129)–(cid:129)(cid:129)

VGI and Reference Data Correspondence Based on
Location-Orientation Rotary Descriptor and
Segment Matching

Nazila Mohammadi and Mohammadreza Malek

K.N. Toosi University of Technology

Abstract
Volunteered geographic information (VGI) is spatial data that has been contributed by numerous volun-
teers in the form of user-generated content. VGI provides the ability for non-experts to collect and share
geographic information. Comparison of a VGI dataset with a reference dataset in order to ﬁnd data cor-
respondence is a common process in some analyses of VGI data, such as quantitative analysis of its
quality. This study addresses this case and presents an automated feature matching method for VGI linear
data. The proposed method consists of two main steps. In the ﬁrst step, a feature point matching method
based on a novel descriptor, named Location-Orientation Rotary Descriptor (LORD), is performed. The
proposed LORD descriptor uses the location and orientation information of the linear data in a log polar
structure and in a rotary manner. In the second step, a new segment matching strategy based on the buff-
ered linear features is performed to reject the outliers of the previous step. The usefulness of the proposed
method was demonstrated by applying it to the OpenStreetMap (OSM) dataset, as a VGI dataset, using
an ofﬁcial reference dataset.

1 Introduction

Volunteered Geographic Information (VGI) as one of the non-expert participatory projects
was introduced by Goodchild (2007). VGI is a wiki-based voluntary activity (Coleman et al.
2009) where each individual acts as a sensor, collects the geographic data and sends them to a
central server (Goodchild 2007). This phenomenon has a signiﬁcant effect on geographic data
production and sharing because individuals can act as both data producers and users (Elwood
2008). In recent years there has been growing interest in the area of different aspects of VGI;
for example, VGI theoretical data quality issues (Flanagin and Metzger 2008; Goodchild and
Li 2012), assessment methods to estimate VGI quality (Keßler and de Groot 2013; Barron et
al. 2014), analysis of VGI data (Mooney and Corcoran 2012, 2013), and VGI applications
(Pultar et al. 2009; Hagenauer and Helbich 2012; Senaratne et al. 2013).

Comparison between VGI data and a reference data source is an essential process that has
been performed in a considerable number of previous research projects. Several studies have
focused on quantitative analysis of user-generated data quality by comparing VGI with a
highly accurate datasets in selected areas. Haklay (2010) compared OpenStreetMap (OSM), as
VGI data, to Ordnance Survey datasets, as a reference data source, to analyze the quality of
OSM information for England. Similarly, Girres and Touya (2010) studied VGI in France by
comparing OSM with datasets from the French national mapping agency. Other similar

Address for correspondence: Nazila Mohammadi, Department of Geographic Information Systems, Faculty of Geodesy and Geomatics
Engineering, K.N. Toosi University of Technology, No 1346, Mirdamad Cross, Valiasr Street, Tehran, Iran 19967-15433. E-mail
nazila.mohamadi@gmail.com

© 2014 John Wiley & Sons Ltd

doi: 10.1111/tgis.12116

2 N Mohammadi and M Malek

empirical quality evaluations using data comparison have been carried out for various datasets
in the UK (Ather 2009), Germany (Zielstra and Zipf 2010; Neis et al. 2012), Ireland (Ciepłuch
et al. 2010), and Greece (Kounadi 2009).

Besides VGI quality assessment, comparisons of VGI and a reference dataset were
applied in some research on other aspects of user-generated datasets. Haklay et al. (2010)
used the data comparison to investigate the relationship between the number of contributors
to OSM and data accuracy against a reference dataset. Zielstra et al. (2013) compared the
OSM and a reference data since its initial import into OSM to assess its developments over
time and the effect of data imports on the completeness of OSM. Moreover, comparisons
of VGI and a reference data were used to evaluate analysis methods in some cases.
For example Graser et al. (2014) compared OSM and the ofﬁcial Austrian reference graph
in the greater Vienna region to demonstrate the use of their presented quality analysis
toolbox.

Despite the necessity of using a comparison process for VGI and reference datasets
in many research projects, this process is performed manually or semi-manually in almost all
cases. It is a time-consuming approach and hinders the repetition of the method when
sources are different or updated and may restrict the examined area (Koukoletsos et al.
2012).

There are a number of vector matching methods that are used to ﬁnd the correspondence
of two different ofﬁcial maps (Walter and Fritsch 1999; Dunkars 2003; Safra et al. 2010). For
example Xiong (2000) proposed a method for network matching of two datasets based on
topological relationships. This method uses bottom-up and top-down sub-processes to
improve matching accuracy. Doytsher et al. (2001) investigated point- and line-based matching
methods and presented a line-based transformation algorithm as part of a line-based map con-
ﬂation algorithm using geometrical and topological constraints. Walter and Fritsch (1999) pro-
posed an automated method for integration of different linear spatial datasets based on
geometrical constraints and relied on statistical analysis. Mustière and Devogele (2008) pro-
posed a global matching method to match networks with different levels of detail. It relies on
the comparison of geometrical, attribute, and topological properties of objects. These common
approaches in ofﬁcial datasets are not efﬁcient for user-generated dataset because of the
varying data accuracy, inherent heterogeneity, complexity and inconsistency of user-generated
dataset (Koukoletsos et al. 2012).

Recently a number of automated procedures have been proposed to overcome this restric-
tion in VGI. Ludwig et al. (2011) presented an automated matching mechanism to compare
OSM street data with Navteq in Germany. Their matching method is based on a rank, which
considers similarity in lengths, names, and categories of streets. They showed that approxi-
mately 60% of the matches have similar names and lengths in a 10 m buffer. Another match-
ing method is proposed by Koukoletsos et al. (2012) to investigate the completeness of OSM
in the UK. They introduced a feature-based matching method based on a multi-stage
approach. It matches streets via a combination of geometric and attribute constraints, using
distance, direction and length along with road name and street type attributes. The two last
articles use street name attribute similarity based on the difference of letters. They assumed
that street names are the effective matching criteria of the streets. In such cases the success of
matching becomes dependent on attribute completeness and accuracy. Attribute incomplete-
ness or any uncertainties of such data affect the matching results.

There are various local feature detectors and descriptors that are commonly used to match
images (Mikolajczyk et al. 2005; Li and Allinson 2008). The most prominent methods are
scale-invariant feature transform (SIFT) (Lowe 2004), and Shape context (Belongie et al. 2002)

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

3

which has been shown to be invariant to image rotation and scale, and robust across a
substantial range of afﬁne distortion, presence of noise, and change in illumination. The
common image matching methods use gray scale image gradients to generate feature descrip-
tors and match them. Therefore, they cannot be directly applied to common user-generated
datasets.

In this article, a novel robust feature-matching method is presented to ﬁnd correspondence
between user-generated and reference datasets. In the ﬁrst step of the proposed method, a
novel local descriptor, called Location-Orientation Rotary Descriptor (LORD), is proposed for
reliable initial feature point matching between two datasets. The proposed descriptor is based
on the digitized linear data location and orientation in a log-polar structure. In the second
step, a new segment matching strategy based on the buffered linear feature comparison is
applied to outlier rejection. The proposed segment matching method is used to detect and
remove non-matched features remaining from the ﬁrst step. It does not use any feature attrib-
utes, and therefore is not inﬂuenced by attribute errors. The proposed method is applicable to
various user-generated and reference datasets with different levels of detail. It can effectively
ﬁnd the match between two datasets and thus provides the prerequisite for VGI quality
assessment.

The remainder of the article is organized as follows. Section 2 presents the details of the
proposed matching method. Section 3 introduces the study area, datasets, and implementation
details and discusses the results of the empirical analysis. Section 4 describes the study conclu-
sions and identiﬁes areas for future work.

2 Proposed Method

In this section an efﬁcient automatic matching approach between user-generated and reference
datasets is presented. The proposed method can be divided into two main steps, as illustrated
in Figure 1. In the ﬁrst step, a feature point matching process is performed for the initial

Figure 1 The main stages of the proposed method

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

4 N Mohammadi and M Malek

correspondence of the two datasets and removal of the general feature differences between
them. This process is automatically performed by a novel descriptor that is named the
location-orientation rotary descriptor, LORD descriptor. This descriptor is based on the linear
feature location and orientation around each feature point, and inspired from the well-known
shape-context descriptor (Belongie et al. 2002) and the SIFT descriptor (Lowe 2004). A dual
matching process is performed using correspondence and difference measures between feature
descriptors in two datasets. In this process, the most probable non-corresponding features of
two datasets are eliminated. In the second step, in order to remove the remaining non-matched
features, a dual segment matching process is performed based on a weighted buffered
linear data comparison. The details of the proposed method are presented in the following
sections.

2.1 Location-Orientation Rotary Descriptor (LORD)

A descriptor is computed on a local region around a feature point to characterize and compare
the features. Various methods for feature description and matching have been proposed
(Mikolajczyk et al. 2005; Mikolajczyk and Schmid 2005; Li and Allinson 2008; Brown et al.
2011). Among them, the most prominent methods are the scale-invariant feature transform
(SIFT) (Lowe 2004), and Shape context (Belongie et al. 2002).

The SIFT descriptor is a 3D histogram of image gradient locations and orientations,
image region into 16 (4 × 4) sub-regions,
which is computed by dividing the local
and extracting an 8D histogram of weighted gradient from each. Recently SIFT-based
methods have been applied in various applications in remote sensing and GIS such as image
matching (Sedaghat et al. 2011, 2012), change detection (Guo-Rong et al. 2011), and spatial
modeling (Lerma et al. 2012). The majority of the presented descriptors like SIFT are com-
puted on gray scale images and cannot be used for our application in this article.

Belongie et al. (2002) proposed the shape context descriptor to describe the edge distri-
bution in a local region. The shape context of each feature point is a coarse histogram,
which represents the relative positions of edge points to the reference point. A diagram of
log-polar histogram bins used to compute the shape contexts is shown in Figure 2a. As seen
in this ﬁgure, ﬁve bins for distance and 12 bins for angles are used. This descriptor is highly
robust to shape deformation and offers a globally discriminative characterization, which is
effective to solve shape matching problems (Lv and Wang 2012). Despite the outstanding
characteristics of the shape context descriptor, it does not consider the edge pixel orienta-
tions and is sensitive to boundary effects in the location and orientation quantization
process. This fact is shown in Figure 2b. If edge pixels with different orientations are located

Figure 2 Shape context descriptor: (a) Diagram of log-polar histogram bins; (b) edge pixels with dif-
ferent orientations located in a bin; and (c) edge pixels with small localization error

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

5

Figure 3 The proposed LORD descriptor structure

in a bin, the value of the bin is the same. Also, as shown in Figure 2c, if edge pixels have
small localization errors, they can simply lie in adjacent bins and have different values in the
In this section, a novel effective descriptor motivated by the shape-context
descriptor.
descriptor, called the LORD descriptor, is presented to address the problems of feature point
matching on vector datasets in GIS.

The proposed LORD descriptor is a 3D histogram of edge point locations and orienta-
tions and is generated in a rotary manner to increase its robustness to the rotation. The loca-
tion is quantized into (Nr − 1) × Ns + 1 bins using a log-polar coordinate system where Nr and
Ns are the number of distance and angle bins in a log-polar structure, respectively. The orien-
tation is also quantized into No bins. The resulting descriptor is a feature vector of dimension
nd = [(Nr − 1) × Ns + 1] × No. Figure 3 illustrates the LORD descriptor structure for Nr = 2,
Ns = 6 and No = 4, therefore the descriptor dimension is 28.

It is supposed that user-generated and reference datasets are in vector formats and they are
located in a single coordinate system and already have been reasonably aligned. So, the differ-
ences in positions of user-generated data in comparison with ofﬁcial data may occur because of
satellite imagery error and resolution, digitization errors in VGI, GPS receiver quality,
multipath or bad signal reception (Koukoletsos et al. 2012). In order to generate the descrip-
tors, the input linear vector data is converted to the raster format and the orientations of digi-
tized line features are computed. Vector to raster conversion is performed using the MATLAB
mapping toolbox (MathWorks, Inc., Natick, Massachusetts). As shown in Figure 4b, the result
of raster data extraction would be a binary edge map, where values of edge pixels are either 1
or 0, The orientation of each edge pixel is also computed based on the orientation of the
related linear feature in the vector data. The orientations of linear features are computed with
respect to y direction (up to down direction) and are between 0 and π (Figure 4c). In Figure 4c,
a color scheme indicates the orientations of line feature pixels.

The construction process of the proposed LORD descriptor is illustrated in Figure 5. First,
for each feature point a circular local region, with radius Ri, the location and orientation of
the pixels inside the local region are used for descriptor generation (Figures 5a-c). To assign a
weight to the location of each line pixel a Gaussian weighting function with σ is applied
(Figure 5d).
Reducing the effects of pixels far from the center of the local region is the main purpose of
using such a function. Finally, the pixel belonging to the local region contributes to the

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

6 N Mohammadi and M Malek

Figure 4 Raster data generation and orientation computation: (a) input vector data; (b) generated
raster dada; and (c) computed orientation image

descriptor histogram, depending on its location and orientation in the local region (Figure 5e).
In fact, each bin of the LORD descriptor is incremented by the related value of the weighted
pixels to generate a feature vector.

Common descriptors such as SIFT use a weight value based on distance between a pixel
location and a bin boundary to decrease the boundary effect in the location and orientation
quantization process of the descriptor computation. In other words, each entry into a bin is
multiplied by a weight of (1-d) for each dimension, where d is the distance of the sample from
the central value of the bin (Lowe 2004). Generally, density and distribution of features in a
local region of a vector dataset such as a user-generated dataset is very low in comparison with

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

7

Figure 5 Descriptor construction process: (a) Selected local region in vector data; (b) edge map; (c)
orientation map; (d) Gaussian weighting; and (e) LORD descriptor feature vector

Figure 6 The proposed quaternary LORD descriptor

a gray scale image. Therefore, the weighting process based on distance for a vector dataset sig-
niﬁcantly decreases the roles of the limited features in the local region and consequently
decreases the distinctiveness of the descriptor.

In our method, in order to avoid any boundary effects in the location and orientation
quantization process of the descriptor computation, four different descriptors are generated for
each feature point using a rotated binning pattern. For this purpose, the angle origin of the
both the log-polar structure and orientation histogram of each bin are rotated, therefore each
LORD descriptor is comprised of four separate sub-descriptors. This process prevents the
descriptor from changing abruptly as pixels move from one bin to the next. Figure 6 illustrates
the four sub-descriptor structures of the LORD descriptor.

Stacking the vectors of all the sub-descriptors associated with a local region, a 4 × nd

matrix called the LORD descriptor matrix (LM) would be formed as:

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

8 N Mohammadi and M Malek

[ ]
)
≡
j
LM d j
i

(

i

=
=

…
,
,
1
…
,
,
1

nd
4

≡

(cid:2)
d
(cid:2)
1
d
(cid:2)
2
d
(cid:2)
d

3

4

⎞
⎟
⎟
⎟
⎟
⎠

⎛
⎜
⎜
⎜
⎜
⎝

=

⎛
⎜
⎜
⎜
⎝

d
d
d
d

11

21

31

41

d
d
d
d

12

22

32

42

1

(cid:3) dd
(cid:3)
d
2
(cid:3)
d
(cid:3)
d

3

4

n

d

n

d

n

d

n

d

⎞
⎟
⎟
⎟
⎠

∈ ×
R n
4

d

where nd is the descriptor dimension.

The proposed quaternary LORD descriptor can deal with the errors caused by the line
pixels close to the borders of the descriptor. Figure 7 shows an example of the generated
LORD descriptors of two conjugate local regions of a reference dataset and user-generated
dataset. For corresponding selected local regions in Figures 7a and b, the computed quaternary
LORD descriptors are shown in Figures 7c and d, respectively. The comparison between
related sub-descriptors indicates large similarity between the fourth sub-descriptors, while
other sub-descriptors are not so similar to each other. Therefore, if two local regions really cor-
respond, at least one of the related sub-descriptors of the proposed quaternary LORD descrip-
tors will have large similarity.

The most important invariant property of the proposed method is its robustness against
the localization differences of the features in two paired local regions from two datasets (i.e.
reference and user-generated datasets). In fact, the location and orientation quantization
process of the proposed LORD descriptor in a rotary manner yields a descriptor that is not
affected by small localization errors caused by various error sources.

2.2 Dual Point Matching and Data Purifying

In this section, the proposed dual matching scheme is described. First, one feature point in the ref-
erence data is selected and the proposed LORD descriptor is generated for the location of the point
in both the reference and user-generated datasets. Then the descriptor comparison process is per-
formed by measuring correspondence and difference measures between two related descriptors.

[ ]
)
j
Let us consider a LORD descriptor LM d ji
i

(

′[ ]
)
j
related LORD descriptor LM d j
i
i
measure, C, and difference measure, D, between LM and LM′ are then deﬁned as:

′ =

nd
4

…
,
,
1
…
,
,
1

=
=

(

=
on the reference data and the
on user-generated data. The correspondence

nd
4

=
=

…
,
,
1
…
,
,
1

=

D

1
min
}
∈{
2…
4
1
,
,

i

nd

∑

j

(

[ ] − ′[ ]
)
2
d j
i
[ ] + ′[ ]
d j
i

d j
i
d j
i

=

C

nd

∑max

}
∈{
4…
1
,
,

i

j

min

(

[ ]

′[ ]
)
,
d j d j
i

i

Our deﬁned measure, D, is customized for the LORD descriptor for four sub-descriptors,
inspired by comparing histogram measures in the shape context descriptor (Belongie et al.
2002). This measure is calculated based on the differences of the bins in two histograms. The
additional C measure is deﬁned due to the characteristics of the applied raster datasets. This
measure is based on the similarity of the bins in two histograms.

If one of the following conditions occurs, two related descriptors are determined as a true

match:

1. The C measure of the related descriptors is larger than a correspondence threshold,
TC. This condition is for the situations where two descriptors are similar; however, their
difference can be high.

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

(1)

(2)

(3)

VGI and Reference Data Correspondence

9

e
h
t

)
b
(

;
a
t
a
d
e
c
n
e
r
e
f
e
r

a

f
o
n
o
i
t
a
t
n
e
i
r
o
d
n
a
n
o
i
g
e
r

l
a
c
o

l
e
h
t

)
a
(

:

n
o
i
g
e
r

l
a
c
o

j

l
e
t
a
g
u
n
o
c
o
w

t

f
o
r
o
t
p
i
r
c
s
e
d
D
R
O
L

y
r
a
n
r
e
t
a
u
q
d
e
s
o
p
o
r
p
e
h
T

7

e
r
u
g
i
F

D
R
O
L

y
r
a
n
r
e
t
a
u
q
d
e
t
a
r
e
n
e
g

)
d
(
d
n
a

;

A
n
o
i
g
e
r

f
o
r
o
t
p
i
r
c
s
e
d
D
R
O
L

y
r
a
n
r
e
t
a
u
q
d
e
t
a
r
e
n
e
g

)
c
(

;

a
t
a
d
d
e
t
a
r
e
n
e
g
-
r
e
s
u
a

f
o
n
o
i
t
a
t
n
e
i
r
o
d
n
a
n
o
i
g
e
r

l
a
c
o

l

B
n
o
i
g
e
r

f
o
r
o
t
p
i
r
c
s
e
d

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

10 N Mohammadi and M Malek

Figure 8 Feature point matching using: (a) correspondence; and (b) difference measures

2. The D measure of the related descriptors is less than a difference threshold TD, and the C
measure is larger than an acceptable correspondence threshold TAC. This condition is for
the situations where the difference between two descriptors is low, and their similarity is in
an acceptable range.

For example, the C value of the descriptors of the region in Figure 8a is large but their D
value is large as well. They are selected as true matches based on Condition (1). Figure 8b indi-
cates two descriptors for which the D value is low. Because their C value is also low, they are
not selected as true matches.

To avoid the effect of the non-matched features in the matching results, the process of the
LORD descriptor generation and matching is performed in a cross-matching strategy including
forward and backward processes. This conﬁrms the matching by a reverse certiﬁcation (Yu
et al. 2008). In the forward process, the locations of the point features of the reference dataset
are considered as the base points and the LORD descriptors are generated to compare these
locations in both reference and user-generated datasets. Inversely in the backward process, the
locations of the point features of user-generated dataset are considered as the base points and
the LORD descriptors are generated and compared for these locations in both the reference

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

11

and user-generated datasets. After calculating and matching the feature point descriptions in
the forward and backward processes, the feature points that are not selected as true matches
will be removed.

It should be noted that the descriptor is calculated for all feature points in a dataset to
investigate their correspondence in another dataset. An instance of feature point matching is
shown in Figure 9. The results show the success of the proposed algorithm in this instance.

2.3 Dual Segment Matching and Data Purifying

Generally, after the proposed dual point matching process there are a few false matches in the
selected results that should be removed. Even the best algorithms for feature matching make
some mistakes and output some mismatches (Adam et al. 2001).

In this section an effective method based on the line features is proposed for identifying
and discarding the remaining non-matched features. A segment is considered as a principal
matching entity of the proposed method in this section. A segment is a straight line between
two consecutive feature points that has an orientation (α) and a length (l). Usually, the orien-
tation of a segment is less sensitive to noise than its length that is most inﬂuenced by noise
(Goshtasby 2005). Also, a segment in one dataset may correspond to a part of a segment or
more than one segment in the other dataset.

Because of the abovementioned problems, the one-to-one segment matching process is
very difﬁcult. For this reason, in the proposed method each segment in one dataset is com-
pared with existed features (segments) in the other dataset based on its buffer location and ori-
entation. In order to ﬁnd the matched and non-matched segments, a correspondence measure
is computed for each segment that can be used to describe the positional quality of the
segment.

Line segment matching is sensitive to noise (non-matched lines) (Goshtasby 2005). Con-
sidering the feature point matching stage of the proposed method in this article, the majority
of non-matched features are detected and removed from two datasets in the previous stage
and at this stage a reliable segment matching process can be performed with a low level of
noise.

The proposed segment matching process is illustrated in Figure 10. First, similar to the
previous stage, the raster edge map and its orientation image are generated for the two
datasets (Figures 10a and b). Then, for the orientation image of the reference dataset, a buffer
with size BSiz is applied using a Dilation operator (Gonzalez et al. 2009) (Figure 10c). For each
VGI segment the Dilation (buffering) process with size BSiz is applied separately and the result
u in the
is considered as sub image SIi
buffered reference dataset, SIi

u (Figures 10d and e). The conjugate sub image of the SIi
r is also considered (Figure 10f).

In order to evaluate the correspondence of each segment, a weighted correspondence

measure, CorrMeas is computed for each candidate segment as:

CorrMeas
i

=

⎛
⎝⎜

⎛
∑ 1
⎝⎜

Ω

i

−

SI

u
i

−

SI

r
i

T
α
i

⎞
⎠⎟

⎞
⎠⎟

N

i

(4)

In this equation SIi

u refers to the dilated orientation sub-image of the user-generated data,
r refers to the dilated orientation sub-image of the reference data, for ith segment. Tαi is
and SIi
an angular threshold and Ωi is the subscription area of two sub-images. It is deﬁned as
all pixels that the absolute orientation differences between them are less than the Tαi threshold
u and is used for
(Figures 10g and h). Ni

is the number of all buffered pixels in SIi

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

12 N Mohammadi and M Malek

Figure 9 An example of the proposed feature point matching process; (a) reference data; (b) user-
generated data; and (c) selected match features

normalization. Because angle tolerance depends on the length of each segment (Koukoletsos
et al. 2012) a relative threshold is applied as:

=

T
α
i

arctan

⎛
⎝⎜

σ

l

i

2

⎞
⎠⎟

(5)

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

13

d
e
t
a
r
e
n
e
g
-
r
e
s
u

d
n
a

e
c
n
e
r
e
f
e
r

r
o
f

n
o
i
t
a
t
u
p
m
o
c

n
o
i
t
a
t
n
e
i
r
o

d
n
a

n
o
i
t
a
r
e
n
e
g

a
t
a
d

r
e
t
s
a
r

)
b
-
a
(

:
s
s
e
c
o
r
p

i

g
n
h
c
t
a
m

t
n
e
m
g
e
s

d
e
s
o
p
o
r
p

e
h
T

0
1

e
r
u
g
i
F

.
s
e
g
a
m

i
-
b
u
s
o
w

t

f
o
n
o
s
i
r
a
p
m
o
c
h
t
i

w
s
s
e
c
o
r
p
g
n
h
c
t
a
m

i

t
n
e
m
g
e
s

)
h
-
c
(
d
n
a

;
y
l
e
v
i
t
c
e
p
s
e
r

,

a
t
a
d

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

14 N Mohammadi and M Malek

where li is the length of the ith segment and σ is the average positional accuracy of the user-
generated data. For each study area, σ is calculated by using a limited number of sample
points of user-generated data distributed in the study area. The average of the measured posi-
tional accuracies of the sample points is used as σ.

If the CorrMeas of a segment is less than a threshold Tcm, the segment is determined as a
false matched segment. Like with the feature point matching process in the previous stage, the
process of segment matching is performed in a dual strategy (forward and backward).

3 Experimental Results

In this section, the performance of the proposed method is evaluated. To examine the effectiveness
of the proposed LORD descriptor, it is compared with the well-known shape context descriptor. In
the following, the dataset, evaluation criteria, and experimental results are presented.

3.1 Dataset

To evaluate the applicability of the proposed method, the entire Tehran metropolis, the capital
of Iran, is chosen as the study area. The study area is composed of a variety of geographical
regions with different land uses, landscapes, populations and feature details.

Maps (scale 1:2,000) generated by the National Cartographic Center (NCC) with a posi-
tional accuracy of 0.2 m are used as the reference dataset. The NCC is the ofﬁcial organization
for map generation in Iran. Their maps contain several point, line, and polygon layers. Streets,
highways, roads, freeways, railways and squares, are some linear feature layers on the maps.

The user-generated data source should be a rich, free and public source of data compiled
by volunteer users. Among VGI projects used in past studies, OSM is the most promising
(Haklay and Weber 2008). It is a very large and growing spatial dataset, and probably the
most well-known example of VGI (Mooney and Corcoran 2012). A key motivation behind
OSM is to provide free access to digital geographic information currently available only from
other expensive sources (Haklay and Weber 2008). Because of these characteristics, OSM is
selected as the accessible user-generated data source.

Figure 11 shows the two datasets of the study area that were used to evaluate the pro-

posed method.

3.2 Evaluation Indicators and Implementation Details

The output of the proposed method is the corresponding linear features of two datasets. In
order to evaluate the quality of the proposed matching method, the true corresponding linear
features of the two datasets should be known, so that its consistency with the extracted corre-
sponding linear features can be evaluated. The true corresponding features of two datasets are
determined manually by carefully checking every segment by an expert person.

To characterize the performance of the proposed matching method two performance indi-
cators Pm and Ps based on the length of the mismatched segment features for both datasets are
used:

m =
P MissedLength TrueTotalLength

s =
P

SurplusLength TrueTotalLength

(6)

(7)

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

15

t
e
s
a
t
a
d
M
S
O

)
b
(
d
n
a

;
t
e
s
a
t
a
d
e
c
n
e
r
e
f
e
r

)
a
(

:
a
e
r
a

y
d
u
t
s
d
e
t
c
e
l
e
S

1
1

e
r
u
g
i
F

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

16 N Mohammadi and M Malek

Table 1 Input parameters of the proposed method

Parameters

Value

Description

CellSize
Rl
Nr
Ns
No
nd
σ
σ

TC
TD
TAC
BSiz
Tcm

0.2 m
15 m
3
6
4
[(3 − 1) × 6 + 1] × 4 = 52
3 × Nr = 9
10 m
10
20
5
10
0.35

Raster generation output cell size
Radius of the local region
Number of distance bins
Number of angle bins
Number of orientation quantization
Descriptor dimension
Gaussian weighting
Average positional accuracy of the VGI dataset
Correspondence threshold
Difference threshold
Acceptable correspondence threshold
Buffer size
Segment correspondence threshold

where TrueTotalLength is the sum of the lengths of the true matched segment features between
two datasets that is determined manually. The MissedLength is the sum of the lengths of those
segments that are true matches but are not selected by the proposed method, and
SurplusLength is the sum of the lengths of those segments that are not true matches but are
selected by the proposed method. The length of MissedLength, SurplusLength and
TrueTotalLength in the ﬁnal matching results can be computed easily by comparing the ﬁnal
result of the proposed method with the manually selected matches.

The proposed method requires various input parameters that control the performance of
the algorithm. Our method is tested with different values of the input parameters and the
appropriate values for parameters which are determined empirically. Table 1 presents the
determined values of the parameters as mentioned in Section 2 based on the performed experi-
mental results. For implementation of the shape context descriptor the same thresholds for the
point matching process (TC, TD and TAC) are used.

3.3 Results

The proposed matching algorithm is implemented, and the obtained results are compared with
the manual results. Table 2 presents the matching results of the proposed method for the
whole study area.

As seen in Table 2, the proposed matching algorithm based on the LORD descriptor and
segment matching method is capable of ﬁnding corresponding features of the reference and
OSM datasets.

The obtained Pm and Ps are relatively small, demonstrating the effectiveness of the pro-
posed method for ﬁnding corresponding features between the reference and OSM datasets.
Generally, the term Pm is less than Ps which indicates that above 98% of the matched features
are determined by the proposed method, but some non-matched features are selected incor-
rectly as true matches.

In some cases, especially in dense regions or regions with incomplete data, there may exist
some features with similar patterns. This causes similar LORD descriptors for feature points in

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

17

Table 2 Final matching results

Used
Descriptor

Dataset

Total
length
(km)

Matched
Length
(km)

True
Total
Length
(km)

Missed
Length
(km)

Surplus
Length
(km)

Pm

Ps

LORD

Descriptor

Reference 12,035.416
11,178.531
OSM

8,244.200
8,159.605

8,054.910
7,987.084

82.160
91.053

189.290
172.521

1.02% 2.35%
1.14% 2.16%

those regions that leads to the mistaken choice of them as corresponding features and an
increase in the SurplusLength indicator. To minimize the effect of this type of error, an outlier
rejection method using segment matching is used in the proposed method. Similarly, an incom-
plete dataset in some regions may cause a signiﬁcant difference in descriptors of truly corre-
sponding feature points. Thus,
they are mistakenly removed, causing an increase in
MissedLength indicator. The dual matching process in the proposed method reduces the effect
of this type of error signiﬁcantly.

Figure 12 presents examples of the ﬁnal matching results of the proposed method for two
sub-areas of the study area with different features and characteristics. These are urban areas
with various matched and non-matched features between two datasets. The visual inspection
of the matching results in this ﬁgure shows the capability of the proposed method in ﬁnding
conjugate features between two datasets. All features are categorized in matched and non-
matched classes in the OSM and reference datasets.

Figure 13 shows the percentage of all OSM roads and the matched roads for each road
type in the study area. The “type” attribute for a large number of OSM roads (74.0%) in the
study area have been labeled as “residential” and other road types such as “primary”, “sec-
ondary”, “footway”, and “service” have percentages of less than 6% for our whole metropoli-
tan study area.

Table 3 shows the percentage of matched roads for each OSM road type. As given in
Table 3, the “Primary” road type in the OSM dataset has the largest percentage of matches in
our study area (91.1%). The “Secondary” road type also has a large number of matches
(82.5%). The “Residential” road type with the largest number of roads has 71.5% match rate
that is approximately equal to the match percentage of other road types such as footway, ter-
tiary, service, unclassiﬁed, etc. So the matching results in the study area showed that the per-
centage of the matched features do not vary so much for different types of roads except the
two main “primary” and “secondary” types, because of their importance. Therefore, referring
to the results, using the “type” attribute would not be so helpful in the matching process in
our study area.

An investigation of the “name” attribute in the OSM dataset in the study area shows that
the road name attribute is missing in 94% of features but about 73% of features are matched
in the two datasets. So, using the “name” attribute similar to “type” attribute cannot be effec-
tive in the matching process for poor attribute areas.

Finally, In order to evaluate the capability of the proposed LORD descriptor in the feature
point matching process in comparison with the shape context descriptor, they were applied in
the study area. For this evaluation only the point matching step of the proposed method is per-
formed using two descriptors, LORD and shape context. Table 4 presents the matching results

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

18 N Mohammadi and M Malek

i

d
o
h
t
e
m
g
n
h
c
t
a
m
d
e
s
o
p
o
r
p
e
h
t

f
o
s
e
l
p
m
a
x
E

2
1

e
r
u
g
i
F

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

19

Figure 13 Percentage of roads and matched roads for each OSM road type in the study area

Table 3 Percentage of matched roads for each OSM road type

Road Type

Residential Primary Secondary Tertiary

Footway Unclassiﬁed Other

73.98%

3.75%

5.83%

4.62%

2.02%

5.74%

4.05%

Percentage of

71.52%

91.13% 82.50%

73.16% 72.77% 69.29%

67.35%

Percentage of
roads in
OSM dataset

OSM
matched
roads

Table 4 Matching results using the LORD descriptor and the shape context descriptor

Used Descriptor

LORD Descriptor

Shape Context Descriptor

Dataset

Reference
OSM
Reference
OSM

Pm

1.02%
1.14%
4.61%
4.89%

Ps

4.73%
4.42%
7.76%
7.38%

of the LORD descriptor and the shape context descriptor for the study area. The obtained
results indicate that the LORD descriptor outperforms the shape context descriptor under
evaluation in terms of Pm and Ps. Also, the results of the LORD descriptor in Table 4, in com-
parison with Table 2, show the role of the segment-matching step for improving the obtained
results from the point matching step.

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

20 N Mohammadi and M Malek

4 Conclusions

In this study, an efﬁcient and robust approach was presented for ﬁnding correspondence
between user-generated and reference datasets. The proposed method comprises two parts: (1)
a matching process to establish initial correspondence of the two datasets using a novel
descriptor; and (2) a dual matching process using correspondence and difference measures
between features descriptors in two datasets. The proposed method is based on the location
and orientation of linear features and it does not use any feature attributes, and therefore is
not inﬂuenced by attribute errors of user-generated datasets. The capability of the proposed
method was demonstrated by applying it to the OSM dataset as an accessible user-generated
data source, using the ofﬁcial reference dataset in a study area. Based on matching results,
applying the proposed method as a ﬁrst step to volunteered data analysis such as assessment of
user-generated data accuracy and completeness are considered as our future work.

References

Adam A, Rivlin E, and Shimshoni I 2001 ROR: Rejection of outliers by rotations. IEEE Transactions on Pattern

Analysis and Machine Intelligence 23: 78–84

Ather A 2009 A Quality Analysis of OpenStreetMap Data. Unpublished ME Thesis, University College London
Barron C, Neis P, and Zipf A 2014 A comprehensive framework for intrinsic OpenStreetMap quality analysis.

Transactions in GIS 18: in press

Belongie S, Malik J, and Puzicha J 2002 Shape matching and object recognition using shape contexts. IEEE

Transactions on Pattern Analysis and Machine Intelligence 24: 509–22

Brown M, Hua G, and Winder S 2011 Discriminative learning of local image descriptors. IEEE Transactions on

Pattern Analysis and Machine Intelligence 33: 43–57

Ciepłuch B, Jacob R, Mooney P, and Winstanley A 2010 Comparison of the accuracy of OpenStreetMap for
Ireland with Google Maps and Bing Maps. In Proceedings of the Ninth International Symposium on
Spatial Accuracy Assessment in Natural Resources and Environmental Sciences, Leicester, United Kingdom
Coleman D J, Georgiadou Y, and Labonte J 2009 Volunteered Geographic Information: The nature and motiva-

tion of producers. International Journal of Spatial Data Infrastructures Research 4: 332–58

Doytsher Y, Filin S, and Ezra E 2001 Transformation of datasets in a linear-based map conﬂation framework.

Surveying and Land Information Systems 61: 159–69

Dunkars M 2003 Matching of datasets. In Proceedings of the Ninth Scandinavian Research Conference on Geo-

Elwood S 2008 Volunteered geographic information: Key questions, concepts and methods to guide emerging

graphical Information Science, Espoo, Finland

research and practice. GeoJournal 72: 133–5

Flanagin A J and Metzger M J 2008 The credibility of volunteered geographic information. GeoJournal 72:

Girres J F and Touya G 2010 Quality assessment of the French OpenStreetMap dataset. Transactions in GIS 14:

Gonzalez R C, Woods R E, and Eddins S L 2009 Digital Image Processing Using MATLAB. Knoxville, TN,

Gatesmark Publishing

Goodchild M F 2007 Citizens as sensors: The world of volunteered geography. GeoJournal 69: 211–21
Goodchild M F and Li L 2012 Assuring the quality of volunteered geographic information. Spatial Statistics 1:

137–48

435–45

110–20

Goshtasby A A 2005 2-D and 3-D Image Registration: For Medical, Remote Sensing, and Industrial Applica-

tions. New York, John Wiley and Sons

Graser A, Straub M, and Dragaschnig M 2014 Towards an open source analysis toolbox for street network
comparison indicators: Tools and results of a comparison of OSM and the ofﬁcial Austrian reference
graph. Transactions in GIS 18: 510–26

Guo-Rong C, Shao-Zi L, Yun-Dong W, Shui-Li C, and Song-Zhi S 2011 Automatic registration of remote
sensing images based on SIFT and fuzzy block matching for change detection. International Journal of
Computational Intelligence Systems 4: 874–85

Hagenauer J and Helbich M 2012 Mining urban land-use patterns from volunteered geographic information by
means of genetic algorithms and artiﬁcial neural networks. International Journal of Geographical Informa-
tion Science 26: 963–82

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

VGI and Reference Data Correspondence

21

Haklay M 2010 How good is volunteered geographical information?: A comparative study of OpenStreetMap

and Ordnance Survey datasets. Environment and Planning B 37: 682–703

Haklay M and Weber P 2008 OpenStreetMap: User-generated street maps. Pervasive Computing 7: 12–8
Haklay M M, Basiouka S, Antoniou V, and Ather A 2010 How many volunteers does it take to map an area
well?: The validity of Linus’ law to volunteered geographic information. Cartographic Journal 47: 315–22
Keßler C and de Groot R T A 2013 Trust as a proxy measure for the quality of volunteered geographic informa-
tion in the case of OpenStreetMap. In Vandenbroucke D, Bucher B, and Crompvoets J (eds) Geographic
Information Science at the Heart of Europe. Berlin, Springer Lecture Notes in Geoinformation and Cartog-
raphy: 21–37

Koukoletsos T, Haklay M, and Ellul C 2012 Assessing data completeness of VGI through an automated match-

ing procedure for linear data. Transactions in GIS 16: 477–98

Kounadi O 2009 Assessing the Quality of OpenStreetMap Data. Unpublished M.Sc. Thesis, Department of

Civil, Environmental, and Geomatic Engineering, University College of London

Lerma J L, Navarro S, Cabrelles M, Seguí A E, and Hernández D 2012 Automatic orientation and 3D modelling
from markerless rock art imagery. ISPRS Journal of Photogrammetry and Remote Sensing 76: 64–76
Li J and Allinson N M 2008 A comprehensive review of current local features for computer vision.

Lowe D G 2004 Distinctive image features from scale-invariant keypoints. International Journal of Computer

Neurocomputing 71: 1771–87

Vision 60: 91–110

Ludwig I, Voss A, and Krause-Traudes M 2011 A comparison of the street networks of Navteq and OSM in
Germany. In Geertman S, Reinhardt W, and Toppen F (eds) Advancing Geoinformation Science for a
Changing World. Berlin, Springer Lecture Notes in Geoinformation and Cartography: 65–84

Lv X and Wang Z J 2012 Perceptual image hashing based on shape contexts and local feature points. IEEE

Transactions on Information Forensics and Security 7: 1081–93

Mikolajczyk K and Schmid C 2005 A performance evaluation of local descriptors. IEEE Transactions on

Pattern Analysis and Machine Intelligence 27: 1615–30

Mikolajczyk K, Tuytelaars T, Schmid C, Zisserman A, Matas J, Schaffalitzky F, Kadir T, and Van Gool L 2005

A comparison of afﬁne region detectors. International Journal of Computer Vision 65: 43–72

Mooney P and Corcoran P 2012 The annotation process in OpenStreetMap. Transactions in GIS 16: 561–79
Mooney P and Corcoran P 2013 Analysis of interaction and co-editing patterns amongst OpenStreetMap con-

tributors. Transactions in GIS 18: in press

Mustière S and Devogele T 2008 Matching networks with different levels of detail. GeoInformatica 12: 435–53
Neis P, Zielstra D, and Zipf A 2012 The street network evolution of crowdsourced maps: OpenStreetMap in

Germany 2007–2011. Future Internet 4: 1–21

Pultar E, Raubal M, Cova T J, and Goodchild M F 2009 Dynamic GIS case studies: Wildﬁre evacuation and vol-

unteered geographic information. Transactions in GIS 13: 85–104

Safra E, Kanza Y, Sagiv Y, Beeri C, and Doytsher Y 2010 Location-based algorithms for ﬁnding sets of corre-
sponding objects over several geospatial data sets. International Journal of Geographical Information
Science 24: 69–106

Sedaghat A, Ebadi H, and Mokhtarzade M 2012 Image matching of satellite data based on quadrilateral control

networks. Photogrammetric Record 27: 423–42

Sedaghat A, Mokhtarzade M, and Ebadi H 2011 Uniform robust scale-invariant feature matching for optical

remote sensing images. IEEE Transactions on Geoscience and Remote Sensing 49: 4516–27

Senaratne H, Bröring A, and Schreck T 2013 Using reverse viewshed analysis to assess the location correctness

of visually generated VGI. Transactions in GIS 17: 369–86

Walter V and Fritsch D 1999 Matching spatial data sets: A statistical approach. International Journal of Geo-

graphical Information Science 13: 445–73

Xiong D 2000 A three-stage computational approach to network matching. Transportation Research Part C 8:

71–89

Yu L, Zhang D and Holden E-J 2008 A fast and fully automatic registration approach based on point features

for multi-source remote-sensing images. Computers & Geosciences 34(7): 838–48

Zielstra D, Hochmair H H, and Neis P 2013 Assessing the effect of data imports on the completeness of

OpenStreetMap: A United States case study. Transactions in GIS 17: 315–34

Zielstra D and Zipf A 2010 A comparative study of proprietary geodata and volunteered geographic informa-
tion for Germany. In Proceedings of the Thirteenth AGILE International Conference on Geographic Infor-
mation Science, Guimarães, Portugal

© 2014 John Wiley & Sons Ltd

Transactions in GIS, 2014, (cid:129)(cid:129)((cid:129)(cid:129))

