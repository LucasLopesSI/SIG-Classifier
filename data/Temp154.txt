The Cartographic Journal
The World of Mapping

ISSN: 0008-7041 (Print) 1743-2774 (Online) Journal homepage: http://www.tandfonline.com/loi/ycaj20

Statistical Determination of Class Intervals for
Maps

Lajos Stegena & Ferenc Csillag

To cite this article: Lajos Stegena & Ferenc Csillag (1987) Statistical Determination of Class
Intervals for Maps, The Cartographic Journal, 24:2, 142-146, DOI: 10.1179/caj.1987.24.2.142

To link to this article:  http://dx.doi.org/10.1179/caj.1987.24.2.142

Published online: 18 Jul 2013.

Submit your article to this journal 

Article views: 8

View related articles 

Citing articles: 3 View citing articles 

Full Terms & Conditions of access and use can be found at
http://www.tandfonline.com/action/journalInformation?journalCode=ycaj20

Download by: [Universite Laval]

Date: 10 May 2016, At: 20:53

Thereareseveralpracticalrulesfordetenniningcategories(classintervals)formapsrepresentingstatisticaldata,likearithmetic,geometricorequalstepsetc.Inthispaper,howeveracoherentmethodisproposedtoprovidestatisticallyseparableClassesonamapwithminimumredundancyintennsofinfonnationcontent.Thenumberofclassintervalscanbedirectlycomputedbymeansofappropriatestatisticalmethodsifthewidthsofclassesaredetenninedbyt-test,i.e.whentheirdifferenceissignificantatahighlevelofconfidence.Aclassnarrowerthanthiswidthwouldrepresentdataindifferentcategoriesdueonlytovariance,however,theselectionofwiderclassesleadstoacertainlossofinfonnation.Theclassintervalsdetenninedthiswayshouldbepositionedonthestatisticaldata-setsothateachcategorycontainsapproximatelyequalnumberofdataprovidingmaximuminfonnationcontentoftheoutputmap.Atthefinalsteptheclassintervalsderivedthiswayshouldberounded,ifnecessary,toprovideuser-friendlymaps.StatisticalDeterminationofClassIntervalsforMapsLajos8tegenaDepartmentofCartography,EotvosUniversityH-1083BudapestKunBelater2.HungaryFerencCsillagResearchInstituteforSoilScienceH-1022BudapestHermanOtt6utca15.HungaryINTRODUCTIONTOTHEPROBLEMAlthoughcartographicdesignisoftenaverysubjectiveprocess(Worth,1984),therehavebeenattemptstotestandintroducealternativedesignssCientifically.Thespreadofcomputersincartographyhasfacilitatedtheincorporationoftraditionalexpertisewithquantitativeinformationmeasures.Thepresentationofstatisticaldataespeciallyonchloroplethmapshavebeeninthefocusofinterestforseveralyearsasaproblemtoevaluatetheeffectivityofsuchmapsasinformationchannels(e.g.JenksandCoulson,1963,Monmonier,1975,SteinkeandLloyd,1983).Therepresentationofstatisticaldatainclasses,howev-er,hasbeenrarelyinvestigatedfromthepointofviewofstatistics.Thespecificorgeneralrulesdefinedandgiveninresearchpapersand/ortextbooksusuallyrestrictedthesolutionoftheproblemtohandyalgorithmsforthedefinitionofclassboundaries.ForinstanceRobinsonandSale(1963)suggestedequalsteps,theuseofmeanandstandarddeviation,quantiles,arithmetic,geometric,reciprocalandgraphictechniques,JenksandCoulson(1963)proposedtheroundingoftheclasslimitstoasmallernumberofsignificantdigits,whileFliri(1972)believedinequalareastepsinparticular.Others,likeChang(1974)andPapp-Vary(1978)determinedpractic-alrulesforthemaximumnumberofclassestobepresentonamap.Morerecentlytwopopularapproachestotheproblemcanbeidentified.Oneofthemtreatsdatapresentationasapsychologicalproblemofvisualperceptionandassocia-tion(e.g.Pipkin,1975,SteinkeandLloyd,1983),whiletheothertendstoapplyquantitativemeasuresofinformation(e.g.Worth,1984).Thispaperjoinsthelatterbranchwithanapproachtoselectclassintervalswithanobjectivefunctionbasedonstatisticalsepar-ability.PartOnedescribesourmethodtodefinethenumberofclasses,optimumaccordingtodifferentiateonlyclassesif,andonlyiftheyaredifferentatanacceptablesignificancelevel.Thenanalgorithmispresentedtoselectclassboundariesconcerningoptimumcodingwithmaximumentropy.Finally,itisfollowedinPartThreewiththedescriptionofsomeapplicationexamplesobtainedwithacomputerprogramimplementedinFORTRAN.HOWMANYCLASSES?Thenumberofclassesthatcanberepresentedonamapmaydependonseveralpreconditions.Ageologicalmap,asatraditionaldatarepresentation,forwhichcategoriesarewelldefmedbyinternationalrules,mayhaveevenmorethen30classeswithwidthrangingfrom1to300millionyears,butnocartographershouldchangeitsclassboundariesonpurelystatisticalbasis.Ingeneral,never-142TheCartographicJournalVol.24December1987Downloaded by [Universite Laval] at 20:53 10 May 2016 i-2,99bitR-0,003--.----rlII=H1IIEXPLANATORYEXAMPLESThreedifferentmapsarepresentedtoillustratethepotentialofthemethod.Themapofwheat-suitabilityranksforHungary(Nagy,1981)isusedasthefirstexampletodemonstrateeachstepoftheanalysis(Figures2-3).Theresultsofthet-testarealsosummedupinTable1.values),whiletheothertotheright(largervalues).Therewillbeastep(6W),whenthedifferenceofthesetwodata-setsbecomessignificantatacertainlevel(suppose6W=4onFigure1).Thisshiftdefinestheapplicableclasswidth(=4,supposing6W=4accordingtoFigure1).ThistestcanbeevaluatedatseveralCP'swithdifferentwidthstocomputethemeanvalueofwidths.Oncethisstatisticallyreliableclasswidthisobtained,thenumberofclassescanbedeterminedbydividingtherangeofthehistogrambythisvalue.Whenmappingstatisticaldata,acartographercaneasilyneglectmostoftraditionsandcanrelyoninformationtheory,appliedtomapsasspecialcodes.Consequently,analgorithmcanbesetupwhichdefinestheboundariesforthegivennumberofclasses,whereclassfrequenciesaremostsimilar.Onemightadd,thattheabovedetailedrulesshouldnotbeappliedstrictly,formostofthemap-readersexpectclassintervalstoberoundedandtochangemonotonicallyfromgivenCPvalue.202020AW=OAW=4AW=2AW=61515Wi10·__:---W5NNNNooooFigure1.Iterativet-testtodefmesignificantlydifferentclasses.TheoriginaldatahasbeenlinearlytransformedtogetappropriatehistogramresolutionwithM=5*log(n),wherenisthenumberofdataandMistheratiooftherangeandtheresolution.At()W=0thereare2identicalsubsetswithWwidth,whileat()W=6theyaredefinitelydifferent.Atamediumshift(e.g.()W=4)therequiredsignificancecanbealreadyachieved.(Seetextfordetails.)25N20Ii-1,58bitR-0,03015Figure2.Evaluationoft-testsforthemapofwheatsuitabilitymapofHungary.Thelowerpartshowsthehistogram,andthesignificantlydifferentclasswidthsatthegivenCPvalues(CP=5->13),forgivenpreliminaryWintervals(W=4->8).Theupperpartmarkstheoriginalclassificationofthemapwithinformationmeasuresandredundancyfor3categories(seealsoFigure3a),andthe8classesdeterminedwithoptimumcoding(seealsoFigure3b).theless,cartographersaresuggestedtoapplynotmorethan4-10classesonathematicmap.Incaseofstatisticaldata,however,onecansetupanexactrulefordeterminingclasses:Ifsignificantlydifferentdataaremergedintooneclass,thentheinformationcontentofourmapwillbedecreasedcomparedtotheoriginaldata,whileifnon-significantlydifferentdataaresplitintotwo(ormore)classes,theoutputproductwillrepresentfalseinformation,separatingdatabasedononlystatisticalvariancewithoutexplicitreasomng.Thegeneralmethodoft-testfortestingstatisticaldifferenceoftwodata-clusterscanbefoundinmoststatisticaltextbooks(e.g.Ledermann,1984).Themethodproposedtotestthesignificanceoftheseparabil-ityofclassestoberepresentedonamapisasfollows(seeFigure1).Selectapreliminarydata-setwithinterval(W)atanarbitraryvalue(CP).Formtwodata-setswithshiftingstep-by-steponetotheleftonthehistogram(smaller5N5101520OOfi~~~oW-4.0-52~.~0060..D,3P>oD,88•70..B·4Wi~3,98bitR-0,093143Downloaded by [Universite Laval] at 20:53 10 May 2016 D§~I.II.III.DDEJ§E3•••IIIilLIV.V.VI.VII.VIII.Figure3.ChloroplethmapofwheatsuitabilityranksforHungary(a)original(Nagy,1981),(b)codedaccordingtoFigure.2.o10Table1Summaryoft-testsforFigures2-3WidthofIntervalMeanClassWidthMinMaxW99%bW95%42.281.891.413.1452.321.971.642.8762.302.101.312.6172.081.811.732.2482.181.781.822.31(Mean)2.231.91i-2.32bit(R·0.003r'-'-'-'-'-'-'-'-'-'-'-'-'-'-'-'-'-'-'-',20N'.r'-",j--T!j.2,48bitI,_I,:1_._..iI!i----:/R.0116.Ir.I,I~'::-._._..-__..__~II0'.II•~I~_••.'j.2,88bit•..I(R.0091?I':1II0'IIII306070809010012014016018020020NFigure4.Analysisoft-testsandhistogram-equalizationofthepopulationdataofHungariancities.Below:originaldata-setof96citiesandt-testanalysis.Above:optimumcodingin9classesaccordingtothet-testanalysis(solidline);modifiedto7classes(dottedline)andto5classes(dashedline)formaximuminformationtransformation.(SeeFigure2andtextfordetails.)90100120140160180200W·15A20II25•30.•35•4010IIIIIIIIIIIIIII010~030040506070805.o.o~~::JOo•0r)o.0.010.•.c.~•0.0.r.15~\.';'r,•20~•0~l:J,.W•Table2ResultsofhistogramequalizationforthedataofFigures2-3.NumberandLocationMinMaxMeanMeanofClassClassClassClassBoundariesFrequenciesFrequencyWidth18303432.0010.0026-10192421.336.6734-8-11141716.005.0043-6-9-1181712.804.0053-6-8-10-1281310.673.3363-6-8-10-11-147139.142.8673-5-7-9-10-11-14798.002.50Themeanclasswidthvaluecanbeusedthentodefinetheoptimumclassboundaries.Table2summarizestheresultsofthehistogram-equalizingalgorithm.Themeanclasswidthof1.91-2.23achievedbyt-testscanbeobtainedwith6-8classes.Itisimportantthatthebestapproximationwiththemostuniformdistributionoffrequenciesisreachedwith7internalcutpoints(8classes,representedontheuppermostpartofFigure2).Themeaninformationcontent(i=L{-h*Id[h]),wherehisthefrequency)andtheredundancy(R=1-i/imax)foreachcodinghavebeencalculated,too.OnFigures4-5anotherexamplecanbeseenforthepopulationmapofHungariancities,wheret-testssuggestoptimumclasswidthsincreasingwithCPvaluesfromaboutDW=1toW=5->7.TheupperpartofFigure4presents3suitablecoding:10classeswithW'srangingfrom1to7,amodificationofthiscodingreducingtheupper3classeswithabetterapproximationofequalclass-frequenciesandacodingwith5classesleadingtothemaximuminformationcontent.Figures6-7presenttheanalysisandmapsofthecorrelationofdepthoftheMesozoicbasementderivedfromseismicandgravitydata.Therearefourclassifica-tionspresentedwithnumberofclassesrangingfrom16to5,asminimumredundancyisappointed.144Downloaded by [Universite Laval] at 20:53 10 May 2016 +w-0,15•0,200,250,300,350,400,450,500.55oe<II•oIII:j-2.32bitr-L--,r__L~-~~O~,III1:I:IIIL~"'-4:I:I~·~···t··1III"""7---,IIIiIIIt·--·--·-:------l:;;*--·····---·1I::i-2,78bitrjr---R_0011I:'I:L__-,II~.--_..----.-...--.....-··_·~IL_:_:1Ili-267bit:1Ir--'"'1,i-3,65bit:IR-0.110:1R-0,113IL_-""L.J-/::r-jj-4,51bit1I',nIIIH~R-0.090IIIIIIII0,90,80,0.60,50,40,30,20,10,00,10,20,30,40,50,670N3020106040Asitcanbeexplicitlyshown,themaximuminformation-contentofastatisticalmapcanbeachieved,whenallclasseshaveequalfrequencies.(Referringagaintotradition,onemightrecallwrongcodingincaseofmanygeographicalnamesinparticular.ForthetwoEast-EuropeancapitalsBudapest,HungaryandBucharest,Rumania,thecode-lengthis8,whilethecode-distanceisonly2.Theseareneithererrorcorrect-ing,norerrordetectingcodes,andareoftenmixedup.)Figure6.Analysisoft-testsandhistogram-equalizationofthedataofdepthofastratigraphicsurface.Below:datasetofthecorrelationcoefficientsandresultoft-tests.Above:codingin16classes(allowedbyt-tests)in8classes(allowedbylegibility)andin7and5classes(approachingmaximumentropy).(SeeFigure2andtextfordetails.)o0'05:100,100,15i.w•100-210o60-100o30-60@20-30o.115-20oI·115•>116045·115030-46@20-30016-20010-1605·10•45-210030-46020-300'5-20o6-16Figure5.SymbolmapofHungarianCIties,classifiedbytheirpopulation.Above:original;Centre:codedaccordingtoFigure4insevenclasses;Below:in5classes.THELOCATIONOFCLASSBOUNDARIESAlthoughthenumberofclasseshavealreadybeendeterminedforourmap,theselectionofclassboundariesisatrulydelicatequestion.Thecartographershouldneverforgetthattheoutputproductismadeforauserwithseveralhabitsandtradition.TheprimaryrulesandsuggestionscitedintheIntroductionmainlyrefertothisquestion.Letus,however,defineclassboundariesfromadifferentpointofview.Codingtheorygivesastraightfor-wardmethodwithmeasuringinformationwithentropy.CONCLUSIONSThecartographicrepresentationofstatisticaldatahasbeeninthefocusofinterestforalongtime.Formanytraditionalreasonsandaprioriclassificationrulescartog-raphersinsomecasescannotrelyonlyonquantitativestatisticalassumptions.Incasesofpurelystatisticaldata,however,thegeneralprinciplesofsignificantseparabilityandoptimumcodingareapplicabletomapdesign.Anovelmethodhasbeenintroducedthatconsistsofthreesteps:firstthenumberofclassesisdeterminedwithasequenceofiterativet-testsonthedata,then,usingthisinformation,optimum(equalclassfrequency)codingiscarriedout.Finallyclassboundaryvaluescanberoundedfortheconvenienceofthemap-userexpectingroundedandmonotonicallychangingintervals.ThealgorithmhasbeenimplementedinFORTRANandsomeexamplesprovethecapabilitiesofthemethod.145Downloaded by [Universite Laval] at 20:53 10 May 2016 Figure7.Contourmapofthecorrelationofdepthofastratigraphicsurfacederivedfromseismicandgravitydata.REFERENCESChang,K.S.(1974).Aninstructionalcomputerprogramonstatisticalclassintervals.TheCanadianCartographer,11,68-77.Fliri,F.(1972).StatistikundDiagram.G.WestermannVerlag,Braunschweig,p.98.Jenks,G.F~'andCoulsonM.R.C.(1963).ClassIntervalsforStatisticalMaps.InternationalYearbookofCartography,3,119-133.Ledermann,W.ed.(1984).HandbookofApplicableMathematics.J.Wiley&Sons,NewYork,p.498.Monmonier,M.S.(1975).Classintervalstoenhancethevisualcorrelationofchloroplethmaps.TheCanadianCartographer,12,161-178.Nagy,L.(1981).ThedistributionofwheatproductioninHungary(inHungarian).AkademiaiKiad6,Budapest,p.121.146Papp-Vary,A.(1978).Thematicatlases(inHungarian).Ph.D.thesis,EotvosUniversity,Budapest.Pipkin,J.S.(1975).Themapasaninformationchannel:ignorancebeforeandafterlookingatachloroP.1ethmap.TheCanadianCartographer,12,80-82.Robinson,A.H.andSale,R.D.(1969).Elementsofcartography.J.Wiley&Sons,NewYork,pp.164-170.Steinke,T.andLloyd,R.(1983).Judgingthesimilarityofchloroplethmapimages.Cartographica,20,35-42.Worth,C.(1984).ComputercartographyasanaidtomapevaluationTechn.Papersof12thICAConf.,Perth,Australia,pp.495-507.Downloaded by [Universite Laval] at 20:53 10 May 2016 