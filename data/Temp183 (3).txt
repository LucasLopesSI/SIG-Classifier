This article was downloaded by: [University of Waikato]
On: 25 May 2014, At: 03:29
Publisher: Taylor & Francis
Informa Ltd Registered in England and Wales Registered Number:
1072954 Registered office: Mortimer House, 37-41 Mortimer Street,
London W1T 3JH, UK

International Journal of
Geographical Information
Science
Publication details, including instructions for
authors and subscription information:
http://www.tandfonline.com/loi/tgis20

An integration of GIS, virtual
reality and the Internet for
visualization, analysis and
exploration of spatial data
Bo Huang , Bin Jiang & Hui Li
Published online: 06 Aug 2010.

To cite this article: Bo Huang , Bin Jiang & Hui Li (2001) An integration of GIS,
virtual reality and the Internet for visualization, analysis and exploration of
spatial data, International Journal of Geographical Information Science, 15:5,
439-456

To link to this article:  http://dx.doi.org/10.1080/13658810110046574

PLEASE SCROLL DOWN FOR ARTICLE

Taylor & Francis makes every effort to ensure the accuracy of all
the information (the “Content”) contained in the publications on our
platform. However, Taylor & Francis, our agents, and our licensors
make no representations or warranties whatsoever as to the accuracy,
completeness, or suitability for any purpose of the Content. Any opinions
and views expressed in this publication are the opinions and views of
the authors, and are not the views of or endorsed by Taylor & Francis.
The accuracy of the Content should not be relied upon and should be
independently verified with primary sources of information. Taylor and
Francis shall not be liable for any losses, actions, claims, proceedings,
demands, costs, expenses, damages, and other liabilities whatsoever
or howsoever caused arising directly or indirectly in connection with, in
relation to or arising out of the use of the Content.

This article may be used for research, teaching, and private study
purposes. Any substantial or systematic reproduction, redistribution,
reselling, loan, sub-licensing, systematic supply, or distribution in any
form to anyone is expressly forbidden. Terms & Conditions of access
and use can be found at http://www.tandfonline.com/page/terms-and-
conditions

Downloaded by [University of Waikato] at 03:29 25 May 2014 int. j. geographical information science, 2001, vol. 15, no. 5, 439± 456

Research Article

An integration of GIS, virtual reality and the Internet for
visualization, analysis and exploration of spatial data

BO HUANG†, BIN JIANG‡ and HUI LI†
†Department of Geography and Joint Laboratory for GeoInformation Science,
The Chinese University of Hong Kong, Shatin, New Territories, Hong Kong
‡Division of Geomatics, Institutionen fo¨r Teknik, University of Ga¨vle,
SE-801 76 Ga¨vle, Sweden; e-mail: bin.jiang@hig.se

(Received 1 December 1999; accepted 1 December 2000)

Abstract. This paper explores the way in which GIS, Virtual Reality ( VR) and
the Internet are closely integrated through the link of Virtual Reality Modelling
Language ( VRML)
for spatial data visualization, analysis and exploration.
Integration takes advantage of each component, and enables the dynamic 3D
content to be built, visualized, interacted with and deployed all on the Web. To
accomplish this, a hybrid approach that merges the conventional client-side and
server-side methods is proposed, which oŒers the best of both worlds in terms of
(cid:143) exibility and capability, as well as the rational use of computing resources. Based
on this approach, a Web-based prototype toolkit is designed and implemented
by using an aŒordable desktop GIS through its macro language together with
Java, Common Gateway Interface (CGI) and HTML programming. This toolkit
comprises a 3D visualization tool, a 3D analysis tool, and a Java/VRML interface,
which are respectively used for the creation of VRML models from 2D maps,
surface analysis (e.g. pro(cid:142) le creation and visibility analysis), and interaction (e.g.
selecting and querying) with the output VRML worlds of 3D visualization and
analysis. It is demonstrated that this toolkit provides an integrated environment,
facilitating users to gain insights from the interaction with virtual environments
that are built from existing GIS databases.

1.

Introduction
Over the past decades, large volumes of digital spatial data have been created
using geographical information system (GIS), computer-aided design (CAD), and
image processing systems. The need to visualize and explore these data is becoming
widely recognized (Rhyne 1997, Kraak and MacEachren 1999). At the same time,
there is also a strong incentive to distribute the result e(cid:141) ciently.

The advent of Virtual Reality (VR) technology and the Internet has provided
opportunities to satisfy these needs, as they are two important means for data
representation, interaction and dissemination (Batty et al. 1998 ). The Internet, in
particular, the World Wide Web (WWW), has experienced an astonishing growth
in recent years, and the Web is now been widely used as a distributed computing
environment. The GIS community has embraced this, and there is an increasing (cid:142) eld
of Internet GIS (or Web GIS) (Plewe 1997). However, current Internet GIS is still

Internationa l Journal of Geographica l Information Science
ISSN 1365-881 6 print/ISSN 1362-308 7 online © 2001 Taylor & Francis Ltd
http://www.tandf.co.uk/journals
DOI: 10.1080/13658810110046574

Downloaded by [University of Waikato] at 03:29 25 May 2014 440

B. Huang et al.

limited to map display and simple graphic manipulations such as zooming and
panning. It lacks 3D visualization and interaction capabilities. VR, allowing for more
realism in the portrayal of geographical phenomena (Smith 1997), can play a signi-
(cid:142) cant role in making up this. On the other hand, geographical VR applications also
need the support of spatial analytical functions, which could be provided by a GIS.
As a result, there is a clear requirement for the integration of GIS, VR and the
Internet to complement and enhance each other to facilitate the exploration of
spatial databases.

The integration of GIS, VR and the Internet are made possible through the use
of Virtual Reality Modelling Language (VRML), an ISO standard for describing
interactive 3D objects and worlds to be experienced on the WWW (Carey and Bell
1997 ). It is the existence of this standard and the widespread availability of VRML
plug-ins, which makes Web-based 3D visualization feasible (Brodlie and Wood 2000 ).
Through VRML, in conjunction with Java and HTML, GIS, VR and the Internet
can be combined in diŒerent ways to support Web-based modelling, visualization
and analysis. This is re(cid:143) ected in various VR applications in urban environments and
the 3D city-scape (Martin and Higgs 1997, Fairbairn and Parsley 1997, Doyle et al.
1998 ). Arising from these applications, a number of GIS-VR prototypes have also
been implemented. The integration of GIS, VR and the Internet has been attempted
in one way or the other, but there is still lack of a systematic investigation, which
analyzes diŒerent integration strategies. In particular an appropriate approach for
the e(cid:141) cient and eŒective integration needs to be addressed.

This paper reports on our research oriented towards the full integration of GIS,
VR and the Internet. While previous integration of VRML and GIS primarily took
a loose coupling approach, we seek a tight coupling. Current Internet GIS deploys
data and software to either the client-side or the server-side, causing a seriously
unbalanced utilization of computing resources on the client and server sides. To
overcome this problem, we propose a hybrid approach, which combines the advant-
ages of both client- and server-side solutions, and thus is considered ideal for the
organization of visualization and analysis tasks. Based on this hybrid approach, a
prototype toolkit is designed to provide an integrated environment, where users can
carry out interactive 3D visualization and analysis on existing GIS databases, and
interact with the corresponding results, whether in 2D map/graph or 3D VRML
form, on the Web. The selected 3D analysis functions are the commonly used ones
but in a diŒerent setting. These functions include pro(cid:142) le creation and visibility
analysis. The primary objective in exploring data in 3D is based on the idea that
3D space may oŒer insight that might otherwise go unobservable , as humans are
better able to relate to and understand 3D space. This toolkit is implemented by
using oŒ-the-shelf GIS software through its macro language as well as Java and
HTML programming.

The remainder of this paper is organized as follows. Section 2 presents relevant
technologies such as GIS, VR, the Internet and their possible integration, and
provides a comprehensive review of the related work. Section 3 addresses a hybrid
approach for the seamless integration which merges client- and server-side solutions
for Internet computation. Section 4 gives an overview of the implementation of the
prototype toolkit based on the hybrid approach. Section 5 illustrates a range of
exploratory functions of the implementation towards a full integration of GIS, VR
and the Internet. Finally §6 concludes the paper and points out future work.

Downloaded by [University of Waikato] at 03:29 25 May 2014 Integration of GIS, virtual reality and the Internet

441

2. GIS, VR and the internet: towards a full integration

The de(cid:142) nitions of GIS, VR and the Internet appear self-explanatory. It is, how-
ever, still necessary to de(cid:142) ne these terms in this context, in order to make it clear
what we mean precisely by these terms. GIS can be de(cid:142) ned as a spatial data
processing system with three important components: spatial database, analytical
functionality, and visualization capability. However existing GIS is mainly 2D based,
though there is a high demand for 3D visualization and analysis. VR is a computer
graphic technology that can be used to emulate the real world in three dimensions,
with which users can participate in the virtual environment by walking or (cid:143) ying. In
terms of interaction with virtual environments internally or externally (MacEachren
et al. 1999), we can have distinction between immersive or non-immersive VR. We
employed desktop VR, a kind of non-immersive VR, in this study as it is increasingly
used in the context of GIS and online mapping. The Internet is a network with
millions of computers interconnected through various forms of telecommunications,
providing infrastructure for information dissemination.

Given these de(cid:142) nitions of GIS, VR and the Internet, a number of integration

approaches are possible ((cid:142) gure 1):

Internet GIS: Internet GIS is the combination of the Internet and GIS, that is, a
conventional GIS using the Internet as a basic information infrastructure for spatial
data dissemination. Because of the nature of the Internet, Internet GIS is regarded
as an interactive, distributed, dynamic, cross-platform and client/server computing
system, and it has the capability to access various forms of GIS data and functions
in an interoperatabl e environment (Plewe 1997, Peng 1999).

VRGIS: VRGIS is used to represent the combination of VR and GIS technologies,
that is, a conventional GIS with VR as the main interface and interaction method
(Faust 1995, Raper et al. 1999). Because VR provides a rather realistic representa-
tion of the world, it can be a nice complementary tool for existing GIS. VRGIS has

Figure 1. GIS, VR, Internet and their integrations.

Downloaded by [University of Waikato] at 03:29 25 May 2014 442

B. Huang et al.

been widely used in urban and environmental planning, scienti(cid:142) c visualization,
archaeological modelling, education and military simulation.

Networked VR: Before the Internet was made available, VR models were stand-
alone like CAD models. Nowadays with the development of the Internet technology,
these VR models can be networked, and participants can be involved in VR by
logging in a network computer. A typical example is ActiveWorlds which has received
increasing attention in the (cid:142) eld of education, (cid:142) lm-making and urban planning
(ActiveWorlds 1999). Users can interact with VRML worlds on the Internet by using
the Java language. Some examples in the context of geographical applications can
be found in Brown (1999 ) and Moore et al. (1999). More details about networked
VR and associated techniques are given by Singhal and Zyda (1999 ).

A full integration of these three provides many advantage s for setting up a
platform for distributed spatial decision-making. In such an integration, GIS provides
rather rich spatial data, VR helps to visualize the large volume of data in a rather
realistic format, and the Internet facilitates information dissemination. Taking an
example urban planning and design, a GIS or CAD package can be used to (cid:142) nish
a 2D sketch plan, and VR used to create a 3D urban scene from the 2D map or
plan, and the Internet used to facilitate public assessment by putting the VR model
online. The above processes can continue recursively until a (cid:142) nal design is agreed
upon. The process may involve some analysis and geocomputation that are important
to decision making.

Much eŒort has been focused over the past years on Internet GIS, VRGIS and
Networked VR from a variety of disciplines. Early work involved urban simulation
using higher-end computer facilities. These developments took place on stand-alone
platforms as the Internet was not then conceived. The earliest work dates back to
the 1970s, when several pilot projects were developed at the Graduate School of
Architecture and Urban Planning at the University of California at Los Angeles
(UCLA). Let us put the related work at two diŒerent categories: before the Internet
when GIS (CAD) databases are considered as a data source of VR, and after the
Internet when networked VR is considered as a visualization function of GIS
((cid:142) gure 2).

Before the Internet was made public, much work has been done in order to
integrate VR and GIS for various purposes such as urban simulation (Ligget and
Jepson 1995, Radford and Day 1996), and urban and landscape planning (ShiŒer
1992, Bishop et al. 1995). Within these eŒorts, GIS/CAD provides an important data
source for VR models. Thus GIS can be considered as a part of VR.

Figure 2.

Integration of GIS and VR: current practices.

Downloaded by [University of Waikato] at 03:29 25 May 2014 Integration of GIS, virtual reality and the Internet

443

As desktop VR and the Internet have gained some popularity, a number of
projects have been carried out to incorporate VR and the Internet into the GIS
environment. Under the banner of new technologies for urban designers, the VENUE
( Virtual Environments for Urban Environments) project was set up which aimed to
develop a suite of computer tools for urban planners and designers using GIS, VR
and the Internet technologies (Jiang et al. 1997, Batty et al. 1999). Within that
project, various tools have been developed for modelling urban environments (Doyle
et al. 1998 ). Another ambitious project is the VFC (Dykes et al. 1999b), which aims
to develop virtual environments to facilitate student (cid:142) eldwork. Many other projects
have also been carried out. For example, Verbree et al. (1999) built a VRML interface
for modelling, manipulation and editing of spatial worlds, which demonstrate d an
approach for real 3D GIS operations. Kahkonen et al. (1999) demonstrate d work
on the development of NetGIS in line with Common Object Request Broker
Architecture (CORBA, OMG 1998) and other relevant standards for spatial object
browsing and interrogation. In this tool, an established VRML (cid:142) le can be linked
with a spatial object and viewed with a VRML browser upon request.

The eŒort in applying VR as a useful function of GIS is not limited to academics,
the commercial company and private sector have also made a rapid response to the
development. The most distinguished development in this connection is VRML,
which has gained more acceptance as a technology for displaying 3D graphics as it
is a simple and accessible way to create interactive worlds. The release of VRML
has also been a major factor in the uptake of VR in the geographical (cid:142) eld (Moore
et al. 1999). This is due to the fact that since its inception, VRML has been employed
for more realistic and interactive representation of geographical data such as terrain
models and city blocks (Dykes et al. 1999a) . Some socio-economic information has
also been explored in a rather realistic way through VRML models (Martin and
Higgs 1997 ). Furthermore, GeoVRML, an extension of VRML, has been proposed
and implemented to provide geoscientists with a suite of enabling functions for the
large volume and high precision georeferenced data. Recent
representation of
advances in GeoVRML include a number of new nodes that enable the transparent
and accurate representation of geographical data, and support scalability to large
spatial databases; see (Rhyne 1999) and (Reddy et al. 2000) for more details.

Some commercial VR tools have also been made available. Pavan (Smith 1997 ),
VirtualGIS (Schill 1999), and ArcView 3D analyst (ESRI Inc. 1997b) are three typical
examples with respect to the creation of 3D VRML models from GIS data. Pavan
is a VRML compiler and project management system for the MapInfo GIS. It can
create generate navigable 3D ( VR) models generated from data held in MapInfo.
The resulting models can be represented by VRML and viewed interactively in most
recent versions of Web Browsers. VirtualGIS is an add-on application for 3D
visualization and analysis to ERDAS Inc.’s IMAGINE Essentials, and has similar
functions to Pavan. ArcView 3D analyst also has similar functions, and will be
introduced later in §4.1. Obviously, in these three packages, the process of VRML
model generation is not conducted on the Internet, and is loosely connected with
the process of VRML model browsing. In other words, these packages are still
desktop tools. Rather than the loose coupling of GIS, VR and the Internet, we will
concentrate on the exploration of a tight coupling to provide an integrated environ-
ment for more comprehensive spatial data visualization, analysis and interaction:
full and seamless integration.

Downloaded by [University of Waikato] at 03:29 25 May 2014 444

B. Huang et al.

3. A hybrid approach to merging client- and server-side applications

As the Internet has become an important means for acquiring and disseminating
information, a number of Internet GIS products have been brought to market.
Underlying these products, there are two basic approaches to deploying GIS or any
other complex, data driven applications on the Internet: server-side and client-side
applications. The former approach depends on the GIS server to perform all pro-
cessing tasks and sends the results to the front-end upon clients’ request, while the
latter approach allows the data and software to be transferred to the local client
side and executes all processing at the front-end (Plewe 1997, GiŒord 1999, Peng
1999 ). The following discusses the features of each approach as summarized in
table 1, and then derives a hybrid approach for the full integration of GIS, VR and
the Internet.

The server-side applications, having main software and databases on the server
side that link with the Web server through a Common Gateway Interface (CGI)
script, signi(cid:142) cantly simplify development, deployment and maintenance of the
Internet GIS software. The application software on the server side can be proprietary,
but the results transmitted to a Web client are in standard HTML formats that can
be viewed in any Web browser, creating signi(cid:142) cant positive implications for perform-
ance, reliability and size of user base. This is also bene(cid:142) cial to the incorporation of
diŒerent functionalities into the application server. Disadvantage s of server-side
solutions are associated with limited user interface and poor performance. Basic map
operations such as zooming and querying also require a new request to the server
and returned. This results in many requests, possibly causing an over-loaded server.
Client-side solutions typically are implemented by augmenting the Web browser
in the form of plug-ins, ActiveX or Java. Plug-ins are software modules that apply
to speci(cid:142) c (cid:142) le-types when a Webpage is loaded. They are used to perform basic
operations such as zooming and panning within a Web browser, thus easing the
over-loaded server. But plug-ins are native to a speci(cid:142) c platform on which the Web
browser runs, and require download and installation in advance, which is not
convenient for a casual user. Numerous plug-ins mixed in a Web browser may also
result in the paralysis of the browser. Active X controls are similar to plug-ins (Peng

Advantages

Modern GUI and (cid:143) exible interaction

Table 1. A comparison of client- and server-side applications.

Server-side solution

Client-side solution (Java-based)

Can adhere to all Internet/Web
standards
Can utilize existing GIS functions Vector data can be used
Centralizes administration of
data and GIS application
software
User support minimal
Comparatively mature and
simple

Good performance for operations that
occur locally

Less Internet tra(cid:141) c
Not restricted to Internet document/
graphics standards
Can be installed on demand, no
permanent disk space is used
Time consuming for downloading
data and software
Di(cid:141) cult for complex data processing

Disadvantages Poor interface

Lack of interactivity
Creates many requests

Downloaded by [University of Waikato] at 03:29 25 May 2014 Integration of GIS, virtual reality and the Internet

445

1999 ), but can only be applicable within the MicroSoft’s Internet Explorer environ-
ment. By contrast, the use of Java is considered to be the most (cid:143) exible and futuristic
method because the coded software can potentially achieve platform-independence ,
and can possess such powerful programming functions as any other advanced lan-
guages like C. A Java applet also allows the use of vector data structures for graphic
data display and processing. In general, the primary advantage s of client-side
solutions are the abilities to enhance the user interface and improve performance.
But downloading the software and data to the client may be time-consuming, and
the complex data processing functions may not be as e(cid:141) cient as those in a power-
ful server.

In summation, both client- and server-side methods have pros and cons, and the
use of either of them is not adequate for a wide range of GIS applications on the
Internet. In eŒect, the comparison of them suggests that both methods be considered
complementary rather than competitive. Hence the integration of client- and server-
side solutions, typically in the form of Java and CGI, is taken as a better approach.
Such a hybrid approach can signi(cid:142) cantly bene(cid:142) t from the strengths of each, because
it can provide not only a user-friendly interface by use of Java but also a powerful
data processing server by use of CGI-linked existing GIS functionalities.

The use of the hybrid approach can allocate diŒerent tasks to the appropriate
side for workload balancing. Rather than the simple use of both sides, there is a
sharing of responsibility between the client and server sides, allowing for true client/
server interaction. This is the core of the hybrid approach per se. In general, complex
spatial data processing tasks (e.g. VRML model generation) are performed on the
server side, while user interaction and system control tasks are carried out on the
client side. Basic map operations such as zooming and feature selection no longer
require a round trip to the server side as done in the CGI approach, but are handled
locally, yielding quick and e(cid:141) cient performance. Network tra(cid:141) c is reduced as well.
For these reasons, the hybrid approach (cid:142) ts in with the various requirements of
Web-based spatial data exploration under study in this paper, which involves 2D
data visualization, 3D VRML model generation, 3D surface analysis and VRML
interaction with respect to not only complicated visualization and analysis tasks,
but also (cid:143) exible interaction for adjusting parameters or retrieving information.

4. Prototype implementation

The prototype toolkit, GeoV&A, is designed to serve as a testbed for the hybrid
approach. Its implementation is on the basis of the desktop GIS ArcView together
with Internet techniques such as Java, CGI and HTML. The server part of the
toolkit has been made into an extension, which is similar to other ArcView extensions
such as spatial analyst and network analyst. After checking that this extension is on,
users just need to choose a Web server and connect it with the V&A ( Visualization
and Analysis) server, then this visualization server can provide services to the client
across the Internet.

4.1. Software support

ArcView is a desktop GIS with components including spatial view, table, chart,
layout and script. Each of these serves diŒerent purposes for spatial data processing
and presentation. Among others, of importance is Avenue script (an object-oriented
language) which permits the customization of the ArcView interface, and provides
some additional spatial functions. Avenue contains useful built-in classes for graphics

Downloaded by [University of Waikato] at 03:29 25 May 2014 446

B. Huang et al.

manipulation, spatial queries, and basic arithmetic calculations. GeoV&A has been
designed as a speci(cid:142) c graphic environment by modifying existing ArcView controls
(menus, menu items, buttons and tools), and linking relevant scripts with new
controls created.

ArcView has a set of extensions such as Internet Map Server (IMS; ESRI 1997a)
and 3D Analyst (ESRI 1997b) . As an extension, IMS enables users to put maps and
interactive mapping applications on the Web. A user can employ this extension to
provide information services based on dynamic maps and GIS data. The 3D Analyst
extension allows users to create, analyze, and display surface data. It, however, has
not been accomplished on the Internet. This paper reports on our experiments in
this regard.

Besides the above, a VRML plug-in called WorldView (http://www.intervista.com)
is used to view the output VRML scenes within a Web browser. VRML browsers
which are largely free software enable a user to interact with a virtual world via
scaling, zooming, rotation, etc. in three dimensions. In addition, the Java program-
ming language is employed to design all the interfaces of GeoV&A. Java is also
(cid:143) exible for creating and displaying graphics and maps and thus is appropriate for
the manipulation of GIS data across the Web.

4.2. T he architecture of GeoV&A

The client/server architecture of GeoV&A is designed in the light of the hybrid

approach. It has a typical three-tier con(cid:142) guration ((cid:142) gure 3):

E A Java-based client residing with the Web browser: Internet Explorer or

Netscape Navigator.

E A Web server (e.g., Microsoft Personal Web Server for Windows NT Work-

station) with an ESRIMap extension in ArcView IMS.

E A 3D visualization and analysis server (V&A server), i.e., an application server

using ArcView and its 3D extension via Avenue programming.

The client side of GeoV&A provides several Webpages embedded with Java
applets, which allow users to select operations, de(cid:142) ne properties of 3D scenes or
input parameters for 3D analysis. A user then submits the request in the form of

Figure 3. Three tier client/server architecture of GeoV&A.

Downloaded by [University of Waikato] at 03:29 25 May 2014 Integration of GIS, virtual reality and the Internet

447

Unique Resource Locator (URL) to the V&A server via a CGI program within
ArcView IMS running on the Web server, or conduct some operations (e.g. 2D map
browsing) locally. The correctness of parameters is also examined by the Java-based
client before a command is submitted. The main mechanism for Java-based clients
in GeoV&A to communicate with the V&A server is through the encoding of
parameters in URL. After receiving a URL request from the Java-based client, the
V&A application server extracts all the necessary parameters, processes them, and
then delivers the results in HTML-compatible format to the client for display. The
results could be a 2D map (§5.2.2) or a 3D VRML model. In both cases, users can
still interact with them via zooming, panning, and querying on the client side.

5. An illustration: the basic functions of GeoV&A

GeoV&A has four main modules: 2D visualization, 3D visualization, 3D analysis
and VRML interaction ((cid:142) gure 4). Some results of 3D visualization and analysis are
sent to the 2D visualization module, and the others are sent to the VRML interaction
module for further processing. These modules are interconnected, providing an
integrated environment for spatial data visualization, analysis and interaction in 2D
and 3D.

The main user interface of GeoV&A is shown in (cid:142) gure 5, which is the (cid:142) rst
Webpage a user encounters. This Webpage provides two buttons, where users can
select either 3D visualization or 3D analysis functions. Then, diŒerent Webpages are
presented for further running of the software. After a series of operations, users can
still go back to this interface for further visualization or analysis. Note that the 2D
visualization functionality is described within the 3D visualization part, but the
VRML interaction functionality is described in a separate.

We use a data set from ESRI within the 3D Analyst package for the illustration.
This data set includes two shape (cid:142) les (a building (cid:142) le and a road (cid:142) le), a TIN
(Triangulated Irregular Network) and a GRID terrain surface (cid:142) les, and an ortho-
photo image (cid:142) le. All these (cid:142) les can be read by ArcView and the Java applets we
developed.

5.1. 3D visualization

The 3D visualization in GeoV&A serves to create 3D perspective displays by
extruding spatial features in 2D GIS maps. Attributes of spatial features (e.g. stories

Figure 4. Functionality of GeoV&A.

Downloaded by [University of Waikato] at 03:29 25 May 2014 448

B. Huang et al.

Figure 5. The starting interface of GeoV&A.

of buildings) are usually taken for height information (Z-value). Such an extrusion
changes the form of a feature: points into vertical lines, lines into vertical walls, and
polygons into 3D blocks.

Like the example shown in (cid:142) gure 6, the user (cid:142) rst begins with the parameter input
and selection page. This Webpage comprises several items including 2D theme,
spatial feature extrusion height, base height and others. Once the 2D theme is

Figure 6. Parameters input for creating a 3D scene in the form of VRML or image.

Downloaded by [University of Waikato] at 03:29 25 May 2014 Integration of GIS, virtual reality and the Internet

449

selected, it can be browsed without the input of other parameters. The item of 2D
feature extrusion height allows users to give height information (Z-value) in the form
of a value or an expression to the spatial features in the selected 2D theme. If the
height information is in the form of an expression, the right button of the item
textbox can be invoked to pop up an expression builder dialogue, which assists users
in the formulation of the expression. Similarly, oŒset height and base height can also
be entered in this way. The base height item can also be a TIN or GRID surface
(cid:142) le. Sun azimuth and altitude de(cid:142) ne the sun position for shading, and the vertical
exaggeration factor scales up the height for the 3D scene to be generated.

In addition to the above items, there are four functional buttons: ‘Browse’, ‘Create
3D-VRML’, ‘Create 3D-Image’, and ‘Reset’. The ‘Browse’ button is chosen to browse
the selected 2D theme. Figure 7 shows a Java window which displays the ‘bldg2.shp’
map in the vector (cid:142) le format. By clicking one of the four ‘radio’ buttons above the
2D map, the user can pan, zoom in, zoom out or identify a feature in the map. The
‘identify’ option is employed to show the attributes of a selected feature. Note that
all these basic map operations are conducted locally within a Java applet, which do
not require any processing by the V&A server. This applet can also display image (cid:142) les.
The ‘Create 3D-VRML’ function serves to generate a 3D scene and its VRML
model on the (cid:143) y. After receiving a URL request from the Java-based client, an
Avenue script (cid:142) rst extracts the parameters for assigning feature height, base height,
oŒset height, sun azimuth and altitude, and vertical exaggeration from the URL, it
then generates a 3D scene by using these parameters. Finally the 3D scene is
transformed into a VRML (cid:142) le (with .wrl extension). The VRML nodes used here
are mainly IndexedFaceSet and ElevationGrid. For more details of these nodes see
(Moore et al. 1999 ). Meanwhile, a legend in GIF image (cid:142) le format for the VRML
model is also created, which helps users interpret the model on the Internet. Both
the VRML and legend (cid:142) les are linked to an HTML (cid:142) le and sent back to the Web
browser for display.

By using a WorldView plug-in that has already been established on the Web
browser, the VRML model can then be navigated. Figure 8 shows the result as to the
input in (cid:142) gure 6, where buildings are placed on top of the terrain model. In (cid:142) gure 9,
a VRML model of an orthophoto image draped over the terrain surface is shown.

Figure 7.

Identifying a selected feature when browsing the selected 2D map.

Downloaded by [University of Waikato] at 03:29 25 May 2014 450

B. Huang et al.

Figure 8. A VRML presentation of buildings on top of the terrain surface.

Figure 9. A VRML presentation of an orthophoto draping over the terrain surface.

Unlike the ‘Create 3D-VRML’ function, ‘Create 3D-Image’ function creates an
image of the generated 3D scene for a quick look. Finally the ‘Reset’ function is
used to de(cid:142) ne all the parameters with their default values.

5.2. 3D analysis

Terrain surfaces are frequently used in many types of geographical analysis such
as suitability studies, hydrologic analysis, visibility analysis, and more. Other kinds

Downloaded by [University of Waikato] at 03:29 25 May 2014 Integration of GIS, virtual reality and the Internet

451

of surfaces, such as population density and average rainfall are employed in other
types of analysis. Since so many phenomena are principally made up of surfaces,
analysing those surfaces is obviously an e(cid:141) cient way to understand the phenomena.
GIS surface analysis functions usually include slope and aspect calculations,
volumetric calculations, contouring, pro(cid:142) ling, and visibility analysis. GeoV&A
provides most of these functions, but here, we take two of them, i.e. pro(cid:142) ling and
viewshed analysis, as examples to illustrate the 3D analysis functionalities of
GeoV&A. The results of 3D analysis are usually sent to the 2D and 3D visualization
modules through URL encoding for display and interaction.

5.2.1. Pro(cid:142) le graph creation

The pro(cid:142) le graph tool uses a line (cid:142) le (e.g. ‘road.shp’) and a DTM TIN (cid:142) le (e.g.
‘dtmtin2’) entered by the user in the Webpage to create a graph that shows the
height measured along the line. Figure 10 shows the result of the ‘Create pro(cid:142) le
graph’ function. This graph is used to evaluate the di(cid:141) culty of building a mountain
road. The creation of a pro(cid:142) le graph is a relatively simple task, and is thus realized
by Java programs on the client side.

5.2.2. V iewshed analysis

Determining what is visible on a surface from a set of one or more locations is
useful for a wide range of applications, from estimating real estate value to locating
communicating towers or placing military troops. The viewshed analysis function
identi(cid:142) es whether the observation points that are speci(cid:142) ed on the input observation
theme can be seen from each cell in a surface or cell locations can be seen from each
observation point (Fisher 1996).

In GeoV&A, after users input two themes: an observation points (cid:142) le and a grid
or TIN surface (cid:142) le, they can proceed to either browse the input maps or create the
viewshed. The result of viewshed analysis can be shown as both 2D map ((cid:142) gure 11)
and 3D VRML formats ((cid:142) gure 12). From 2D visualization, it is found that the
observation post cannot be seen by most of the right part in the map, but it is
di(cid:141) cult to understand the reasons. Through the 3D VRML model and the interaction
like ‘zoom in’ and ‘tilt’, we can, however, easily (cid:142) nd that there is a steep slope on
the right of the point, which hides it from the right part of the map.

Figure 10. Result of a pro(cid:142) le graph.

Downloaded by [University of Waikato] at 03:29 25 May 2014 452

B. Huang et al.

Figure 11. 2D map display of the viewshed analysis result.

Figure 12. 3D VRML display of the viewshed analysis result.

5.3. V RML interaction

The 3D visualization and analysis functions described above generate VRML
models. The user’s interaction with these models, such as querying, manipulation,
analysis and animation of the worlds, replicates and improves on the way a user
interacts with the real world. It is, therefore, of importance to incorporate this
functionality into the toolkit.

The interaction with VRML worlds can now be realized by interfacing Java or
JavaScript with VRML 2.0 (Brutzman 1998). Currently, two methods are used for
the interaction, namely using the Script node in VRML and the External Authoring
Interface (EAI) in Java (Brown 1999 ). By using the Script node, the VRML scene
can invoke a Java script linked with the node internally to operate on the scene.

Downloaded by [University of Waikato] at 03:29 25 May 2014 Integration of GIS, virtual reality and the Internet

453

Alternatively, EAI allows users to control the VRML scene contents externally using
a Java applet on a Webpage. In GeoV&A, we use the EAI method for a (cid:143) exible
interaction with the VRML scene generated by the 3D visualization or analysis
module. At present, the function of querying a world has been developed. After a
user selects the ‘query a world’ button above the VRML scene ((cid:142) gure 13), an event
was sent to the VRML browser to temporarily make the 3D scene reactive, which
then allows a touch-sensor to return the coordinates pointed to by the mouse. After
coordinate transformation in the Java program, the worlds are searched on the basis
of the 2D map, from which the VRML model is generated. Finally, the attributes of
the selected world are displayed in a pop up window. The above VRML interaction
functions are performed by a Java applet on the client side.

6. Discussions and conclusions

A full integration of GIS, VR and the Internet can dramatically increase GIS
capacity in spatial data visualization and analysis, and extend its decision support
role in applications. This paper has demonstrate d a hybrid approach to developing
an integrated visualization and analysis environment on the Web by merging client-
and server-side applications. Table 2 summarizes the allocation of diŒerent functions
in GeoV&A to both the client and server sides. Suppose these functions could also
be performed by the client-side and server-side approaches, the distribution of tasks
are most probably like that given in table 2. These two approaches go to somewhat
two extremes, resulting in a very thick client and a very thick server, respectively.
Within a client-side approach ( Kahkonen et al. 1999), creating an applet capable
of doing a comparable task to GeoV&A is likely to be of a similar size, about 8 Mb.
It is clearly not appropriate to be constantly sending applets this large across the
network. Similarly, with a server-side approach (Huang and Lin 1999), two issues

Figure 13. Querying worlds in a VRML model.

Downloaded by [University of Waikato] at 03:29 25 May 2014 454

B. Huang et al.

Table 2. Allocation of diŒerent tasks in GeoV&A using the hybrid approach in contrast to
client-side and server-side approaches.

Approaches

Hybrid appr.

Client-side appr. Server-side appr.

client-
side

server-
side

client-
side

server-
side

client-
side

server-
side

Function

Command selection and data entry

Parameter correctness checking

2D map browsing
(pan, zoom in/out and identify)
3D scene generation & export to
VRML or image
Pro(cid:142) le graph generation

Viewshed analysis

VRML interaction
(select, query, etc.)

3

3

3

3

3

3

3

3

3

3

3

3

3

3

3

3

3

3

3

3

3

related to user interface and performance will arise (see §3). It is sensible, therefore,
to choose the hybrid approach.

The hybrid approach is a compromise solution, taking account of existing GIS
and its 3D visualization and analysis functions, as well as the development of Internet
computation methods. It oŒers in some sense the best of both worlds, in which the
client and server sides share the responsibility. The server side provides the processing
power for complex tasks such as 3D scene creation from original 2D maps or
viewshed analysis results and export them to VRML models, while the client side is
given the responsibility for the (cid:142) ne control of the system, as well as basic map
operations (e.g. zooming, panning and identifying spatial features), simple surface
analysis (e.g. pro(cid:142) le graph creation) and VRML model interaction. The GeoV&A
prototype system, based on this approach, provides a (cid:143) exible and platform-
independent interface through the use of Java, as well as a powerful application
server supported by a commercial GIS. There is no doubt some other GIS analysis
functions such as buŒer, and overlay can also be added to the toolkit using the
hybrid approach.

While the hybrid approach shares the advantage s of both client- and server-side
applications and the client-side has undertaken some tasks that are supposed to be
done on the sever-side in previous solutions, it cannot overcome the hurdle of the
CGI approach, primarily the performance issue, as a CGI application needs to start
up a new process for each request even the one like parameter correctness checking.
Fortunately, the introduction of Java servlets has oŒered promise in remedying this
(Huang and Worboys, 2001 ). The feasibility of using Java servlets along with the
ArcView GIS in our case is to be examined.

Similarly there are concerns over VRML due to the increasing attention on the
Java 3D API (Sowizral et al. 1998). While VRML is itself evolving (its next generation
will be Extensible 3D–X3D), Java 3D is worthy of exploration, as it can allow the
creation of a virtual environment without the use of plug-ins at all.

Experience with the prototype system also suggests further research is required
on the extension of the hybrid approach. At the current stage, diŒerent tasks have

Downloaded by [University of Waikato] at 03:29 25 May 2014 Integration of GIS, virtual reality and the Internet

455

been arranged in the toolkit and are allocated to the side speci(cid:142) ed in advance. A
challenge is to develop an intelligent dispatcher agent, which can (cid:142) gure out workloads
of diŒerent tasks in terms of data size, user number, and even existing cached data,
and then dynamically allocates them to an appropriate side or both sides. This could
increase the eŒectiveness of automatic load balancing. 3D analysis functions can also
be conducted on the VRML model directly to suit diŒerent requirements. New
methods and algorithms for this may need to be studied accordingly. Finally, future
work will be incorporating environmental models into the framework of the full
integration of GIS, VR and the Internet for supporting collaborative decision making.

Acknowledgments

Bo Huang and Hui Lin’s work was supported by the Research Grants Council
of HKSAR government under Grant No. CUHK 150/96H and Grant No. CUHK
4334/98E. Bin Jiang’s work was partially supported by the Ga¨vle GIS Group of the
University of Ga¨vle, Sweden. The comments from the anonymous reviewers and
Professor Peter Fisher were most helpful in improving this paper.

References
ActiveWorlds, 1999, http://www.activeworlds.com/.
Batty, M., Dodge, M., Doyle, S., and Smith, A., 1998, Modelling virtual environments.
In Geocomputation: a Primer, edited by P. Longley, S. Brooks, R. McDonnell, and
B. MacMillan (Chichester: John Wiley & Sons), pp. 139–161.

Batty, M., Dodge, M., Jiang, B., and Smith, A., 1999, GIS and urban design. In Geographical
Information and Planning: European Perspectives, edited by S. Geertman, S. Openshaw,
and J. Stillwell (London, New York, Berlin: Springer-Verlag), pp. 43–65.

Bishop, I. D., Spring, J., and Potter, R., 1995, Extending the geographic information base
into the third dimension for use in the urban environment. Journal of the Urban and
Regional Information Systems Association, 7, 24–29.

Brodlie, K. and Wood, J., 2000, Volume Graphics and the Internet. In Volume Graphics,
edited by M. Chen, A. Kaufman, and R. Yagel (Berlin: Springer-Verlag), pp. 317–331.
Brown, I. M., 1999, Developing a virtual reality user interface for geographic information

retrieval on the Internet. T ransactions in GIS, 3, 207–220.

Brutzman, D., 1998, The virtual reality modeling language and Java. Communications of the

Carey, R., and Bell, G., 1997, T he Annotated VRML 2.0 Reference Manual (Reading, MA:

ACM, 41, 57–64.

Addison-Wesley Longman).

Doyle, S., Dodge, M., and Smith, A., 1998, The potential of web-based mapping and virtual
reality technologies for modelling urban environments. Computers, Environment and
Urban Systems, 22, 137–155.

Dykes, J., Moore, K., and Fairbairn, D., 1999a, From ChernoŒto Imhof and beyond: VRML
and Cartography. In Proceedings of the Fourth Symposium on the V irtual Reality
Modelling L anguage (Paderborn, Germany), pp. 99–104.

Dykes, J., Moore, K., and Wood, J., 1999b, Virtual environments for student (cid:142) eldwork using
networked components. International Journal of Geographical Information Science,
13, 397–416.

ESRI, 1997a. ArcV iew Internet Map Server (Redlands, California: Environmental Systems

Research Institute Inc).

Institute Inc.).

ESRI, 1997b. ArcV iew 3D Analyst (Redlands, California: Environmental Systems Research

Fairbairn, D., and Parsley, S., 1997, The use of VRML for cartographic presentation.

Computers & Geosciences, 23, 475–481.

Faust, N. L., 1995, The virtual reality of GIS. Environment and Planning B: Planning and

Design, 22, 257–268.

Fisher, P. F., 1996, Extending the applicability of viewsheds in landscape planning.

Photogrammetric Engineering & Remote Sensing, 62, 1297–1302.

Downloaded by [University of Waikato] at 03:29 25 May 2014 456

Integration of GIS, virtual reality and the Internet

Gifford, F., 1999, Internet GIS architectures—which side is right for you? GEOWorld,

12, 48–53.

Huang, B., and Lin, H., 1999, GeoVR: a web-based tool for virtual reality presentation from

2D GIS data. Computers & Geosciences, 25, 1163–1171.

Huang, B., and Worboys, M., (2001), Dynamic modelling and visualization on the Internet.

T ransactions in GIS. 5, 131–139.

Jiang, B., Dodge, M., and Batty, M., 1997, Realistic visualization of urban environments. A
position paper presented to ICA V isualization Commission Meeting, 20–22 June 1997
(Gavle, Sweden).

Kahkonen, J., Lehto, L., Kilpelainen, T., and Sarjakoski, T., 1999, Interactive visualization
of geographical objects on the Internet. International Journal of Geographical
Information Sciences 13, 429–438.

Kraak, M. J., and MacEachren, A. M., 1999, Visualization for exploration of spatial data.

International Journal of Geographical Information Science, 13, 285–287.

Ligget, R. S., and Jepson, W. H., 1995, An Integrated Environment for Urban Simulation.

Environment and Planning B: Planning and Design, 22, 291–302.

MacEachren, A. M., and Kraak, M. J., and Verbree, E., 1999, Cartographic issues in the
design and application of geospatial virtual environments. In Proceedings of the 19th
International Cartographic Conference 14–21 August, Ottawa, Canada.

Martin, D., and Higgs, G., 1997, The visualization of socio-economic GIS data using virtual

reality tools. T ransactions in GIS, 1, 255–266.

Moore, K., Dykes, J., and Wood, J., 1999, Using Java to interact with geo-referenced VRML

within a virtual (cid:142) eld course. Computers & Geosciences, 25, 1125–1136.

Object Management Group (OMG), 1998, Object Management Group home page,

http://www.omg.org.

Peng, Z., 1999, An assessment framework for the development of Internet GIS. Environment

and Planning B: Planning and Design, 26, 117–132.

Plewe, B., 1997, GIS-Online: Information Retrieval, Mapping, and the Internet (Santa Fe, USA:

Radford, A., and Day, A., 1996, Growing Georgian Bath. Environment and Planning B:

OnWord Press).

Planning and Design, 23, 465–488.

Raper, J., McCarthy, T., and Williams, N., 1999, Georeferenced four-dimensional virtual
environments: principles and applications. Computers, Environment and Urban Systems,
22, 529–539.

Reddy, M., Iverson, L., and Leclerc, Y., 2000, Under the hood of GeoVRML 1.0. In

Proceedings of the Fifth Web3D/VRML Symposium (Monterey, California).

Rhyne, T., 1997, Going virtual with geographic information and scienti(cid:142) c visualization.

Computers & Geosciences, 23, 489–491.

Rhyne, T., 1999, A commentary on GeoVRML: a tool for 3D representation of georeferenced
data on the web. International Journal of Geographical Information Science, 13, 439– 443.
Schill, S. R., 1999, ERDAS IMAGINE VirtualGIS 8.4, Software Review. PE & RS, 65,

Shiffer, M. J., 1992, Towards a collaborative planning system. Environment and Planning B:

Singhal, S., and Zyda, M., 1999, Networked V irtual Environments–Design and Implementation

Smith, S., 1997, Realism in modelling the built environment using the World Wide Web.

860–866.

Planning and Design, 19, 709–722.

(ACM Press).

HABITAT , 4, 17–18.

Sowizral, H., Rushforth, K., and Deering, M., 1998, The Java 3D API Speci(cid:142) cation (Reading

MA: Addison Wesley Longman).

Verbree, E., van Maren, G., Germs, R., Jansen, F., and Kraak, M. J., 1999, Interacting in
virtual world views— linking 3D GIS with VR. International Journal of Geographical
Information Science, 13, 385– 396.

Downloaded by [University of Waikato] at 03:29 25 May 2014 