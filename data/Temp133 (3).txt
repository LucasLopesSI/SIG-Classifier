bs_bs_banner

Research Article

Transactions in GIS, 2013, 17(4): 544–562

Assessing the Veracity of Methods for Extracting Place
Semantics from Flickr Tags

William A Mackaness* and Omair Chaudhry†

*University of Edinburgh
†Public Health England, Salisbury

Abstract
The volume and potential value of user generated content (UGC) is ever growing. Multiply sourced, its
value is greatly increased by the inclusion of metadata that adequately and accurately describes that
content – particularly if such data are to be integrated with more formal data sets. Typically, digital pho-
tography is tagged with location and attribute information that variously describe the location, events or
objects in the image. Often inconsistent and incomplete, these attributes reﬂect concepts at a range of geo-
graphic scales. From a spatial data integration perspective, the information relating to “place” is of
primary interest. The challenge therefore is in selecting the most appropriate tags that best describe the
geography of the image. This article presents a methodology based on an information retrieval technique
that separates out “place related tags” from the remainder of the tags. Different scales of geography are
identiﬁed by varying the size of the sampling area within which the imagery falls. This is applied in the
context of urban environments, using Flickr imagery. Empirical analysis is then used to assess the correct-
ness of the chosen tags (i.e. whether the tag correctly describes the geographic region in which the image
was taken). Logistic regression and Bayesian inference are used to attach a probability value to each place
tag. The high correlation values achieved indicate that this methodology can be used to automatically
select place tags for any urban region and thus hierarchically structure UGC in order that it can be seman-
tically integrated with other data sources.

1 Formal and Informal Contributions to the Geospatial Web

The geospatial web comprises multiply sourced data. Some of it is formal, authoritative,
exhaustive and invariably National Mapping Agencies (NMA) are its custodians. Such data
reﬂects an administrative view of geography. Another increasingly important and complemen-
tary source of data to the geospatial web is “crowd sourced data”. Referred to as User Gener-
ated Content (UGC) or Volunteered Geographic Information (VGI), these data are often
incomplete, with little quality control or metadata – their variability reﬂecting the many differ-
ent motivations for their collection (Ames and Naaman 2007). This source of data reﬂects
more an understanding of “place” (events and performance) rather than formal and systematic
descriptions of “space” (Goodchild 2007). UGC varies greatly in its detail, is more qualitative
in nature and vernacular in its form. Its capture is greatly facilitated by sites such as Open
Street Maps, Wikimapia, WikiLocation and Geonames. In some contexts it is even argued that
UGC rivals formal ways of capturing geographic information (Howe 2008). When combined,
these two sources of data offer highly complementary and synergistic approaches to the mining
of geographic data and offer a more intuitive way of understanding place.

Address for correspondence: William A. Mackaness, University of Edinburgh, Drummond Street, Edinburgh, EH8 9XP, UK. E-mail:
william.mackaness@ed.ac.uk
Acknowledgements: We wish to acknowledge the thoughtful, thorough and helpful suggestions of anonymous reviewers and for comments
from researchers at the GISRUK Conference in 2012.

© 2013 John Wiley & Sons Ltd

doi: 10.1111/tgis.12043

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

545

Figure 1 One of many ways in which we might think about “the urban”

1.1 Modelling The Urban

But integrating “formal” datasets with UGC is much more than simple overlay; much has been
written on the need for semantic and ontological modelling in order to automatically conﬂate the
qualitative with the quantitative (Winter 2001, Mustière and van Smaalen 2007). The difﬁculty
of conﬂation lies in the vagueness omnipresent in the geospatial domain (Bittner and Smith
2001), the problematic notion of space, place and region (Montello et al. 2003) and the granu-
larity inherent in the description of geographic concepts (Sheppard and McMaster 2004).

This is no better illustrated than in the examination of urban morphology, for the urban is
forged by complex physical and social processes (Lynch 1960). A shared understanding of its
constituent parts and their connections is hard to come by (Fonseca et al. 2000, Laurini 2007).
Some elements are crisp in their deﬁnition and extent, whilst others have a vernacular form
that is sometimes vague in its extent (Smith and Varzi 2000). Despite this, we argue that at a
broad scale, the vocabulary used to describe the urban is essentially hierarchical in nature.
Thus the city in overview is one that is made up of suburbs, districts and a city centre. At an
intermediate scale we might describe it in terms of green spaces, retail parks, and the “high
street” and at ﬁner scales we might think of the city in terms of its streets, buildings and public
facilities (Figure 1). In this sense we argue that the city is “nested” or partonomically consti-
tuted (van Smaalen 2003, Chaudhry and Mackaness 2007) and that the terms we use to
describe the city carry meaning pertinent to these different scales.

Various authors have argued that these notions of “place” are implicit within user gener-
ated content, but given its unstructured form, data mining techniques are required in order to
extract such “place” information. The beneﬁts of mining UGC results in a capacity to: (1)
search for documents and imagery based on references to the geographical (Hill et al. 2000);
(2) model vernacular geographies (Hollenstein and Purves 2010, Jones et al. 2008, Lüscher
and Weibel 2010); and (3) support more intuitive use of web mapping technologies. More
broadly it enables us to think differently about how we “do” geographic information science
(Kuhn 2007).

In the presentation of this work, Section 2 discusses the value of Flickr tags as a UGC
source, Section 3 reviews information retrieval techniques, Section 4 describes the methodol-

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

546 W A Mackaness and O Chaudhry

ogy, with results presented in Section 5. Section 6 demonstrates the use of data mining tech-
niques for “post selection” of tags that seeks to ﬁlter out selected tags that are not
geographical in nature. The generalizability of the technique is also explored in this section.

2 Flickr Tags as a Source of UGC

The ambition then, is to extract place semantics from unstructured data. In this instance we
have chosen the text labels associated with geolocated Flickr images. Flickr is one the biggest
sources of images on the web (Winget 2006) with an estimated 153 million geo-tagged images
(http://www.Flickr.com/map/). These images have either been geolocated via some mapping
software, or increasingly, automatically by the device through which the image was taken
(GNSS enabled smartphones for example).

The very nature of this form of UGC means that it is often inconsistent, incomplete and
poorly structured (Purves 2011), yet it is its unstructured nature that is both its strength and
weakness. An image can be freely tagged with any number of tags, using any words or phrases
the user so wishes thus affording maximum ﬂexibility. The weakness lies in the absence of cat-
egories and structures that would allow us to readily categorize and integrate such imagery
with other geographic data. Some tags are “non place” tags in that they describe events and
emotions or they are tags that are too generic in their description to reﬂect a shared under-
standing of that place (e.g. daffodils, church, statue) – unless they can be disambiguated by
being combined with other tags (Overell and Rüger 2008). Amongst tags that do describe
place, some relate to small and discrete geographic entities (e.g. a monument), while others
refer to regions big and small (both vernacular or toponym in form). The vernacular reﬂects a
shared description of a place (often with a somewhat vague boundary), whilst toponyms
reﬂect an administrative view – with crisp boundaries (such as street names or public gardens).
The aerial extent and crispness of a region also varies considerably (Jones et al. 2008, Campari
1996). For example, a city zoo might be a large region with a precise boundary, whilst the
boundary to “the High Street” is much less distinct. “The south of the city” has some fuzzi-
ness to it, but “the south of the country” is an even more vague region.

Additionally we must acknowledge that the “free” choice of those tags will be governed
by the context, the user’s geographical knowledge, and their inclination (Ames and Naaman
2007). So in the example of Figure 2, we might ask: how might we extract “place” informa-
tion among the tags used to describe this image (the tags being: Edinburgh, Royal Mile,
Mound, high rise, tenement, PTlens, Scotland, CT3A), and how might it be structured so as to
facilitate its integration and future retrieval?

In seeking to extract meaning from Flickr tags, we assume that the image tags reﬂect a
particular geography of place and space. This is akin to Rattenbury and Naaman’s (2009) idea
of “place semantics”. More particularly, we make the following assumptions (drawn from
Ahern et al. 2007):

(cid:129) The total number of photographs taken in a location is an indication of the relative impor-

(cid:129) The importance of a location increases with the number of individual photographs taken of

(cid:129) Users are likely to use a common set of tags in the description of a place; and
(cid:129) The more users that used a particular tag in an area, the more representative the tag is of

tance of that location;

that location;

that area.

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

547

Figure 2 A geolocated image with tags: Edinburgh, Royal Mile, Mound, high rise, tenement, PTlens,
Scotland, CT3A

To this list we add that where tags occur in a concentrated area, they are likely to repre-
sent a particular place, whereas diffuse homogenous patterns of the same tag are likely to be
representative of a region.

3 Information Retrieval Techniques

In essence, the task of identifying “place tags” is one of data mining using ideas developed in
Information retrieval (IR) (Buttcher et al. 2010). IR techniques were originally applied to text
(Cunningham 2002), the assumption being that frequency of occurrence is an indication of a
word’s signiﬁcance, relative to the size of the document being searched. Any IR technique
(whether applied to text or spatial data) must cope with data for which there is no schema, the
data are unstructured, and there is no clear semantic correlation between the types of queries
and the data. IR methodologies must therefore attempt to infer semantics using a variety of
metrics (Manning et al. 2008). In a geographical context, such techniques must also deal with
the inherently fuzzy nature of geographic phenomena (Purves et al. 2005) as well as their hier-
archical and partonomic nature (Mennis et al. 2000, Bittner and Smith 2001). Various
researchers have applied information retrieval techniques to user generated content (Girardin
et al. 2008), in the analysis of spatio-temporal data (Dubinko et al. 2006) and the analysis of
geo-referenced imagery. Variously the ambition of such research has been to link content to
visualization tools (Ahern et al. 2007), to generate meta-gazetteers (Smart et al. 2010), for
reverse geocoding (attaching meta data to other (untagged) imagery deemed similar to imagery
for which meta data do exist) (Sarin et al. 2007), or to facilitate the integration of user gener-
ated content with other sources of data (Jain et al. 2009).

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

548 W A Mackaness and O Chaudhry

Various authors have presented techniques for extracting structured information from
tagged imagery (Jaffe et al. 2006, Ahern et al. 2007, Girardin et al. 2008, Rattenbury and
Naaman 2009), and unstructured lists (Purves 2011, McCurley 2001). Some techniques exist
for measuring the intensity of tags (Toyama et al. 2003), such as naive and spatial scans –
(Kulldorff 1999) and a number of named entity recognition techniques have been developed to
identify place names and regions from unstructured data (Mikheev et al. 1999, Grothe and
Schaab 2009, Ahern et al. 2007, Kessler et al. 2009).

A commonly used IR technique is to measure a term’s importance by examining the fre-
quency of occurrence in a given document together with an examination of how low its fre-
quency is, across a whole collection of documents. This “term frequency–inverse document
frequency” (TF-IDF) approach attempts to identify semantically signiﬁcant terms that enable
one document to be differentiated amongst a collection of documents (Jaffe et al. 2006,
Dubinko et al. 2006). In a geographical context, the idea of TF-IDF translates to one of count-
ing the number of images with a particular tag, that fall within a speciﬁed region or grid cell.
TF-IDF assigns a high score to tags that have a larger frequency within a grid cell, as com-
pared with the region outside that cell. A threshold can then be used to determine which tags
are deemed “place tags” and those that are “a-spatial” and do not describe any geography.
This is much more productive than merely identifying frequently used terms that may do little
to help differentiate one region from another.

Various authors have observed a scale dependency in the uniqueness and frequency of tags
associated with such imagery (O’Hare and Murdock 2013). This scale dependency reﬂects
‘part of’ hierarchies inherent among the tags – something that Bittner and Smith (2001) refer
to as “ontological zooming”. Serdyukov et al. (2009) used a coarse set of spatial granularities
(1, 5, 10, 50 and 100 km2) to examine these dependencies, and Gschwend and Purves (2012)
examined geomorphometric landscape measures at two levels of resolution. Crandall et al.
(2009) explored issues of scale and place semantics by also looking at two levels of granularity
– the city level (100 km2) and the individual placename level (100 m2), though this was limited
to a speciﬁc set of landmarks for a ﬁxed set of cities. In essence all these approaches seek to
analyze the distribution of occurrences over varying spatial domains (and in the process seek
to address the issue of the modiﬁable areal unit problem (Openshaw 1984).

In order to explore this scale dependency we used a TF-IDF approach that is similar to
Ahern et al. (2007) and Rattenbury and Naaman (2009), in that we applied this technique at a
number of different levels of detail in order to reveal a geographical hierarchy to the tags with
the aim of understanding the partonomic relationships that exist among the tags and identify-
ing the limits of reliability of any given tag in describing place semantics. We did this by divid-
ing the region into a set of regular grids. Searching using small grid cells identiﬁes tags that are
locally important, whilst increasing the “document size” (larger cell size) tends to identify tags
important at the level of the city. Additionally our research extended these ideas by exploring
the generalizability of our approach, by using Logistic regression and Bayesian inference to
measure the correctness of identiﬁed place tags.

4 Methodology

The aim, then, is to extract place semantics from unstructured text labels associated with
geolocated Flickr images. We take as input two elements: the geolocation of a photo (latitude
and longitude), and its associated collection of tag descriptors. Flickr provides a non-
commercial API that enables us to query these images by date, by tags, or geographic location.

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

549

Figure 3 A kernel density map (using a bandwidth of 500 m) of Edinburgh summarizing the distri-
bution pattern of Flickr images across the city

In addition we utilized a free Flickr API programming kit – Flickrj (http://www.Flickr.com/
services/api/) which allows API queries to be embedded within our own code. In our case
study, images for the city of Edinburgh, Scotland were accessed. A total of 134,986 images
with their id, user tags, URL, user id, latitude, and longitude values were thus obtained. As can
be seen from Figure 3, the pattern of locations is far from even, focusing across the central
region of the city, tourist attractions and places with a high visual amenity.

We begin by dividing the region into a set of regular grids. We chose a range of granulari-
ties at relatively ﬁne scales (100, 500, 1,000, 2,000, and 4,000 m2). At the 100 m2, there were
a total of 20,400 100 m2 cells covering the city. Of these, 4,404 cells contained one or more
Flickr images and out of those 4,404 cells, 3,993 cells contained images that had been vari-
ously tagged. The tags were lowercased, with white space and commas removed. So “Royal
Mile, Edinburgh Castle” becomes “royalmile edinburghcastle” which gives us, for each cell, a
“bag of tags” rather than a bag of words. A bag of tags approach has been shown to be a little
more accurate than a bag of words approach. We rank the importance of a tag’s usage pattern
falling within each grid cell at each of the different scales. From this we formed a hierarchical
structure that reﬂects, to some degree, the containment of placenames within more regional
descriptions of urban space.

4.1 Modelling the Local Context

In our study, for each tag contained within a cell we computed its “term frequency” (TF) by
dividing the number of times the tag occurred within the cell by the total number of all tags

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

550 W A Mackaness and O Chaudhry

within that cell. Inverse document frequency (IDF) was computed by taking the logarithm of
the total number of cells that contain one or more tagged images (in our case 3,993) and divid-
ing it by the total number of cells that contain that particular tag. TF-IDF is the product of TF
and IDF. This product (TF-IDF) is the “weight” that is assigned to any given tag. The highest
weighted tag within a cell is then selected as the place tag for that cell. This approach ensures
that those tags which are frequent within one cell but occur rarely in other cells are given a
high weight. So “Princes Street” (frequently occurring within a particular cell) will have a high
weight, whereas “Edinburgh” or “Scotland” will have a low weight since they occur fre-
quently both within the cell as well as across the whole collection of cells.

4.2 Combining TF-IDF with an Object’s View

The TF-IDF approach identiﬁes tags “local” to a region, but it does not remedy the problem of
“tag distortion”. Tag distortion arises where a single individual records a relatively large
number of images, and uses the same tag to describe an event (rather than a place). For
example “Elaine’s wedding” was one such tag common to a selected cell – one in which 20
separate images were spatially contained within a particular cell. We can resolve this problem
if we take an object’s perspective of the tag, rather than a subject’s perspective. We might real-
istically expect different people to use the same tag, thus corroborating the validity of that tag.
In the example of “Elaine’s Wedding”, it is very unlikely that other people would use this tag
within the same cell. So by attaching importance to the number of different users who use a
particular tag, we overcome the distorting effect of a single user attaching the same tag to mul-
tiple images falling in the same cell. So instead of using tag occurrences we use user frequencies
associated with each tag when calculating TF-IDF weights. Using the unique user count
reduces the TF for tags such as “Elaine’s wedding” and IDF ensures that tags with a high user
count, such as “Edinburgh” and “Scotland”, will have low IDF values. This results in low
weights (TF-IDF) for both of these types of tags. All tags contained within a particular cell are
then sorted in descending order and the tag with the highest weight is selected.

As a reﬁnement, the tag is selected only if it has a “user count” of at least two. This extra
condition ensures that at least two distinct users have used the same tag. If this condition is
not met then the next tag in the sorted list is checked and so on until both conditions are met.
By applying this technique 3,951 cells were assigned a tag at the 100 m2 spatial resolution for
the city of Edinburgh.

Given our interest in exploring the hierarchical nature of place tags, we applied the same
methodology but to increasingly larger cell sizes, but covering the same region. We applied the
technique to grid cells with resolution: 500, 1,000, 2,000, and 4,000 m2 covering the city of
Edinburgh. Once the label was selected for each cell at a speciﬁc level (100 m2 to 4,000 m2) we
aggregated adjacent cells if they had the same label. This created continuous regions that
shared the same tag.

5 Results

Figure 4 shows the result from around Edinburgh city centre (around Edinburgh Castle and
along a street called “The Royal Mile”). Figure 4 shows the selected tags as labels for each cell
at the different levels of detail. At each higher level the most dominant tag (highest TF-IDF
weight) is selected as the label. The output is a surface of place semantics, reﬂecting a socially
deﬁned process of people’s understanding of place that more readily conforms to people’s

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

551

a

b

Figure 4 (a) Selected labels from tags at different levels (4,000 to 500 m2) of spatial detail; and (b)
Selected tags at 100 m2 for the region highlighted in (a) at 500 m2

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

552 W A Mackaness and O Chaudhry

Figure 5 A “treeview” visualization of selected tags and their unique user frequency at different
levels of detail

experience of place (Davies et al. 2009). The fact that it reﬂects a more intuitive sense of place
is the very reason why it is relevant to the design of intuitive interfaces. For example, output
from this research has been incorporated into a mobile, dialogue based interactive system that
supports tourist’s exploration of the city (Mackaness et al. 2013).

From the information so derived, we created an interactive tree view (Figure 5) (Visualiza-
tion applet at http://www.omairchaudhry.net84.net/City_Viz/TreeView_UserFreq.html)
in
order to explore these hierarchal relationships in more detail. The cells are connected hierar-
chically via their spatial relationship – “contained by”. The numbers next to each tag name in
Figure 5 is the user frequency of that tag at a particular level of detail. For instance tag
“royalmile” at 4,000 m2 has a user frequency of 413 meaning there are 413 different users that
have used this tag. This visualization was created by building upon the freely available prefuse
java library (Heer et al. 2005).

5.1 Evaluation

The question now becomes: “at these various scales, how correct are these place tags in
describing these vernacular regions?”. In other words, we want to evaluate the outputs and
assess the veracity (or correctness) of this approach in selecting tags representative of place.
We wanted to know how generalizable the approach was, and whether we could predict the

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

553

Figure 6 Result of manual inspection revealing increased presence of non-place tags at smaller cell
sizes for Edinburgh, UK

likelihood of the correctness of a place tag for any urban environment, not just Edinburgh. Ini-
tially we compared our results against Geonames (http://www.geonames.org) but rather than
act as a yardstick, it highlighted the incompleteness of Geonames! Instead, the evaluation took
the form of manual inspection of the output. In other words the place tags selected by the
above approach were compared with results from web-based searches of the place tag, com-
paring textual and pictorial locations with the relevant grid cell locations. The authors also
used their local knowledge of the area to classify the tags. Whilst this might introduce bias, in
reality it was a simple task to identify non-place tags.

Review of these visualizations revealed that there were still “non place” tags present
among selected tags, most notably at the ﬁnest level of detail (100 m2). Date tags were a
typical example of this. This happens because a tag will have less weight either because there
are very few distinct users that have used that tag or because it is common to a broader collec-
tion of cells. Among tags at the 100 m2 scale, it was found that out of a total of 3,951 cells
(100 m2) assigned a tag, only 34% contained a place tag; the remainder were unrelated to
place (non-place tags). Similar manual inspections were carried out for the selected tags at all
other scales. Figure 6 illustrates how “non-place tags” selected by this approach are greatest at
the most detailed level. But at the broader scale (larger grids), the TF-IDF values for non-place
tags were less as compared to place tags. This is because the spatial extent is larger and there
are more images that have tags describing place.

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

554 W A Mackaness and O Chaudhry

Table 1 Variables used in the logistic regression model

x1
x2
x3
x4
x5
x6
x7

the user frequency of a selected tag within a cell
the user frequency of the selected tag in the whole collection (all cells)
the selected tag frequency within a cell
the selected tag frequency in the whole collection
the total number of images contained by a cell
the total user frequency for all the tags contained by a cell
the total raw frequency of all the tags contained by a cell

6 Post Selection Reﬁnement Using Data Mining Techniques

Techniques such as “stop words” and “controlled vocabularies” have been proposed to mini-
mize the chances of selecting non-place tags (Pasley et al. 2008, Croft et al. 2009). As an alter-
native to these approaches, we used data mining techniques as a way of attaching a conﬁdence
value to selected tags at the various granularities. The aim was to further reﬁne the above
approach such that a conﬁdence value, representing the probability that it is indeed a place tag
rather than anything else can be attached to each selected tag. This value can then be used as a
basis for further reﬁning the selection process. We ﬁrst explored the use of logistic regression
and subsequently experimented with a second approach that used Bayesian inference. In both
approaches we undertook a manual assessment to build and test the accuracy of the two
approaches. For each approach we randomly selected 70% of the manually classiﬁed cases at
100 m2 to build the model (logistic regression). We also used it as the training data for the
Bayesian approach. The remaining 30% of the manually classiﬁed data at 100 m2 and 100%
of the data at all other levels of detail (500 to 4,000 m2) were used to assess the validity of the
approach.

6.1 (Binary) Logistic Regression

Logistic regression is similar to multiple regression except that the dependent variable in the
logistic regression is sampled as a binary variable i.e. non-place (y = 0) or place tag (y = 1).
Logistic regression therefore models the probability of presence and absence for a given
observed value among the predictor variables. The probability function can be written as
(Allison 2001):

=(

P Y

) =
1

1
+
x
1 1

(
+ − +
α β
e

1

β

x
2 2

+ +

β…

)

xn n

(1)

where y is the dependent variable, a is the intercept, b is the coefﬁcient(s) of the independent
variable(s), x. Equation (1) can be used to calculate the probability that the outcome (depend-
ent variable) will be 1. In this research y is 1 if the selected tag is considered to be the correct
place tag for a given cell (using manual inspection), otherwise it is 0 (non-place tag).

For each cell and its selected tag, we calculated a number of variables, xn. These are listed
in Table 1. Stepwise binary logistic regression was carried out in SPSS (Kleinbaum et al.
2010).We randomly selected 70% of the manually classiﬁed cases at 100 m2 to build the
model. The remaining 30% at 100 m2 and all the selected tags at the remainder of the scales
were used to test the accuracy of the model.

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

555

Table 2 Selected variables in the model

Variables

B

x1
x2
x4
Intercept (a)

1.413
.013
-.001
-2.738

S.E.

.090
.002
.000
.121

Wald

246.095
46.500
35.958
512.187

df

1
1
1
1

Sig.

.000
.000
.000
.000

Exp(B)

4.107
1.013
.999
.065

Table 3 Classiﬁcation table with 0.5 as the cutoff value at the 100 m2 scale

Predicted

Class

0

1697
410

Selected Cases (70%)

Remaining Cases (30%)

Percentage
Correct

1

112
549

94
57
81

Class

0

751
172

1

37
223

Percentage
Correct

95
56
82

Observed

Class

0
1

Overall Percentage

Nagelkerke is a measure of model ﬁt for logistic regression. It is a modiﬁed version of Cox
and Snell’s measure of signiﬁcance with a value that lies between 1 and 0 (Nagelkerke 1991).
In this analysis, Nagelkerke’s R2 value for the model was 0.423. Table 2 lists the selected vari-
ables (x1, x2 and x4) from the last stage of the stepwise logistic regression together with their
coefﬁcient values – the standard output from SPSS (Kleinbaum et al. 2010). The signiﬁcance
value of 0.000, being less than 0.05, indicates that the variable is highly signiﬁcant in account-
ing for the likely correctness of a place tag. Table 3 summarizes the results in the ﬁnal classiﬁ-
cation stage. The cut-off value used in Table 3 to separate between cases classiﬁed as 0 or 1, is
0.5. This simply means that if the resultant probability for a selected tag is 0.5 or more it will
belong to class 1, i.e. it is a place tag. If it is 0.49 or less it will be deemed to belong to class 0
(a non-place tag). This approach revealed that in about 81% of the cases, the tag was correctly
identiﬁed among the selected classes using these three variables (Table 3). The same model was
subsequently applied to the remaining 30% of the selected tags at 100 m2, where just over
82% of the tags were correctly identiﬁed.

Once the model was built (Table 3) at the most detailed scale we applied the same model
to the remaining larger cells (coarser scales). The results from the model were evaluated
against the manual inspection carried out in the previous section. The results of observed
against predicted are presented in Table 4. For example, at the 1,000 m2 grid cell, the logistic
model correctly predicted 111 out of 132 place tags, and identiﬁed 39 tags as indeed being
non-place tags out of 50 tags. The table illustrates that, the ability of the model to predict
correct result (in terms of sensitivity and speciﬁcity) increases signiﬁcantly (especially for true
positive) as the scale reduces.

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

556 W A Mackaness and O Chaudhry

Table 4 Evaluation of the logistic model (Table 2) as compared against manual classiﬁcation at
various levels of detail. The probability cut off value is 0.5 – the same as in Table 3

Predicted
Scale

Class

Observed

500 m2

1,000 m2

2,000 m2

4,000 m2

0
1
0
1
0
1
0
1

0

220
99
39
21
1
0
0
0

1

29
216
11
111
2
47
0
10

% Correct

88
69
78
84
33
100

100

6.2 Bayesian Inference

The overall average for correct results using logistic regression was above 80% (the overall
percentage from Table 3). However the percentage of true positives at the ﬁnest scale of
100 m2 was not as good, at about 57% (Table 3). We therefore decided to test another data
mining technique, namely Bayesian inference, to assess whether this approach could improve
upon the reliability in such cases. Bayes’ Rule is a simple way of calculating conditional prob-
abilities (Hacking 2001). Conditional probabilities are those probabilities whose value
depends upon the value of another probability value (Duda et al. 2001). The Bayesian decision
rule tries to minimize the probability of error in a decision by deciding the most probable
outcome. Probabilistic inference in Bayesian networks is a well understood approach (Russell
and Norvig 2003).

Using a Bayesian approach, we can answer questions of the following form: “For a given
selected tag for a cell with a speciﬁc set of characteristics (as listed in Table 2), what is the like-
lihood that it belongs to the list of place tags, or non-place tags, given this speciﬁc set of char-
acteristics?”. What is returned is a probability value reﬂecting the likelihood that the tag
should indeed be selected as a meaningful tag for that cell. Here we used an approach similar
to that proposed by Lüscher et al. (2009). They used normal kernel density estimation tech-
niques to determine joint probability density values for different building types in the Topogra-
phy Layer of Ordnance Survey MasterMap (Ordnance Survey 2007). The value was then used
to classify buildings into terraced or non-terraced houses. In essence this involved comparing
an unknown with a sample of “knowns” (training sample) and classifying the unknown
according to how similar it was to the “knowns”.

The joint conditional probability for a classiﬁcation of an unknown is given by Equation

(2) (Lüscher et al. 2009):

(cid:2)

(

P f C c
c

=

) =

N

∑1
(cid:2)
N h

=

1

i

K

(cid:2)
f

i

(cid:2)
−⎛
f
(cid:2)
⎝⎜
h

⎞
⎠⎟

(2)

where Pc is the conditional probability of the unknown for the predicted class C, N is the
(cid:2)
h is a smoothing parameter called the bandwidth,
number of samples in the training dataset,

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

557

Table 5 Classiﬁcation result using Bayesian inference for Edinburgh at different levels of detail

Predicted
Scale

Class

% Correct

Observed

100 m2

500 m2

1,000 m2

2,000 m2

4,000 m2

0
1
0
1
0
1
0
1
0
1

0

727
113
239
72
48
30
2
7
0
0

1

61
282
8
245
3
101
2
39
0
10

92
71
97
77
94
77
50
84

100

K is the standard normal distribution function,
(cid:2)
fi is the vector of the same properties of training dataset.

(cid:2)
f is the vector of properties of unknown, and

The same 70% of randomly selected manually classiﬁed tags, as used in the logistic regres-
sion, were used as the training dataset. The remaining 30% at 100 m2 and the remainder of the
dataset at lower levels of detail (500–4,000 m2) were “withheld” in order to assess the accuracy
of this approach. Table 5 presents the result of the Bayesian approach for all the unselected cases
i.e. the non-training dataset for Edinburgh at all levels of detail. It is important to point out that
the attributes (or properties) used for Bayesian classiﬁcation are the same as the ones selected for
logistic regression i.e. x1 (the user frequency of a selected tag within the cell); x2 (user frequency
of the selected tag in the whole collection); and x4 (selected tag frequency in the whole collec-
tion). The overall accuracy in classiﬁcation of the non-training dataset at 100 m2 using this
approach is 85% – marginally better than the overall accuracy using logistic regression (Table 3).
A major difference is in the improvement of the correct selection of place tags (y = 1) – namely
71% (Table 5) using this approach as compared to 56% (Table 3) using logistic regression at
100 m2. Similarly at other scales there is an improvement in the correct prediction of classiﬁca-
tion of both non-place and place tags (Tables 4 and 5).

By examining a large number of images at a range of scales, our approach is able to
predict the reliability with which place semantics can be inferred from image tags. The analysis
has shown how scale is an inherent property of place semantics – that groupings of images
reveal different geographical extents (from statues to plazas, from parks to cities). We mapped
these probability values against the selected tag, visualized in Figure 7 (Visualization applet
http://omairchaudhry.net84.net/City_Viz/Tree_View_Tags_Conﬁdence_Bayes.
available
html). In effect these values show how conﬁdent the approach is in deciding that a tag is
indeed a place tag.

at

6.3 Observations and Discussion

The broader motivation for mining geographical user generated content is to enable data inte-
gration between structured and unstructured data, to support reverse geocoding, to create
meta gazeteers, make more intuitive interfaces, and ultimately to enable a richer modelling of

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

558 W A Mackaness and O Chaudhry

Figure 7 Tree view of selected tags with associated probability value that indicates the likelihood of
it being a place tag as predicated by the Bayesian logic

“place”. Whilst data mining techniques have had to deal with the fuzzy and multi-scaled
nature of geographic information, they have not examined the reliability of these approaches,
nor explored their generalizability. Thus the motivation for this research has been to: (1)
explore the multi-scaled nature of user generated content; and (2) apply statistical techniques
to a large number of images at a range of scales in order to be able to predict the reliability
with which place semantics can be inferred from image tags. Thus our ﬁrst research question
was to explore how varying the document size (cell size) changed the prominence of each tag.
We observed that place speciﬁc names were replaced by more regional ones at more granular
scales, but that typical tag lists could not be expected to represent all granularities. “Place” is
not homogenous; the intensity and extent of place is governed by cultural, geographical and
historical drivers, and its mapping will depend on visual amenity and popularity – the very
reason why it is so important to be able to assess the reliability of a tag. Our research shows
that as you move away from popular attractions and the city centre, that tags become less reli-
able. The ambition of this approach has been to ﬁlter out non-place semantics, but this is not
to ignore the value of “non-place” tags. For example, such tags can be used to model emotions
or saliency characteristics of a place (Schmitz 2006).

Our results show that for a given set of geolocated images the reliability of place tags at
the ﬁne scale are less reliable that at more granular scales. The conﬁdence values of intermedi-
ate geographies are highest and at very granular levels (i.e. at the “city” scale) the conﬁdence
values are also high. At scales in-between, tags are less effective at describing the partonomic
structure of the city. This is because tags are rarely “even” in their step change of description.
So you tend not to get a “nice” set of tags such as “panda, zoo, Corstophine district, North
West Edinburgh, Edinburgh Scotland”. More likely would be the case of “Panda, Edinburgh
Zoo” (i.e. an absence of tags describing various granularities of location). This may well be
sufﬁcient from the user’s point of view since they have no further interest (or knowledge) with
which to further enrich the tags.

We acknowledge limitations to this work. As with all research exploring the utility of
UGC, errors can arise in both the assignment of coordinates to an image, and in the choice of
tags associated with an image. Purves (2011) also warns of a circularity that can arise in the

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

559

choice of tag as to whether it reﬂects actual local knowledge or is selected based on a consen-
sus derived from the geospatial web itself. Furthermore, a tag may not so much represent its
location as the object in the ﬁeld of view. This is more problematic in rural contexts than
urban ones where the distance between the observer and the object of interest in a rural
context can be large. Evidence suggests however, that generally users seek to record their loca-
tion rather than the location of the object in the image (Hollenstein and Purves 2010). The
positional accuracy of the device may affect the results. Typical positional accuracy of GNSS
enabled cameras is 10–30 m. Given the nature of the task, and the size of the grid cells used,
this was not deemed to affect the precision of the results. We also acknowledge that the
boundary of a cell may intersect part way across a region and therefore fail to capture its true
extent, though this problem is partially addressed by varying the cell sizes and merging cells
that have the same place tag, thus creating continuous regions.

Future work will explore: (1) different grid shapes and the use of KDE techniques
(Hollenstein and Purves 2010, Grothe and Schaab 2009); and (2) its utility in rural contexts,
and the use of “leveraging strategies” such as smoothing values using neighbouring cells
(O’Hare and Murdock 2013), though Serdyukov et al. (2009) observed limited improvement
in performance using this approach. It would be interesting to use viewshed modelling as a
way of helping us differentiate tags that refer to the image taker’s location rather than what is
in the ﬁeld of view; however, in an urban context this has been found to be a manageable
problem, particularly where a high density of images exist (Jaffe et al. 2006).

7 Conclusions

There is considerable potential in the exploitation of the geospatial web – the assumption
being that tags reﬂect concepts that humans readily understand and use in their day-to-day
language (despite their vague and imprecise nature). We argue that the beneﬁts of combining
user generated content with “formal” sources can best be achieved by systematically attaching
metadata to UGC. The challenge is in reliably extracting descriptions of space among a bag of
tags associated with any given image. In this article we have deepened our understanding of
the relationship between scale and the reliability of a place tag in describing place. By using
logistic regression and Bayesian inference we have identiﬁed three characteristics that most
govern the likely correctness of a place tag selected by the TF-IDF approach. The use of these
data-mining techniques enables us to predict the conﬁdence with which we can identify place
tags for any given region (not just Edinburgh). Although the Bayesian approach proved to be
better at all scales, the reliability of both models increases as the scale of observation
decreases. The use of data mining techniques (logistic regression and Bayesian inference) has
enabled us to explore the veracity of this approach and thus assess the reliability of this tech-
nique for any given urban region.

References

Interscience

Ahern S, Naaman M, Nair R, and Yang G J 2007 World explorer: Visualizing aggregate data from unstructured
text in geo-referenced collections. In Proceedings of the Seventh ACM/IEEE-CS Joint Conference on
Digital Libraries (JCDL), Vancouver, British Columbia: 1–10

Allison P D 2001 Logistic Regression Using the SAS System: Theory and Application. New York, Wiley

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

560 W A Mackaness and O Chaudhry

Ames M and Naaman M 2007 Why we tag: Motivations for annotation in mobile and online media. In Pro-
ceedings of the SIGCHI Conference on Human Factors in Computing Systems (CHI (cid:2)07), San Jose, Cali-
fornia: 971–80

Bittner T and Smith B 2001 A taxonomy of granular partitions. In Montello D R (ed) COSIT 2001. Berlin,

Springer-Verlag Lecture Notes in Computer Science Vol. 2205: 28–43

Buttcher S, Clarke C L A, and Cormack G V 2010 Information Retrieval: Implementing and Evaluating Search

Engines. Cambridge, MA, MIT Press

Campari I 1996 Uncertain boundaries in urban space. In Burrough P A and Frank A U (eds) Geographic

Objects with Indeterminate Boundaries. London, Taylor and Francis: 155–69

Chaudhry O Z and Mackaness W A 2007 Utilising partonomic information in the creation of hierarchical geog-
raphies. In Proceedings of the Tenth ICA Workshop on Generalisation and Multiple Representation,
Moscow, Russia

Crandall D, Backstrom L, Huckenlocher D, and Kleinberg J 2009 Mapping the world’s photos. In Proceedings

of the Eighteenth International World Wide Web Conference, Madrid, Spain

Croft B, Metzler D, and Strohman T 2009 Search Engines: Information Retrieval in Practice. Boston, MA,

Cunningham H 2002 GATE: A general architecture for text engineering. Computing and the Humanities 36:

Addison-Wesley

223–54

Davies C, Holt I, Green J, Harding J, and Diamond L 2009 User needs and implications for modelling vague

named places. Spatial Cognition and Computation 9: 174–94

Dubinko M, Kumar R, Magnani J, Novak J, Raghavan P, and Tomkins A 2006 Visualizing tags over time. In
Proceedings of the Fifteenth International Conference on World Wide Web (WWW (cid:2)06), Edinburgh, Scot-
land: 193–202

Duda R O, Hart P E, and Stork D G 2001 Pattern Classiﬁcation. New York, John Wiley and Sons
Fonseca F, Egenhofer M, Davis C, and Borges K 2000 Ontologies and knowledge sharing in urban GIS. Com-

Girardin F, Calabrese F, Fiore F D, Ratti C, and Blat J 2008 Digital footprinting: Uncovering tourists with user-

puters, Environment and Urban Systems 24: 232–51

generated content. Pervasive Computing 7: 36–43

Goodchild M F 2007 Citizens as sensors: The world of volunteered geography. GeoJournal 69: 211–21
Grothe C and Schaab J 2009 Automated footprint generation from geotags with kernel density estimation and

support vector machines. Spatial Cognition and Computation 9: 195–211

Gschwend C and Purves R 2012 Exploring geomorphometry through user generated content: Comparing an
unsupervised geomorphometric classiﬁcation with terms attached to georeferenced images in Great Britain.
Transactions in GIS 16: 499–522

Hacking I 2001 An Introduction to Probability and Deductive Logic. Cambridge, UK, Cambridge University

Press

Heer J, Card S K, and Landay J A 2005 PREFUSE: A toolkit for interactive information visualization. In Pro-

ceedings of the SIGCHI Conference on Human Factors in Computing Systems, Portland, Oregon

Hill L, Carver L, Larsgaard M, Dolin R, Smith T, Frew J, and Rae M-A 2000 Alexandria Digital Library: User
evaluation studies and system design. Journal of the American Society for Information Science 51: 246–59
Hollenstein L and Purves R S 2010 Exploring place through user-generated content: Using Flickr tags to describe

city cores. Journal of Spatial Information Science 1: 21–48

Howe J 2008 Crowdsourcing: How the Power of the Crowd is Driving Business. New York, Crown Business
Jaffe A, Naaman M, Tassa T, and Davis M 2006 Generating summaries and visualization for large collections of
geo-referenced photographs. In Proceedings of the Eighth ACM International Workshop on Multimedia
Information Retrieval, Santa Barbara, California

Jain P, Yeh P Z, Verma K, Henson C A, and Sheth A P 2009 SPARQL Query re-writing using partonomy based
transformation rules. In Proceedings of the Third International Conference on Geospatial Semantics,
Mexico City, Mexico: 140–58

Jones C B, Purves R S, Clough P D, and Joho H 2008 Modelling vague places with knowledge from the Web.

International Journal of Geographical Information Science 22: 1045–65

Kessler C, Mau P, Heuer J T, and Bartoschek T 2009 Bottom-up gazetteers: Learning from the implicit seman-
tics of geotags. In Proceedings of the Third International Conference on GeoSpatial Semantics, Mexico
City, Meexico

Kleinbaum D G, Klein M, and Pryor E R 2010 Logistic Regression: A Self-Learning Text. Berlin, Springer
Kuhn W 2007 Volunteered geographic information and geographic information science. In Proceedings of the
NCGIA and Vespucci Specialist Meeting on Volunteered Geographic Information, Santa Barbara,
California

Kulldorff M 1999 Spatial scan statistics: models, calculations, and applications. In Glaz J and Balakrishnan M

(eds) Scan Statistics and Applications. Boston, MA, Birkhauser: 303–22

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

Assessing the Veracity of Methods for Extracting Place Semantics from Flickr Tags

561

Laurini R 2007 Pre-consensus ontologies and urban databases. In Teller J, Lee J R, and Roussey C (eds) Ontolo-

gies for Urban Development. Berlin, Springer Verlag: 13–6

Lüscher P and Weibel R 2010 Semantics matters: Cognitively plausible delineation of city centres from point of
interest data. In Proceedings of the Thirteenth Workshop of the ICA Commission on Generalisation and
Multiple Representation, Zurich, Switzerland

Lüscher P, Weibel R, and Burghardt D 2009 Integrating ontological modelling and Bayesian inference for
pattern classiﬁcation in topographic vector data. Computers, Environment and Urban Systems 33: 363–74

Lynch K 1960 The Image of the City. Cambridge, MA, MIT Press
Mackaness W A, Bartie P, Dalmas T, Janarthanam S, Lemon O, Liu X, and Webber B 2013 SpaceBook: Design-
ing and evaluating a spoken dialogue based system for urban exploration. In Proceedings of GISRUK
2013, Liverpool, United Kingdom

Manning C D, Raghavan P, and Schutze H 2008 Introduction to Information Retrieval. Cambridge, Cambridge

University Press

McCurley K S 2001 Geospatial mapping and navigation of the Web. In Proceedings of the Tenth International

Conference on the World Wide Web, Hong Kong

Mennis J L, Peuquet D J, and Qian L 2000 A conceptual framework for incorporating cognitive principles into
geographical database representation. International Journal of Geographical Information Science 14:
501–20

Mikheev A, Grover C, and Moens M 1999 XML tools and architecture for named entity recognition. Journal of

Markup Languages: Theory and Practice 1: 89–113

Montello D R, Goodchild M F, Gottsegen J, and Fohl P 2003 Where’s downtown? Behavioral methods for

determining referents of vague spatial queries. Spatial Cognition and Computation 3: 185–204

Mustière S and van Smaalen J 2007 Database requirements for generalisation and multiple representations. In
Mackaness W A, Ruas A, and Sarjakoski L T (eds) Generalisation of Geographic Information: Carto-
graphic Modelling and Applications. Oxford, Elsevier

Nagelkerke N J D 1991 A note on a general deﬁnition of the coefﬁcient of determination. Biometrika 78:

O’Hare N and Murdock V 2013 Modeling locations with social media. Journal of Information Retrieval 16:

Openshaw S 1984 The Modiﬁable Areal Unit Problem. Norwich, Geo Books
Ordnance Survey 2007 OS MasterMap Topography Layer: User Guide and Technical Speciﬁcation. Southamp-

691–92

30–62

ton, United Kingdom

Overell S and Rüger S 2008 Using co-occurrence models for placename disambiguation. International Journal of

Geographical Information Science 22: 265–87

Pasley R, Clough P, Purves R S, and Twaroch F A 2008 Mapping geographic coverage of the web. In Proceed-
ings of the Sixteenth ACM SIGSPATIAL International Conference on Advances in Geographic Informa-
tion Systems, Irvine, California

Purves R S 2011 Methods, examples and pitfalls in the exploitation of the geospatial web. In Hesse-Biber S N
(ed) The Handbook of Emergent Technologies in Social Research. Oxford, Oxford University Press
Purves R, Clough P, and Joho H 2005 Identifying imprecise regions for geographic information retrieval using

the web. In Proceedings of GISRUK 2005, Glasgow, Scotland

Rattenbury T and Naaman M 2009 Methods for extracting place semantics from Flickr tags. ACM Transactions

on the Web 3: 1–30

Russell S and Norvig P 2003 Artiﬁcial Intelligence: A Modern Approach. Englewood Cliffs, NJ, Prentice Hall
Sarin S, Nagahasi T, Miyosawa T, and Kameyama W 2007 On automatic contextual metadata generation for
personal digital photographs. In Proceedings of the Ninth International Conference on Advanced Commu-
nication Technology (GITS), Saitama, Japan

Schmitz P 2006 Inducing ontology from Flickr tags. In Proceedings of the Workshop on Collaborative Web

Tagging at WWW2006, Edinburgh, Scotland

Serdyukov P, Murdock V, and van Zwol R 2009 Placing ﬂickr photos on a map. In Proceedings of the Thirty-
second International ACM SIGIR Conference on Research and Development in Information Retrieval
(SIGIR (cid:2)09), Washington, D.C.: 484–91

Sheppard E and McMaster R B 2004 Scale and geographic inquiry. In McMaster R B and Sheppard E (eds) Scale

and Geographic Inquiry: Nature Society and Method. Malden, MA, Blackwell: 1–22

Smart P D, Jones C B, and Twaroch F A 2010 Multi-source toponym data integration and mediation for a meta-
gazetteer service. In Fabrikant S I, Reichenbacher T, van Kreveld M, and Schlieder C (eds) Geographic
Information Science: Sixth International Conference, GIScience 2010. Berlin, Springer Lecture Notes in
Computer Science Vol. 6292: 234–48

Smith B and Varzi A C 1997 The formal ontology of boundaries. The Electronic Journal of Analytic Philosophy

5: 5

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

562 W A Mackaness and O Chaudhry

Toyama K, Logan R, and Roseway A 2003 Geographic location tags on digital images. In Proceedings of the

Eleventh ACM International Conference on Multimedia, Berkeley, California: 156–66

Van Smaalen J 2003 Automated Aggregation of Geographic Objects: A New Approach to the Conceptual Gen-

eralisation of Geographic Databases. Unpublished Doctoral Dissertation, Wageningen University

Winget M 2006 User-deﬁned classiﬁcation on the online photo sharing site Flickr. In Proceedings of the Seven-

teenth ASIS&T SIG/CR Classiﬁcation Research Workshop, Austin, Texas

Winter S 2001 Ontology: Buzzword or paradigm shift in GIS Science? International Journal of Geographical

Information Science 15: 679–87

© 2013 John Wiley & Sons Ltd

Transactions in GIS, 2013, 17(4)

