G   E   O   M   A   T   I   C   A

INTRODUCTION TO A PORTABLE
STEREO MAPPING SYSTEM FOR
UNMANNED VEHICLES
Julien Li-Chee-Ming and Costas Armenakis
Geomatics Engineering, GeoICT Lab
Department of Earth and Space Science and Engineering, York University, Toronto, Ontario

This work introduces a Mobile Stereo Mapping System (MSMS) designed for remote operation onboard
unmanned vehicles for navigation and rapid collection of 3D spatial data through direct georeferencing and
integration of optical and multiple navigation sensors. By avoiding the need for ground control points, the
system offers a low-cost mapping solution for both kinematic and static cases, rapid deployments, high data
resolutions, and low risk to operators. Position estimation of the camera is based on differential GPS, loosely
coupled  in  a  Kalman  filter  with  a  low-cost  Micro  Electro-Mechanical  Systems  (MEMS)  based  Inertial
Measurement Unit (IMU). Attitude is estimated from gyroscope data, aided by accelerometer and magne-
tometer data to compensate for gyro drift. Two low-cost consumer digital cameras are calibrated and time-syn-
chronized with the GPS/IMU to provide directly georeferenced stereo imagery. The MSMS determines mapping
coordinates  using  photogrammetric  solutions  modified  for  direct  georeferencing. A  calibration  process  has
been developed for the sensor components and the integrated system itself to determine systematic errors and
biases, and to determine the relative geometry of the sensors. Object space accuracies (Root Mean Square
Error (RMSE)) in the range of 1/100 at camera-to-object distances of about 30m were achieved using wide
baseline overlapping images taken from two separate positions of the stereo-metric MSMS. The system design
and the calibration and mapping accuracy of the MSMS are presented and assessed using field testing.

Le présent article décrit un Système de cartographie en stéréo mobile (SCSM) conçu pour les opérations à
distance de navigation à bord de véhicules sans pilote et la collecte rapide de données spatiales 3D au moyen de
la géoréférence et de l’intégration de capteurs de navigation optiques et multiples en direct. En évitant le besoin
d’avoir des points de contrôle terrestres, le système offre une solution de cartographie peu coûteuse tant pour les
cas cinématiques que statiques, des déploiements rapides, des données à haute résolution et des risques peu élevés
pour les opérateurs. L’estimation de la position de la caméra est fondée sur le système de localisation GPS
différentiel, couplé lâchement dans un filtre Kalman avec une unité de mesure inertielle (UMI) fondée sur des
Systèmes microélectromécaniques (MEMS) peu coûteux. L’attitude est estimée à partir des données du gyroscope,
avec l’aide de données d’un accéléromètre et d’un magnétomètre pour compenser la dérive du gyroscope. Deux
caméras numériques grand public peu coûteuses sont calibrées et synchronisées dans le temps avec le GPS/UMI
pour fournir des images stéréo directement géoréférencées. Le SCSM détermine les coordonnées de cartographie
en utilisant des solutions photogrammétriques modifiées pour la géoréférence directe. Un processus de calibration
a été développé pour les composantes des capteurs et le système intégré lui-même afin de déterminer les biais et
les erreurs systématiques et pour déterminer la géométrie relative des capteurs. Des précisions d’environ 30 mètres
pour les objets dans l’espace (l’erreur-type), soit de l’ordre de 1/100 de la distance entre la caméra et l’objet, ont
été atteintes en utilisant des images à larges lignes de base qui se chevauchent et qui ont été prises à partir de deux
positions distinctes du SCSM stéréo métrique. La conception et la calibration du système ainsi que la précision de
cartographie du SCSM sont présentées et évaluées en utilisant des essais sur le terrain.
1. Introduction

Mapping  and  Geospatial  Information  System
(GIS) projects require georeferenced imagery that is
accurate,  easily  updated,  acquired  rapidly  and  low
cost. Furthermore, the acquisition of spatial data is a
time-critical operation for situations such as emer-
gency  and  disaster  response,  where  conditions  are
generally  unfavourable  for  manned  mapping  sys-
tems. Low-cost autonomous vehicle platforms offer
a great opportunity for developing mobile mapping
systems, enabling the automated collection of spatial

data. Unmanned vehicles were developed primarily
for military applications, but recently a new gener-
ation of civilian low-cost unmanned vehicles started
to be employed for the aforementioned time-critical
operations  [Doherty  and  Rudol 2007;  Puri 2005].
The  use  of  low-cost  unmanned  mobile  mapping
systems  for  mapping,  monitoring  and  tracking  is
under  development,  but  over  recent  years  the
geospatial  information  industry  has  significantly

Julien
Li-Chee-Ming
julienli@yorku.ca

Costas Armenakis
armenc@yorku.ca

GEOMATICA  Vol. 66, No. 4, 2012, pp. 323 to 332

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.G   E   O   M   A   T   I   C   A

expanded in both government and industry sectors.
As such, the demand has increased for fast and effi-
cient  techniques  for  acquisition,  processing,  and
presentation  of  large  quantities  of  geospatial  data.
The ultimate goal of this research is to provide met-
ric  and  thematic  data  about  the  mapped  features
and  objects 
the  form  of  geo-products,
DEM/DSM and orthoimages, 3D models and video
data.  The  fundamental  step  in  generating  this
geospatial  data  is  the  transformation  of  data  col-
lected by imaging and ranging sensors, such as dig-
ital  cameras  and/or  Light  Detection  and  Ranging
(LIDAR) laser scanners, from the local body plat-
form frame to a mapping frame.

in 

The  mapping  system  presented  in  this  paper
explores  the  concept  of  direct  georeferencing,
which  eliminates  the  use  of  ground  control  points

(GCPs),  in  an  effort  to  reduce  the  cost,  labour
hours,  and  time  required  to  complete  a  mapping
project  integrated  with  optical  and  multiple  sen-
sors.  The  low-cost,  portable,  and  light-weight
MSMS,  shown  in  Figure  1,  has  been  developed,
implemented, and tested.

The  system  is  designed  for  remote  operation
onboard  unmanned  vehicles  for  navigation  and
rapid  collection  of  3D  spatial  data  through  direct
georeferencing of the optical sensors using multiple
low cost navigation sensors (GPS, IMU, and mag-
netometer).  Figure  2  shows  the  MSMS  mounted
onto  Clearpath’s  Husky  A200  Unmanned  Guided
Vehicle  (UGV)  [Clearpath 2012].  It  can  also  be
used  as  a  stand-alone  stereo-mapping  system  for
terrestrial photogrammetric mapping projects with-
out the need of control points. The system offers a
low-cost mapping solution, rapid deployment, con-
tinuous coverage of imaged scenes, all at a low risk
to operators. 

2. The Mobile Stereo
Mapping System

The MSMS uses onboard navigation sensors to
determine  the  position  and  attitude  of  the  vehicle
platform. These navigation parameters determine the
pose parameters of the stereo imaging sensors. The
navigation  system  integrates  a  differential  GPS
(DGPS), an IMU, and a magnetometer. The imag-
ing  sensors,  two  Canon  A480  digital  cameras  in
stereo-metric set-up with a baseline of 40 cm, are
calibrated,  the  shutters  are  synchronized,  and  the
stereo-images are time-tagged with GPS time using
the  onboard  NovAtel  GPS  receiver’s  time  tagging
feature. Position estimation of the mapping sensors
is  based  on  single  or  dual  frequency  Real  Time
Kinematic  (RTK)-GPS,  loosely  coupled  in  a
Kalman  filter  with  the  MEMS-based  IMU.  The
dual frequency RTK-GPS solution is used in urban
areas  as  it  provides  more  reliable  positioning  in
high-multipath environments. The single frequency
RTK-GPS  solution  is  more  light-weight  and  cost
efficient, and is applicable in areas where there are
fewer  GPS  signal  obstructions,  such  as  in  airborne
applications. Attitude of the MSMS is determined by
gyroscope data, augmented with accelerometer and
magnetometer  data.  For  the  RTK-GPS  solution,
pseudo-range  and  carrier  phase  observations  are
transmitted at 1Hz to the ground control station from
the GPS receivers onboard the MSMS and from a
nearby  GPS  base  station.  Gyroscope  and
accelerometer  data  from  an ADIS16364  IMU  and

Figure 1: The Mobile Stereo Mapping System

Figure 2: MSMS onboard the Husky A200 UGV

324

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.G   E   O   M   A   T   I   C   A

data from an HMC5843 magnetometer are logged at
100Hz and 10 Hz, respectively. These observations
are  synchronized  to  GPS  time  using  NovAtel’s
pass-through  logging  feature  available  on  various
Original  Equipment  Manufacturer  (OEM)  boards
[Novatel OEMV 2010; Novatel OEMStar 2011] and
transmitted  to  the  command  and  control  station
(CCS)  at  10Hz.  A  Linuxstamp  2  microprocessor
integrates  the  sensors  and  logs  the  data.  Two-way
communication  between  the  MSMS  and  control
station  is  established  by  Xbee-Pro  OEM  Radio
Frequency (RF) Modules. The determination of the
3D  object  coordinates  is  performed  using  rigorous
photogrammetric solutions in post-mission process-
ing. Before the MSMS is considered operational its
sensor components and the integrated system has to
undergo a rigorous calibration process to determine
systematic  errors  and  biases  and  to  determine  the
sensors relative geometry. 

This  paper  details  the  methodology  used  to
determine the directly georeferenced exterior orien-
tation parameters (EOP) of each of the cameras and
the object space coordinates using photogrammet-
ric space intersection. Firstly, Section 3 presents the
direct georeferencing model being used. Section 4
then  describes  how  the  navigation  parameters  are
estimated and how they are used to directly georef-
erence  the  mapping  sensors.  Finally,  Section  5
presents results from a field test and evaluates the
mapping accuracy. 

3. The Direct
Georeferencing Model

The physical relationship between a camera, an
IMU, and a GPS antenna in a mobile mapping sys-
tem is given by the direct georeferencing model of
Ellum and El-Sheimy [2002] and shown in Figure 3. 
The model transforms the position of the point
c, to
of interest measured in the camera c frame, r p
M,
the position vector in the mapping M frame, r p
by using Equation 1.

M = r GPS
r p

M t + R M

b t

T Rb

c T r GPS ⁄ c

c

c
+ µr p

(1)

where, at time t, 

Figure 3: Direct georeferencing model

by the navigation system, defined as:
b = R x (cid:113) R y (cid:101) Rz (cid:115)

R M

(2)

(3)

c is the rotation matrix from the body frame to
- Rb
the camera frame, determined from boresight cali-
bration, calculated using Equation 3:

Rb

c = R M

b
c R M

T

c = Rz (cid:103) R y (cid:113) R x (cid:116) , is the rotation matrix
- R M
between  the  mapping  frame  and  camera  frame,
determined from a space resection.

c
is the vector from the GPS antenna to the
- r GPS ⁄ c
camera’s  perspective  centre,  determined  by  lever
arm calibration. It is calculated using Equation 4.

c
r GPS ⁄ c

c
= R M

M
M – r c
r GPS

(4)

- µ is the scale between the camera and the mapping
frame for point p, determined using photogrammet-
ric bundle adjustment triangulation. 

Ellum  and  El-Sheimy [2002]  examine  three
elements  of  integrated  system  calibration:  lever
arm  calibration,  boresight  calibration  and  camera
calibration. Their approach was adopted to perform
the system calibration of the MSMS. Li-Chee-Ming
et  al. [2011]  provide  a  detailed  description  of  the
calibration.  This  two-step  procedure  was  chosen
over  the  one-step  procedure,  where  all  of  the
parameters  are  solved  simultaneously  in  a  least
squares adjustment [Rau et al. 2011], to avoid high
correlations between the parameters.

t

M
is the position of the GPS antenna in the
- r GPS
mapping frame, determined by the navigation system, 

4. The Navigation System

t

b
is the rotation matrix from the mapping
- R M
frame  to  the  vehicle  body  frame,  also  determined

The  navigation  system  determines  the  state
vector  x,  consisting  of  the  position  of  a  moving

325

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.Ù

G   E   O   M   A   T   I   C   A

vehicle in the mapping frame, which is the position

of the GPS antenna, r GPS
city vb and the vehicle’s attitude in its quaternion 

M , the vehicle's body velo-

b = q0 q1 q2 q3 . The state vector
representation, qM
x is  estimated  by  solving  the  following  system  of
differential equations [Titterton and Weston 1997]: 

x =

=

a b + RM

(5)

M
r GPS
v b
b
qM
b g

b Tv b

RM
b g M – Ùx v b
b
Ùqx qM
0

The skew symmetric matrices Ùx and Ùqx are pop-
ulated  with  the  gyroscope’s  angular  rates  b. The
measured  IMU’s  accelerations  ab are  also  used,
along with the gravity vector gM. Notably, in strap-
down systems, the quaternion method representing
attitude is preferred over both the Euler angle and
the direction cosine methods because it offers accu-
rate  and  efficient  computation  solutions  without
singularities. Although gyroscopes alone are capa-
ble  of  accurately  estimating  orientation,  they  are
prone  to  bias  and  random  walk  errors  resulting
from the integration of coloured noise. Further, the
bias stability of the gyroscope decreases as its cost
decreases. This causes the time-dependent attitude
and positional errors to increase without bound and
quickly  exceed  the  accuracy  specifications  for
many mapping applications. Since this is the case
with  the  MEMS  gyroscope  being  used,  the  gyro-
scope biases bg are estimated in the Kalman filter
and removed from the gyroscope measurements to
attenuate  this  drift.  Further,  an  augmentation  sys-
tem  is  put  in  place  to  measure  attitude  and  fre-
quently  update  the  IMU  state.  Similarly  for  gyro-
scope data, double integration of the IMU’s accel-
eration  data  will  quickly  increase  the  positional
error without bound. Consequently, frequent updat-
ing from external sources, such as GPS, is needed
to limit the error growth. The next section describes
the  augmentation  systems  for  both  attitude  and
positioning determination. 

4.1 Attitude Augmentation

Ellum and El-Sheimy [2001] list possible sen-
sors  for  attitude  determination  and  provide  the
advantages and disadvantages of each. The physical
limitations imposed by low-cost unmanned vehicles
restricted  the  choices  in  terms  of  size,  cost,  and
power consumption. The chosen method of attitude
augmentation  uses  the  IMU’s  accelerometers  to

estimate attitude, roll and pitch, and a 3-axis magne-
tometer to measure magnetic heading. The heading
is transformed to geographic heading by adding the
magnetic declination. The value for magnetic dec-
lination  is  freely  available  from  various  sources.
Global  models  are  accurate  to  better  than  1°,  but
regions with denser magnetic observations offer bet-
ter accuracy. Equation 6 is the model that relates the
vehicle’s  roll  ,  pitch  ,  and  yaw    with  the
accelerometer and magnetometer measurements. 

(cid:160)
(cid:101)
(cid:115)

= tan – 1

tan – 1 a y
– az

– a x
a y sin (cid:160)  az cos (cid:160)
tan – 1 me
mn

(6)

me = my cos ((cid:5)) – mz sin ((cid:5))
mn = mx cos ((cid:4)) + my sin ((cid:5)) sin ((cid:4)) + mz cos ((cid:5)) sin ((cid:4))

where [mx, my , mz] are the magnetometer measurements
and [ax, ay, az]T are the accelerometer measurements. 
The attitude from this method, unlike the gyro-
scopic method, does not drift because no integration
is  involved,  however,  there  are  several  limitations.
The error is propagated from the accelerometer and
magnetometer measurements, so the attitude is nois-
ier than the gyroscope attitude and may contain sys-
tematic errors, such as biases and scaling errors, and
magnetometer soft iron and hard iron errors. MSMS
tests reported accelerometer and gyroscope measure-
ment  noise  standard  deviations  of  0.006  m/s2 and
0.13°/s, respectively, which resulted in static roll and
pitch uncertainty of 0.02°. The magnetometer meas-
urement noise standard deviation was 0.0025 mGa,
which  propagated  to  heading  variation  of  0.2°.
Further, the behaviour of MEMS sensors depends on
temperature  and  the  uncertainty  of  the  attitude
increases as the tilt angle increases. However, these
error  sources  are  not  expected  to  be  significant
because the temperature is constant over short time
periods and the roll and pitch for terrestrial vehicles
is not likely to exceed +/-20°. Lastly, the attitude can
be determined only if the accelerometer’s velocity is
constant, in order to observe gravity alone. 

4.2 Position Augmentation

GPS  is  selected  for  position  augmentation
because  it  offers  unmatched  positioning  accuracy,
long  term  stability,  flexibility,  and  cost  efficiency.
Further,  GPS  is  widely  accepted  in  the  geomatics
and mapping industry—the intended markets for the
MSMS.  Also,  the  GPS  receiver  outputs  a  precise

326

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.G   E   O   M   A   T   I   C   A

clock signal (1 pps) that is used for synchronization
of the system components. However, GPS is prone
to error sources, for instance cycle clips will cause
ambiguity resolution to be lost, which significantly
reduces  the  GPS  data  quality.  The  data  quality  is
also  subject  to  environmental  conditions,  such  as
poor  satellite  geometry,  atmospheric  effects,  and
signal multipath. 

Ellum and El-Sheimy [2001] list several modes
of GPS operation that are potentially applicable for
low-cost  mapping  systems.  The  L1  carrier-phase
RTK- GPS solution is most applicable in aerial and
low budget applications. However, dual frequency
receivers  are  more  reliable  in  urban  areas,  as
resolving  integer  ambiguities  is  accomplished
much  faster.  They  are  however  very  expensive
compared  to  single  frequency  GPS  receivers.
Takasu  and  Yasuda [2009]  offers  an  open-source
RTK-GPS  package,  with  which  he  has  obtained
centimetre level positioning accuracy with a single-
frequency  receiver.  Unfortunately,  at  least  a  few
minutes were required to obtain a first fixed solu-
tion. The combination of these two measuring sys-
tems offer a number of advantages. The IMU pro-
vides dense and precise short-term positional data,
while GPS provides accurate positioning with long-
term accuracy and stability. 

The MSMS optimally estimates the navigation
solution  (position,  velocity  and  attitude)  together
with  the  gyro  biases  by  combining  the  measure-
ments from GPS, MEMS IMU and magnetometer
sensors in an Extended Kalman filter (EKF). Hasan
et al., [2009] presented a comparative study of var-
ious  Kalman  filter  configurations  applied  to  air,
land and marine navigation applications. The direct
(total) state formulation is used here, as it has been
frequently used in mobile applications with the lin-
ear Kalman filter and EKF. Integration of the GPS
and IMU is performed in a loosely-coupled (decen-
tralized) filter where a navigation processor gener-
ates position and velocity estimates using only GPS
observations, while an IMU estimates the position
and velocity then uses the GPS position and veloc-
ity  to  calibrate  the  IMU  errors.  This  method  of
GPS/IMU integration is chosen because it is much
simpler,  easier  to  implement,  and  more  computa-
tionally efficient than the tightly-coupled filter, yet
performs  almost  equivalently.  In  the  tightly  cou-
pled system, the IMU uses GPS observations, such
as  pseudo-range  and  carrier  phase  measurements,
to estimate the navigation parameters. Notably, the
tightly  coupled  filter  is  more  reliable  because  the

GPS  continues  to  provide  measurement  updates
regardless  of  whether  or  not  there  is  a  GPS  solu-
tion, that is, when there are less than four satellites. 
Details  about  how  the  navigation  processor
estimates position from GPS observations are given
in Takasu and Yasuda [2009]. When a GPS position
and velocity measurement update is available, the
measurement vector is h x k = r GPS
design matrix H(x) is:

M v b and the

H x 

(cid:44)h x
(cid:566)x (cid:171) x  x 

  
  
  

Similarly, when an accelerometer/magnetometer

attitude measurement update is available, measure-
ment model h x (cid:103) = (cid:160) (cid:101) (cid:115) T is:

(cid:160)  tan – 1 2 q2q3 + q0q1
2 + q2
2
(cid:101)  – sin – 1 2 q1q3 – q0q2

1 – 2 q1

(cid:115)  tan – 1 2 q1q2 + q0q3
2
2 + q3

1 – 2 q2

and the design matrix H(x) is:

(7)

(8)

(9)

5. System Testing

5.1 Field Test

A field test was performed to evaluate the per-
formance  of  the  MSMS’s  navigation  system  and
mapping accuracy. The area of the test represented
a  typical  urban  environment  in  which  the  system
would be expected to operate. High buildings, tall
trees,  and  lamp  posts  surrounded  the  area.  This
introduced  the  possibility  of  multipath  error  and
local magnetic fields, which could affect the GPS
and heading solutions, respectively. 

A target field was set up on the south east wall
of  a  building  shown  in  Figure  4. The  targets  con-
sisted of 39 distinct and stable features, such as the
building corners. A combined static GPS and total
station survey determined the object coordinates of
the targets with an estimated accuracy of 1 cm. The

4.3 Optimal State Estimation

H x =

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

0

(cid:98)(cid:160)
(cid:98)q0
(cid:98)(cid:101)
(cid:98)q0
(cid:98)(cid:115)
(cid:98)q0

(cid:98)(cid:160)
(cid:98)q1
(cid:98)(cid:101)
(cid:98)q1
(cid:98)(cid:115)
(cid:98)q1

(cid:98)(cid:160)
(cid:98)q2
(cid:98)(cid:101)
(cid:98)q2
(cid:98)(cid:115)
(cid:98)q2

(cid:98)(cid:160)
(cid:98)q3
(cid:98)(cid:101)
(cid:98)q3
(cid:98)(cid:115)
(cid:98)q3

0

0

0

0

0

0

0

0

0

327

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.G   E   O   M   A   T   I   C   A

dimensions of the test field were approximately 30
m wide, 10 m high, and 10 m in depth. These tar-
gets served as control points for the system calibra-
tion  and  as  check  points  in  the  mapping  test. The
lever  arms  and  boresights  were  determined  from
measurements taken at station P1 and were consid-
ered fixed until the system was disassembled. For
the  system  calibration  procedure,  see  Li-Chee-
Ming et al. [2011]. The MSMS observed the same
targets from stations P2 and P3 in the mapping test.
The object coordinates of the targets were then esti-
mated through direct georeferencing and compared
with the ‘true’ (surveyed) values. As a note, this test
used dual frequency DGPS for positioning because
the GPS ambiguities could not be fixed at the test
location using the single frequency RTK GPS.

5.2 Camera Calibration

The stability of the interior orientation param-
eters (IOP) was tested for both Canon A480 cameras
by comparing the results from two independent cal-
ibrations. The calibrations were conducted several
months apart. The PhotoModeler’s camera calibra-
tion  module  was  used  [PhotoModeler 2011].  The
cameras were calibrated at the focus setting used to
take  measurement  photographs,  i.e.,  infinity.  The
autofocus of the camera was over-ridden using the
Canon Hack Development Kit. This software pack-
age  also  allowed  access  to  the  RAW  images  and
synchronous remote triggering. The first calibration
took place on October 7, 2011; PhotoModeler’s 36"
x  36"  calibration  grid  was  used.  The  second  cali-
bration took place on December 3, 2011 using same
calibration  grid.  The  results  of  the  calibrations,  in
Table 1, indicate that the interior orientation of the
Canon  A480  is  relatively  stable.  This  consistency
over the large time period reflects positively on the
selected  camera  model  and  justified  that  the  fixing
the  IOP  of  the  camera  to  these  values  in  later
adjustments would not significantly affect the accu-
racy of the estimated object coordinates.

5.3 System Calibration

A  system  calibration  was  performed  to  deter-
mine  the  lever  arm  from  the  GPS  antenna  to  each
camera’s perspective centre, and the boresight angles
relating the IMU axes and the axes of each camera.
This entailed the collection of GPS, IMU, and mag-
netometer  observations  at  the  time  images  of  the
target  field  were  captured.  The  system  calibration
was  performed  at  station  P1,  approximately  25
metres  from  the  target  field.  Static  dual  frequency
GPS observations were collected at 1Hz, and IMU

Figure 4: Test field

Table 1: Camera calibration parameters

Left Camera

Right Camera

Parameter

Oct. 7, 2011

Dec. 3, 2011

Oct. 7, 2011

Dec. 3, 2011

Mean

Std. Dev. Mean

Std. Dev.

Mean

Std. Dev.

Mean

Std. Dev.

f (mm)
xo (mm)
yo (mm)
k1
k2
p1
p2

328

6.850
-2.50e-3

4.52e-2

2.36e-3
-2.17e-5
-2.35e-5
-1.96e-5

6.80e-4
5.80e-4

6.00e-4

8.90e-6
5.40e-7
5.80e-6
3.50e-6

6.821
6.079e-3

9.79e-2

2.48e-3
-3.45e-5
-4.39e-6
-8.29e-5

7.10e-4
6.40e-4

6.70e-4

8.80e-6
4.90e-7
6.70e-6
4.40e-6

6.826
1.395e-3

3.70e-4
2.70e-4

8.894e-2

3.40e-4

2.467e-3
-3.019e-5
-1.239e-5
-8.419e-5

9.20e-6
8.60e-7
-1.24e-5
2.10e-6

6.856
-4.30e-3

4.21e-2

2.45e-3
-3.00e-5
-3.00e-6
-2.05e-5

2.80e-4
2.50e-4

1.80e-4

3.90e-6
3.30e-7
1.60e-6
5.34e-6

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.G   E   O   M   A   T   I   C   A

Figure 5: Field test trajectory

Table 2: Position and attitude standard deviations at P1

(cid:3)N (m)

(cid:3)E (m)

(cid:3)D (m)

0.0265

0.0265

0.0332

(cid:3) (°)

0.013

(cid:3) (°)

(cid:3) (°)

0.013

0.319

and  magnetometer  measurements  were  collected  at
10Hz. A GPS base station was setup at B1 (Figure 5)
and  differential  GPS  processing  was  performed  to
accurately determine the position of the GPS anten-
na on the MSMS. 

Static observations were collected for approxi-
mately  80  seconds  after  the  GPS  ambiguities  were
fixed. A  local  North-East-Down  (NED)  coordinate
frame  was  established.  The  origin  was  a  nearby
ground  control  point,  the  northing  axis  approxi-
mately  aligned  with  the  depth  of  the  target  field,
and the easting axis points east roughly aligned with
the width of the target field. The position and attitude
standard deviations at the exposure time are given in
Table 2. The positional standard deviations were typ-
ical for dual frequency DGPS. The attitude was aver-
aged over the data collection time. The noise level of
the  yaw  was  much  larger  than  the  roll  and  pitch
because of the magnetometer’s high noise level.

Figure 6 shows the left image from the stereo
pair  captured  at  station  P1.  To  ensure  the  EOPs
were  accurately  estimated,  23  control  points  were
used in the space resection for high redundancy in
the least squares solution.

The estimated precision of the left (L) and right
(R)  camera  orientation  from  least  squares  space
resection at station P1, given in Table 3, is sufficient
for  this  application.  The  error  in  camera  position
translates directly to the errors, location and distri-
bution  of  the  control  points  in  the  object  space.
Obviously the object space error caused by the error
in camera orientation grows as the distance from the
camera increases. An angular error of 0.2º produces
an error in object space error of approximately 0.35
m for a target 100m away from the camera. 

The standard deviations of the boresight Euler’s
angles were estimated by propagating the error from
the IMU attitude and the camera orientation through
Equation 3, they are provided in Table 4.

The lever arm standard deviations were estimat-
ed by propagating the error from the IMU position,
the  camera  position,  and  the  camera  orientation
through Equation 4, and they are provided in Table 5. 
These  standard  deviations  are  reasonable  for
this application. However, the quality of the inde-
pendently  derived  EOPs  could  be  improved  with
better  distribution  of  ground  control  points  across

Figure 6: Left image from stereo pair at P1

Table 3: EOP standard deviations at P1

(cid:3)N (m) 

(cid:3)E (m)

(cid:3)D (m)

(cid:3) (°)

(cid:3) (°)

(cid:3) (°)

0.02

0.022

0.0255

0.2168

0.0555

0.2167

0.021

0.022

0.0256

0.2214

0.0555

0.2208

Table 4: Boresight standard deviations at P1

Table 5: Lever arm standard deviations from P1

(cid:3)b (°)

0.0697

0.0703

L

R

(cid:3)b (°)

0.3341

0.3422

(cid:3)b (°)

0.2749

0.2749

(cid:3)X (m) 

(cid:3)Y (m)

0.0364

0.0364

0.0437

0.0437

(cid:3)Z (m)

0.0348

0.035

329

L

R

L

R

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.G   E   O   M   A   T   I   C   A

the  image.  There  may  also  be  small  errors  in  the
image measurements because the tree on the left side
of the image obstructed some of the control points.

5.4 Direct Georeferencing Accuracy

An  experiment  was  performed  to  assess  the
accuracy of the directly observed EOPs. After the
system calibration at station P1, the MSMS moved
to  location  P2,  then  to  locations  P3,  as  seen  in
Figure 5. A stereo pair was directly georeferenced
at  each  station  using  the  calibration  parameters
(IOPs, lever arms and boresights as determined in
location  P1),  along  with  GPS,  IMU,  and  magne-
tometer measurements collected as the images were
captured at P2 and P3. Again, the MSMS was stat-
ic for approximately 80 seconds at each station to
collect  observations.  The  directly  georeferenced
values were compared with the camera EOP calcu-
lated from a space resection. Thirty eight (38) con-
trol points were used at station P2, and 22 control
points were used at P3. The left images, and image
measurements, collected at locations P2 and P3 are
shown in Figure 7. The EOP differences for left (L)
and  right  (R)  camera  at  P2  and  P3  are  shown  in
Table 6 and 7, respectively.

The average camera-to-object distance is 35 m
for station P2, and 21 m for station P3, thus an angu-
lar  error  had  more  influence  on  the  object  coordi-
nates  at  P2. The  orientation  statistics  from Table  6
suggest that the EOPs from station P2 indicate that
the angular errors can satisfy an object accuracy of
1/100, while the errors in orientation for point P3 are
too large (over 0.57°). A more rigorous sensor cali-
bration  will  further  remove  the  measurement  error
(i.e., residual bias and scale factor errors in the IMU
and  magnetometer),  and  reduce  the  discrepancies
between the EOPs from the space resection and the
directly measured EOPs.

5.5 Mapping Accuracy

The directly georeferenced EOPs of the stereo-
images  from  stations  P2  and  P3  were  used  in  a
space  intersection  to  evaluate  the  object  space
accuracy, or mapping accuracy. The object coordi-
nates of 38 check points were calculated from sta-
tion P2, and 22 check points were calculated from
station  P3.  No  ground  control  was  used.  These
coordinates were compared with the “true” values,
previously  surveyed  to  1  cm.  The  mean,  standard

Figure 7: Left image from stereo pair at P2 (left) and P3 (right)

Table 6: Difference in EOP at Station P2

Table 7: Difference in EOP at Station P3

N (m)

E (m)

-0.0088

-0.0297

0.0341

0.0304

D (m)

-0.0192

-0.0291

N (m)

0.0264

-0.0038

E (m)

D (m)

0.0017

0.0177

0.026

0.0033

L

R

L

R

 (°)

0.5331

-0.3312

 (°)

-0.6679

-1.2045

 (°)

-0.2599

-0.2474

(cid:1) (°)

0.6128

0.0727

 (°)

-0.9896

(cid:1) (°)

0.0147

-1.0224

-0.2071

330

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.G   E   O   M   A   T   I   C   A

deviation, and root mean squared of the differences
between  the  known  and  estimated  coordinates  are
given in Table 8. The error in the northing is large
for  both  stations,  which  is  expected  as  North  is
approximately parallel to the cameras’ optical axes
and the depth error is always larger than in the other
two  directions. Also  as  expected,  the  object  space
accuracy from P2 is worse than P3 because of the
larger  camera  to  object  distances.  As  all  the  22
check points are visible from both P2 and P3 loca-
tions,  a  wide-baseline  geometry  solution  was  also
tested.  This  geometry  is  formed  by  two  or  more
images  taken  at  two  different  locations  of  the
MSMS  stereo-metric  set-up.  While  the  MSMS’
0.40 m hard baseline results in significant error in
depth determination at distances beyond some tens
of meters, the use of soft baselines overcomes the
disadvantage of the very short baseline and reduces
the measurement error in the range direction of the
MSMS. Thus a multi-image space intersection was
performed, simultaneously using all of the images
from P2 and P3 and holding the directly georefer-
enced EOPs fixed. The additional images increased
the accuracy of the solution, as seen in the last row
of Table 8, by increasing the redundancy in the sys-
tem. Furthermore, the geometry of the network was
stronger by using a wide baseline (from P2 to P3),
as opposed to the short baseline between the stereo
cameras, and by using cameras that were oriented
to produce convergent imagery.

Concluding Remarks

A  low-cost,  light  weight,  Mobile  Stereo
Mapping System has been developed and calibrat-
ed  for  providing  navigation  and  3D  geo-spatial
coordinates  from  unmanned  vehicles.  Direct  geo-
referencing  is  used  with  no  external  information,
such as control points. Overall accuracy assessment
of the calibrated system was performed using a 3D
test field. Navigation was based on dual frequency
DGPS,  loosely  coupled  with  a  low-cost  MEMS
IMU  and  magnetometer.  The  navigation  system
provided  position,  velocity,  and  attitude  of  both

Table 8: Check point accuracies

cameras  in  the  mapping  reference  frame.  The
results showed that in stop-and-go mode mapping
accuracy  of  1/100  can  be  obtained  in  the  object
space for camera-to-object distances of up to 30m
using  wide  baseline  configurations  with  the  cam-
eras separated in the order of tens of metres. This
level  of  accuracy  can  satisfy  applications  such  as
surveillance  and  location  awareness.  The  positive
results encourage more rigorous testing and further
development. The system can be used in kinematic
mode  onboard  unmanned  vehicles  for  navigation
and 3D mapping and in static mode for terrestrial
3D photogrammetric mapping applications.

Acknowledgements

We 

thank 

the  Natural  Sciences  and
Engineering Research Council of Canada (NSERC)
and the Ontario Graduate Scholarship (OGS) pro-
gram for their financial support. The contributions
of the graduate students Mark Post and Tom Young,
Space  Engineering,  York  University,  in  the  hard-
ware design of the platform are much appreciated.
We  also  appreciate  the  reviewers’  constructive
comments and suggestions.

References

Clearpath.  2012.  Husky  A200  unmanned  ground  vehicle.
Retrieved from http://www.clearpathrobotics.com/husky
Doherty, P. and P. Rudol. 2007. A UAV search and rescue
scenario  with  human  body  detection  and  geolocal-
ization.  Proceedings  of  the  20th  Australian  joint
conference  on  Advances  in  artificial  intelligence.
Gold Coast, Australia.

Ellum, C. and N. El-Sheimy. 2001. The development of
a  backpack  mobile  mapping  system.  Int.  Arc.
Photogrammetry  and  Remote  Sense,  vol.  XXXII,
Part 2W1.

Ellum,  C.  and  N.  El-Sheimy.  2002.  The  calibration  of
image-based mobile mapping systems. Proceedings
of the 2nd Symposium on Geodesy for Geotechnical
and  Structural  Engineering.  Berlin,  Germany.  The
International Association of Geodesy (IAG).

AVEN (m) AVEE (m) AVED (m) (cid:3)N (m)

(cid:3)E (m)

(cid:3)D (m)

RMSN (m) RMSE (m) RMSD (m)

P2

P3

0.9751

-0.7839

-0.1781

1.123

-0.5471

0.2019

-0.2132

0.5714

0.803

0.537

0.2462

0.1393

P2+P3

-0.1835

0.1317

-0.1362

0.347

0.2243

0.1274

1.4761

0.7816

0.3881

1.1146

0.5621

0.2573

0.3012

0.2529

0.1853

331

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.G   E   O   M   A   T   I   C   A

Hasan,  A.,  K.  Samsudin,  A.  Ramli,  R.  Azmir,  and  S.
Ismaeel.  2009.  A  review  of  navigation  systems
(integration  and  algorithms),  Australian  Journal  of
Basic and Applied Sciences, 3(2): 943-959.

Li-Chee-Ming  J.,  C.  Armenakis,  and  R.  Lee.  2011.
Mobile stereo-mapper: A portable kit for unmanned
vehicles.  Int.  Arc.  Photogrammetry  and  Remote
Sense, vol. XXXVIII. 

NovAtel  OEMV.  2010.  Installation  and  Operation  User

Manual. http://www.novatel.com

NovAtel  OEMStar.  2011.  Installation  and  Operation

User Manual. http://www.novatel.com 

PhotoModeler.  2011.  PhotoModeler  camera  calibration.

http://www.photomodeler.com

Puri,  A.  2005.  A  survey  of  unmanned  aerial  vehicles
(UAV)  for  traffic  surveillance.  Department  of
Computer  Science  and  Engineering,  University  of
South Florida.

Rau,  J.-Y., A.  Habib, A.  Kersting,  K.-W.  Chiang,  K.-I.
Bang, Y.-H. Tseng, and Y.-H Li. 2011. Direct sensor
orientation of a land-based mobilemapping system.
Sensors, (11), pp: 7243-7261.

Takasu,  T.,  and  A.  Yasuda.  2009.  Development  of  the
low-cost  RTK-GPS  receiver  with  an  open  source
International
program 
Symposium 
International
Convention Center Jeju, Korea.

package  RTKLIB. 
on  GPS/GNSS. 

Titterton, D. H. and Weston J. 1997. Strapdown inertial
navigation 
IEE  Radar,  Sonar,
Navigation  and  Avionics  Series,  5.  Stevenage,
United Kingdom: Peter Peregrinus Ltd.

technology. 

MS rec’d 12/10/18
Revised MS rec’d 12/12/18

Authors

Julien  Li-Chee-Ming is  a  Ph.D.  candidate  at
York University. He obtained his B.Sc and M.Sc in
Geomatics  Engineering  at  York  University.  His
research interests include low-cost navigation sys-
tems,  urban  3D  modelling,  and  rapid  mapping,

monitoring,  and  tracking  with  unmanned  vehicle
systems.  His  current  research  involves  using
unmanned  aerial  vehicles  to  automatically  track
continuous features, such as roads and rivers, oil and
gas pipeline and power lines, to detect, analyze and
report  changes  and  to  track  moving  objects.  His
Master’s  thesis  involved  developing  a  low-cost
portable  Mobile  Stereo-Mapping  System  (MSMS).
The  MSMS  is  designed  for  remote  operation
onboard unmanned vehicles for navigation and rapid
collection  of  3D  spatial  data.  Briefly,  the  MSMS
integrates  a  GPS,  a  MEMS  IMU,  a  magnetometer
and digital cameras to generate geospatial products
such as 3D environments and digital maps, and per-
form  tracking  and  monitoring  in  near  real-time.
This  system  was  implemented  and  tested,  and  is
now being integrated with unmanned vehicles. 

Costas Armenakis (Dipl Ing, MScE, PhD) is an
Associate  Professor  of  the  Geomatics  Engineering
program,  Department  of  Earth  and  Space  Science
and Engineering, York University. Prior joining York
University he was a Research Scientist with Natural
Resources  Canada  (NRCan).  His  research  interests
are  in  the  areas  of  photogrammetric  engineering
and  remote  sensing  mapping  including  robotic
mapping  using  cost-effective  unmanned  vehicle
systems,  3D  mapping  and  tracking  using  image-
sequences,  3D  modelling  using  optical  and  lidar
data and the integration of GIS and remote sensing
methods  and  data  for  risk  assessment  and  emer-
gency  response.  He  is  an  ISPRS  Fellow  and  has
served  as  President  of  the  ISPRS  Technical
IV  on  Digital  Mapping  and
Commission 
GeoDatabases  (2000-2004).  Currently  he  is  Co-
Chair of the ISPRS ICWG I/Vb Unmanned Vehicle
Systems  (UVS):  Sensors  and Applications.  He  is  a
Professional Engineer registered in the Province of
Ontario  and  member  of  the  Canadian  Institute  of
Geomatics  (CIG)  and  the  American  Society  of
Photogrammetry and Remote Sensing (ASPRS). 

332

Geomatica 2012.66:323-332.Downloaded from www.nrcresearchpress.com by YORK UNIV on 12/10/18. For personal use only.