International Journal of Geographical Information Science
Vol. 20, No. 5, May 2006, 511–534

Research Article

A multigranular object-oriented framework supporting spatio-temporal
granularity conversions

E. CAMOSSI*{, M. BERTOLOTTO"{ and E. BERTINO"§
{Istituto di Matematica Applicata e Tecnologie Informatiche, Sezione di Genova,
Consiglio Nazionale delle Ricerche, 6, via De Marini, I-16149 Genova, Italy
{School of Computer Science and Informatics, University College Dublin, Belfield,
Dublin 4, Ireland
§CERIAS, Purdue University, 250 N. University Street West Lafayette, Indiana, USA
47907-2066

(Received 29 November 2004; in final form 11 January 2006 )

Several application domains require handling spatio-temporal data. However,
traditional Geographic Information Systems (GIS) and database models do not
adequately support temporal aspects of spatial data. A crucial issue relates to the
choice of the appropriate granularity. Unfortunately, while a formalisation of the
concept of temporal granularity has been proposed and widely adopted, no
consensus exists on the notion of spatial granularity. In this paper, we address
these open problems, by proposing a formal definition of spatial granularity and
by designing a spatio-temporal framework for the management of spatial and
temporal information at different granularities. We present a spatio-temporal
extension of the ODMG type system with specific types for defining multi-
granular spatio-temporal properties. Granularity conversion functions are
introduced to obtain attributes values at different spatial and temporal
granularities.

Keywords: Spatial and temporal granularities; Spatio-temporal object-oriented
databases; Granularity conversions

1.

Introduction

Data managed in a variety of different application domains have both spatial and
temporal characteristics; these characteristics can be quite diverse and complex, and
require sophisticated data modelling and management tools. In particular, at least
three relevant types of application have been identified in the scientific literature
which differ with respect to the modelling and management of spatial aspects (i.e.
position and shape) of objects over time (Tryfona and Jensen 1999, Jensen 2003):
cadastral applications, in which the spatial aspects are modelled primarily as regions
and points, and changes occur discretely over time; transportation applications, in
which the spatial aspects are modelled primarily as linear features, graphs and
polylines, and changes of position occur continuously or discretely over time,
whereas the shape of objects does not change; environmental applications, that are
characterized by continuously changing spatial aspects.

*Corresponding author. Email: elena.camossi@ge.imati.cnr.it
"Email: michela.bertolotto@ucd.ie (MB); bertino@cs.purdue.edu (EB)

International Journal of Geographical Information Science
ISSN 1365-8816 print/ISSN 1362-3087 online # 2006 Taylor & Francis
http://www.tandf.co.uk/journals
DOI: 10.1080/13658810600607451

512

E. Camossi et al.

Both spatial and temporal characteristics of data can be expressed at different
levels of detail. In the temporal context, for instance, birth dates are typically related
to the granularity of days, while train schedules to that of minutes. In the spatial
context, spatial entities can be represented at different granularities by considering
hierarchical representations that can be devised from subdivisions of the reference
space into regular grids, or from some of their semantic characteristics, e.g.
administrative boundaries. The support for multiple granularities allows one to store
spatio-temporal data according to different units, depending on the requirements of
the application domain, and represents a crucial functionality when analysing very
large amounts of data, possibly collected from different sources.

The notion of granularity has been deeply investigated in the temporal context
and finally an agreement was reached in 1998 resulting in a common definition
(Bettini et al. 1998, 2000). Intuitively, a granularity defines a partition, possibly non-
total, of the time domain, such as those represented by the subdivisions used in the
Gregorian calendar (e.g. hours, days, months, etc.). By contrast, an equivalent
formalization of spatial granularity has not been developed yet, mainly due to the
inherent complexity of the spatial domain.

Recent work on spatial granularities has mainly dealt with issues related to the
uncertainty of spatial information, in particular for qualitative reasoning (Dukham
et al. 2001, Bittner and Smith 2003). Both commercial GIS and database products,
provide little support for multiple representations of spatial data. Furthermore,
although temporal extensions of GIS have been proposed in the literature (Langran
1992, Claramunt and The´riault 1995), commercial systems do not adequately
manage applications that involve temporal aspects of data.

spatial

and non-spatial

Another interesting problem is the integration of spatial functionality to exploit
the spatial characteristics inherent in many existing data repositories. Emerging
database products provide spatial extensions that follow an integrated approach for
information (ORACLEH, PostgreSQL,
managing
MySQLH). These products typically provide an information infrastructure based
on a single database system for managing both types of data. Such an integrated
approach is very effective when spatial functionality is to be added to legacy data
because the spatial component can be integrated in a homogeneous way. By
contrast, traditional GIS adopt the so-called loosely coupled approach (Rigaux et al.
2002), whereby spatial and non-spatial data are stored separately: usually spatial
properties are stored in files managed by a file management system, while attribute
data are stored in a commercial database. This separation makes the integration of
spatial functionality into existing non-spatial databases quite difficult. Furthermore,
the integrated approach can provide a more effective support
for integrity
constraints involving both spatial and non-spatial data.

In this paper, we address such issues, by defining a framework for the
management of spatial and temporal information at different levels of detail within
an object-oriented database. A preliminary version of the formalization described in
this paper can be found in Camossi et al. (2003), whereas a more detailed description
is given in Camossi (2005). We propose a novel formal definition of spatial
granularity and extend the ODMG data model (Cattel et al. 1999) with types for
representing spatial data in vector format, and type constructors for representing
spatio-temporal data at multiple granularities. The model also supports the
representation of attributive information concerning application domain entities.
We refer to this information as quantitative attributes.

A framework supporting spatio-temporal granularity conversions

513

The proposed spatio-temporal model is non-homogeneous, i.e. it allows one to
define object types with spatial, temporal and spatio-temporal attributes at different
spatial and temporal granularities. Spatio-temporal object database schemas can be
defined to uniformly and efficiently handle all kinds of spatio-temporal information:
entities with a spatial extension that move in a (potentially evolving) geographical
area, e.g. cars, planes, etc.; changes of geographical and thematic maps over time;
environmental and social phenomena related to a geographical area, such as
meteorological monitoring systems and cadastral applications. We chose ODMG as
the underlying data model as it is a standard object-oriented data model. Therefore,
our extended ODMG model supporting spatio-temporal information, can be easily
transferred to other data models, e.g. the recent commercial object-relational data
models, supported by most commercial DBMS products.

The incorporation of multiple granularities, for both space and time, in a data
model requires introducing methods and techniques for supporting conversion of
values at different granularities. This is a critical issue both from a theoretical and
from a practical point of view. We address such an issue by defining a set of
conversion functions, which map values between different granularities.

Values of attributes representing information that

is inherently geometric
(referred to in the paper as geometric attributes) are converted to different spatial
granularities according to model-oriented map generalization principles (Muller
et al. 1995). Map generalization applies cartographic techniques for extracting a less
detailed representation of a map, by taking into account semantic aspects of data
and preservation of consistency, e.g. preservation of topological relationships
(Egenhofer and Franzosa 1991).

The conversion functions used for mapping temporal and spatio-temporal
attribute values to different temporal granularities rely on the set of conversions
applied in an existing temporal extension of the ODMG model (Bertino et al. 2003).
Granularity conversions with the same semantics are applied for converting spatial
quantitative attributes to different spatial granularities.

The paper is organized as follows. We first discuss related work dealing with
granularities and spatio-temporal information. Section 3 formalizes the notions of
spatial and temporal granularities we have adopted. Section 4 presents the spatio-
temporal type system underlying our approach. Sections 5 and 6 discuss granularity
conversions and their properties, such as value correctness, compositionality and
invertibility. Finally, the concluding section discusses issues in designing granularity
conversions, the contribution of our model, as well as future research directions.

2. Background and related work

Several proposals providing an integrated approach for the management of spatial
and temporal information have been presented in the recent past, as temporal
extensions of GIS (Langran 1992, Claramunt and The´riault 1995), or as
independent frameworks (Worboys 1994, Tryfona and Jensen 1999).

Among them, recent work deals with spatio-temporal extensions of SQL99 (Chen
and Zaniolo 2000) and ODMG (Griffiths et al. 2001, Huang and Claramunt 2002).
Huang and Claramunt (2002) extend the ODMG set of literal types with spatial
types, by defining also a parameterized type for representing temporal attributes
that can be instantiated using a spatial
type for modelling spatio-temporal
information. Griffiths et al. (2001) report on the design of the Tripod spatio-
temporal database system, which extends the ODMG type system with temporal

514

E. Camossi et al.

and spatial types, handling past representations of attributes through the concept of
histories. Gu¨ ting et al. (2000) formalize an algebraic framework for modelling
moving points and regions. They propose a set of abstract data types that can be
integrated in relational and object relational models. Chomicky and Revesz (2001)
discuss the closure properties of a set of spatio-temporal objects (rectangle and
convex polygons) with respect to basic algebra operators (e.g. closure with respect to
intersection). These proposals do not address issues related to multigranular
representation of spatio-temporal data.

The modelling of moving objects over multiple granularities is discussed by
Hornsby and Egenhofer (2002), where a coarsening operation is applied to
lifelines that model the motion of spatial objects, to predict their
geospatial
movement. The coarsening operation is implemented as a decrease of
the
timestamping frequency of the object geospatial lifeline, which is observed at a
greater level of (temporal) detail, in order to simplify the motion prediction. Khatri
et al. (2002) extend the Unifying Semantic Model formalism to support the
specification of spatio-temporal data at multiple granularities. Their formalization
relies on the concepts of temporal indeterminacy (Dyreson and Snodgrass 1998) and
spatial imprecision (Dukham et al. 2001). The resulting model and the granularity
systems described are effective for data specification, but only generic conversion
functions between granularities are supported. In our work we define a set of
functions that convert spatio-temporal values (instead of granules and granularities)
at different spatial and temporal granularities.

Additional work dealing with multi-representation is described in Vangenot
(2001), Claramunt and Jiang (2000), Timpf (1999) and Hurtado and Mendelzon
(2001). Vangenot (2001) proposes a timestamped model for multiple representations
of data, where each representation is related to a viewpoint and a (spatial and
semantic) resolution, and the relationships among the different representations are
semantics driven. Claramunt and Jiang (2000) define nested hierarchies for
modelling space and time from which quantitative information about spatio-
temporal relationships are obtained. Timpf (1999) describes an approach for
deducing levels of detail
from a set of spatial data representing the same
geographical area at different resolutions (‘map series’) and with respect to a set
of given human driven abstraction processes: namely aggregation, filtering and
generalization.

Granularity involves semantic aspects of data both in representation and in
performing granularity transformations, and differs from resolution, which refers
generically to the amount of detail in a representation (Fonseca et al. 2002). In this
work we deal specifically with multigranular representation and conversion of
spatiotemporal data. Our work is based on an existing multigranular temporal
extension of the ODMG model (Bertino et al. 2003), which supports the notion of
temporal granularity formalized in Bettini et al. (1998, 2000). The notion of spatial
granularity we integrate in the framework is compliant with the formalization
proposed by Stell and Worboys (1998). They define ‘stratified map space’ as a set of
maps representing the same extent at different levels of detail (i.e. granularities) that
are related to form a spatial granularity lattice. In our framework, a similar lattice
structure can be defined for both temporal (Bettini et al. 1998, Dyreson et al. 2000)
and spatial granularities.

Spatial representations at coarser spatial granularities can be obtained by
applying model-oriented map generalization operators (Muller 1991, McMaster and

A framework supporting spatio-temporal granularity conversions

515

Stuart 1992, Muller et al. 1995, Weibel and Dutton 1999). In our framework we rely
on the operators defined by Bertolotto (1998) and Saalfeld (1999), as they guarantee
topological consistency to convert data to coarser spatial granularities. In this paper
we also formalize a set of operators that perform the inverse functions, called
refinement operators and that allow us to define geometric conversions to finer
spatial granularities.

The conversion of quantitative attribute values to different spatial and temporal
granularities is obtained by applying coercion and refinement functions. Coercion
functions have been defined in Bertino et al. (2003) to allow for safe refinement of
temporal attributes, and rely on semantic assumptions defined by Bettini et al.
(1998). Coercion functions have been used in Camossi et al. (2003) to convert spatio-
temporal values to coarser temporal granularities. A subset of the refinement
functions presented in this paper have been defined in Bertino et al. (2004) as the
inverse of coercion functions, to recover information at finer temporal granularities
from aggregate information stored at coarser granularities.

3. Temporal and spatial granularities

Granularities provide the units to quantitatively measure data, with respect to the
dimensions of the domain they represent. Each dimension requires a specific set of
granularities, and each set is orthogonal to the sets applied to other dimensions.

A temporal granularity is specified as a mapping from an ordered index set to the
set of portions of the time domain in Bettini et al. (1998, 2000). The time domain
represents the time of reference for the application, and it is totally ordered. For
instance, days, weeks, years are temporal granularities. Each portion of the time
domain corresponding to a granularity mapping is referred to as a temporal granule.
A granule represents a set of time instants, where an instant is a time point on the
underlying time axis. Each granule can be represented by its index, or by using a
the same temporal
textual
granularity cannot overlap. Moreover, non-empty temporal granules must preserve
the order given by the index set. The formal definition of temporal granularity is as
follows.

‘May-2005’). Granules of

‘14/05/2005’,

label

(e.g.

Definition 3.1 (Temporal granularity) (Bettini et al. 1998, 2000). Let I S be an
ordered index set, e.g. the set of natural numbers ¥, and let the time domain be
homeomorphic to ¡. Then, let 2¡ be the power set of the time domain. A temporal
granularity Gt is a mapping

that satisfies the following conditions:

Gt : I S?2¡

(t1) if i,j and Gt(i) and Gt(j) are non-empty granules of granularity Gt, then
each element of Gt(i) is less than all elements of Gt(j);
(t2) if i,k,j and Gt(i) and Gt(j) are non-empty, then Gt(k) is non-empty.

A graphical representation of a temporal granularity is provided in figure 1(a),
while figures 1(b) and (c) show examples of violation of the constraints on temporal
granularities.

We define a spatial granularity as a mapping from an index set to a set of possible
subsets of the spatial domain, that we assume to be 2-dimensional and thus properly
included or coincident with ¡2. Examples of spatial granularities are metres,

516

E. Camossi et al.

Figure 1. Temporal granularity (Definition 3.1). (a) A legal temporal granularity. (b)
Violations of condition t1. (c) Violation of condition t2.

kilometres, feet, yards, but also provinces and countries. A spatial granule is a
portion of the spatial domain (i.e. a set of 2-dimensional points). Each granule can
be represented by the corresponding index, or by a textual label (e.g. ‘France’ is a
label for granularity countries, ‘13th-mile’ is a label for granularity miles). No order
is required among granules of the same granularity, but two granules of the same
granularity cannot overlap. The formal definition of spatial granularity is as follows.

Definition 3.2 (Spatial granularity). Let I S be an index set, e.g. the set of natural
numbers ¥, and let the spatial domain be homeomorphic to ¡2. Then, let 2¡6¡ be
the power set of the spatial domain. A spatial granularity Gs is a mapping

and the following condition holds:

Gs : I S?2¡|¡

(s1) if i?j, and Gs(i) and Gs(j) are non-empty granules of granularity Gs, then
Gs(i) are Gs(j) disjoint (Gs(i)>Gs(j)5Ø).

A graphical representation of spatial granularity is shown in figure 2. Figure 2(a)
reports an example of spatial granularity, while figure 2(b) shows examples of
granules of the same granularity that overlap: the set of points of the space domain
included by granule Gs(i) has a non-empty intersection with the set of elements
identified by Gs(j). The same situation arises for granules Gs(i9) and Gs(j9).

Figure 2. Spatial granularity (Definition 3.2). (a) A legal spatial granularity. (b) Violation of
condition s1.

A framework supporting spatio-temporal granularity conversions

517

Two different types of spatial granularities are compliant with Definition 3.2:
granularities that result in 2-dimensional granules, namely polygonal granularities
(e.g. units of area: m2, km2, rood, acre, etc.; administrative boundaries classifica-
tions: municipalities, provinces, countries, etc.), and granularities that result in 1-
dimensional granules, namely linear granularities (e.g. measures of length: m, km,
inch, foot, mile, etc.; map scales: 1:24 000, 1:62 500, 1:100 000, 1:500 000; etc.).

Note that some spatial granularity names could be ambiguous, due to cultural
differences. For instance, the application of the granularity provinces in Italy and
Canada can result in different subdivisions, because in these countries the term
province corresponds to different administrative boundaries. We assume that the set
temporal and spatial granularities used by an application is clearly and
of
completely specified. In particular, we denote with GT and with GS the sets of
temporal and spatial granularities, respectively, managed by the application.
Granularities in GT have the same temporal domain, and granularities in GS have
the same spatial domain. Granularities in GT and in GS are related by the finer-than
relationship, defined for temporal granularities in Bettini et al. (1998). Such a
relationship formalizes the intuitive idea that different granularities result in
different partitions of the domain, and that, given a granule of a granularity G,
usually a granule of a coarser granularity exists that properly includes it. For
example, granularity days is finer than months, and granularity months is finer than
years. Likewise, municipalities is finer than countries. The formal definition of the
finer-than relationship is reported below.

Definition 3.3 (Finer-than relationship) Given a set of granularities G, a granularity
G [ G is said to be finer-than a granularity H [ G, denoted by GAH, if, for each index
i, an index j exists such that G(i)#H(j).

If a granularity G is finer-than H, we also say that H is coarser-than G. The
symbol $ denotes the anti-reflexive finer-than relationship. According to the finer-
than relationship, granularities in GT and GS are related to form a directed graph,
which, in the most general case, is a lattice.

4. Spatio-temporal type system

To represent spatio-temporal information we extend the ODMG type system and
syntax (Cattel et al. 1999) to support spatio-temporal capabilities. In this extension,
the database schemas describing the spatio-temporal application domain can have
temporal, spatio-temporal and conventional attributes (i.e. attributes
spatial,
without spatio-temporal capabilities). We define a set of types for representing
geometric vector features in 2-dimensions. Vector features types, that are referred to
in the following as geometrical types, and existing ODMG types are the basic types
of the extended type system. Basic types are employed to represent non-granular
information.

Multigranular spatial and temporal data are uniformly defined by instances of
two parametric types: spatial and temporal. Both parametric types are specified
according to a granularity (spatial and temporal, respectively), and an inner type.
Because parametric types are defined in terms of other types, composition rules must
be defined regulating what type can be used as the argument of a given parametric
type. Moreover, each legal composition generates a type that models a specific class
of application domain objects. The composition rules underlying our model are
summarized as follows. Instances of spatial parametric types are defined in terms of

518

E. Camossi et al.

inner basic types. Specifically, if the inner type is an ODMG type, the resulting type
is a quantitative spatial type, whereas if the inner type is a vector feature type or a set
of vector features, the resulting type is a geometric spatial type. Temporal types can
have inner types that are either basic or spatial. If the inner type is a conventional
ODMG type, the resulting type is temporal. Otherwise, it is spatio-temporal. In
if the inner type is a parametric spatial type, the resulting type is
particular,
multigranular spatio-temporal. Note that neither temporal nor spatial parametric
types can have a temporal inner type. In the remainder of the section we formalize
both the spatio-temporal extension of the ODMG type system and the syntax for
the definition of classes.

4.1 Basic types

The basic types of the spatio-temporal type system are ODMG and geometric types.
ODMG types are class types (i.e. user-defined), and literal types (e.g. short, int, float,
double, char, string, etc.). The geometric types are the interface type Geometry and its
three implementations: Point, Line and Polygon, and represent (a set of) non-overlaid
vector features in two-dimensions (i.e. points, lines and polygons, respectively).

We denote with T odmg the set of ODMG types, that are used to define
conventional attributes. Geometric types are denoted with T geom, and include the
interface Geometry and its implementations (i.e. Point, Line and Polygon), and
types defined by using the ODMG collection type constructor set<> and Geometry
types. Note that in this paper a set<Geometry> type represents a group of vector
features, and no constraint on the topological relationships (Egenhofer and
Franzosa 1991) among them is maintained. As a future extension of the type
type set<> could be refined with aggregation and
system, collection object
composite constructors defined by Open Geospatial ConsortiumTM (OGCTM).

4.2 Multigranular types

Multigranular spatial types are defined as instances of the parametric type spatial.
Given a basic type t [ T odmg|T geom and a spatial granularity Gs [ GS, the type
spatialGs tð Þ is defined. The set of multigranular spatial types is denoted by S. A
value of a type spatialGs tð Þ [ S is defined as a partial function that maps Gs-granules
onto t values. We refer to the set of points, subset of the space domain, for which the
partial function is defined as the spatial domain of the spatial value. Given a legal
value vs of type s~spatialGs tð Þ, vs(i) is a short notation we use to denote the value of
type t corresponding to the (unique) spatial granule of granularity Gs with index i.
Specifically, if t [ T odmg, the resulting type instance is referred to as a quantitative
spatial type, whereas if t [ T geom, the resulting type instance is a geometric spatial
types, denoted by SQ, are used for representing
type. Quantitative spatial
quantitative information that can be related to a spatial area or location (e.g.
population, rainfall, temperature). By contrast, geometric spatial types, denoted by
SG, are used for representing data that are inherently geometric. Both kinds of data
can be represented at different levels of spatial detail (i.e. spatial granularities); one
of these is granularity Gs. We denote the set ST ~T odmg|T geom|S as the set of
static types of the spatio-temporal type system.

Instances of the parametric type temporal, defined according to a temporal
granularity and an inner static type, are used to define multigranular temporal
and spatio-temporal attributes. Given a temporal granularity Gt [ GT , and a type

A framework supporting spatio-temporal granularity conversions

519

t [ ST , the type tt~temporalGt tð Þ is defined. A (spatio)temporal value of type tt is
defined as a partial function that maps Gt-granules onto t values. We refer to the set
of time instants for which these partial functions are defined as the temporal domain
of the (spatio)temporal value. Given a legal value vt of type tt~temporalGt tð Þ, vt(i) is
a short notation we use to denote the value of type t corresponding to the (unique)
temporal granule of granularity Gt with index i. The time specified (as temporal
granules of granularity Gt)
type
temporalGt tð Þ refers to the time where the stored facts were true in reality. This
means that the temporal dimension we consider is the valid time dimension (Bettini
et al. 2000).

in a (spatio)temporal attribute value of

a

If

T T .

temporal

type, whereas

t [ T odmg, temporalGt tð Þ

The set of all multigranular (spatio)temporal types tt~temporalGt tð Þ is denoted
if
is
by
t [ T geom|S, tt~temporalGt tð Þ is a spatio-temporal type. In particular, if t [ S,
i.e. t~spatialGs t0ð Þ, then, legal values of type tt are partial functions that map Gt-
in turn, partial functions
granules onto multigranular spatial values (that are,
mapping spatial Gs-granules onto values of type t9). According to the assumption we
made on valid time dimension, a constraint
type
is
tt~temporalGt spatialGs t0ð Þ
Þ. Specifically, given a legal value vt of type tt, and a
ð
value vs5vt(i) of type spatialGs t0ð Þ, then the spatial domain of vs is a valid spatial
domain, i.e. the set of points on which vs is defined exists over the set of instants
granule Gt(i). Given a
type
included in temporal
tt~temporalGt spatialGs t0ð Þ
Þ, we define the spatio-temporal domain of vt as the
ð
Cartesian product between the temporal domain and the spatial domain of vt.
In the following, given a type t [ T odmg|T geom|T T |S, the notation t½ (cid:1)

set on values of

(cid:1) denotes

vt of

value

legal

½

the set of legal values for type t.

5. Spatio-temporal granularity conversions

In this section we formalize how multigranular values of class attributes, defined
according to the syntax of figure 3, are explicitly converted to different spatial and
temporal granularities. Granularity conversions are crucial in order to represent
data at the most appropriate level of detail for a specific task. For instance, a coarser
representation is often sufficient for visualization purposes, whereas a detailed view
is required for accurate spatio-temporal analysis. Moreover, granularity conversions
allow for consistent comparisons of data defined in the schema at different
granularities, improving the expressive power of spatio-temporal query languages.
Attribute values are converted to different granularities according to conversion
specifications given by the database designer in the schema. Each specification refers
to a single class attribute. Then, each attribute value is converted from a given
granularity to another one with a specific semantics. Spatial and temporal
conversions are specified separately. Spatio-temporal conversions are obtained by
combining the corresponding temporal and spatial conversions. The granularity
conversions specified for an attribute define an instance of the spatio-temporal
granularity lattice, which is specific for that attribute. Given two different spatio-
temporal attributes, they potentially define two different granularity lattices, with
respect to the granularity conversions specified for them. Since the semantics
required for converting attribute values is usually strongly dependent on the
domain, the conversion mechanism we propose, which is targeted to single attribute
specification, greatly enhances modelling flexibility.

520

E. Camossi et al.

In our formalization granularity conversions are obtained through compositions
of model-oriented generalization (Bertolotto 1998, Saalfeld 1999) and refinement
operators, and by applying coercion and refinement functions (Bertino et al. 2003,
2004). The set of granularity conversions provided can be extended with user-
defined granularity conversions, which are specified as class methods in a database
schema.

In the remainder of the section, we first present the geometrical and quantitative
operators used for converting multigranular data; then we formalize granularity
conversions supported by our spatio-temporal framework; finally we define the
syntax for class definition, including conversion specification.

5.1 Conversion of spatial geometrical attributes

The granularity conversion of geometrical data to different coarser and finer spatial
granularities is obtained by composition of generalization and refinement operators,
respectively. The generalization operators we apply have been defined in Bertolotto
(1998) and Saalfeld (1999). Such operators are continuous mappings of a vector
representation of spatial data onto a generalized one. Moreover, they preserve
topological consistency, an essential property for data usability. In order to
guarantee topological consistency, the set of operators we consider does not include
some of the traditional generalization operations, e.g. aggregation. Each composi-
tion of such operators is a macro-operator with the same characteristics. This
property has been proved for the set of operators there defined in Bertolotto (1998).
Given each generalization operator, a refinement operator is defined performing the
inverse function. Then, the conversion of geometrical information to finer spatial
granularities is obtained by applying composition of refinement operators.

The set of generalization and refinement operators we support are denoted by Opg
and by Opr, respectively. Operators in Opg and Opr are reported in table 1. Assuming
points, lines and regions to be 0-, 1-, 2-dimensional vector features, operators in Opg
and Opr are classified with respect to the semantics of the conversion performed. For
example, contraction and thinning operators reduce the dimension of vector features,
whereas expansion operators increase their dimension; merge operators merge
adjacent features of the same dimension in a single one, while splitting subdivides
the same dimension; abstraction and
single features in adjacent
simplification (Saalfeld 1999) operators discard isolated features from polygons
and remove shape points from a line, whereas addition operators add isolated
features to polygons and shape points to lines. Both Opg and Opr sets can be
extended to include additional generalization and refinement operators.

features of

Definition 5.1 formalizes the spatial conversions of geometric attribute values.
Each composition of operators in Opg and Opr results in a partial function that
maps a geometrical spatial value onto a value at a different granularity: Opg-
compositions result in mappings onto coarser granularities, whereas Opr-composi-
tions result in mappings onto finer granularities.

Definition 5.1 (Granularity conversion of a geometric attribute value) Let
s1~spatialGs cð Þ and s2~spatialHs c0ð Þ, where c, c0 [ T geom, Gs, Hs [ GS, be two
geometrical spatial types, such that Hs$Gs. Given Gen5gn+...+g2+g1, where Vi51,
…, n gi g Opg, with g1 defined on type c and gn resulting in type c9, then
(cid:1), i.e. Gen is a total function that maps legal values of type
GenGs?Hs : s1½
(cid:1)
spatialGs cð Þ onto values of type spatialHs c0ð Þ. Given Ref5rn+...+r2+r1, where, Vi51, …,

(cid:1)? s2½
½
(cid:1)

½

A framework supporting spatio-temporal granularity conversions

521

Table 1. Spatial geometric conversion operators x
op[Opg

op[Opr.
, y

n, ri g Opr, with r1 defined on type c9 and rn resulting in type c,
RefHs?Gs : s2½
spatialHs c0ð Þ onto values of type spatialGs cð Þ.

then
(cid:1), i.e. Ref is a partial function that maps legal values of type
(cid:1)

(cid:1)? s1½
½
(cid:1)

½

5.2 Conversion of spatial quantitative and temporal attributes values

Quantitative spatial attributes and (spatio)temporal attributes are often used to
perform quantitative analysis onto the represented spatio-temporal domain (e.g. to
retrieve the annual trend of a phenomenon with a daily frequency, the countries
values of sales in shops located in several nations, etc.). Similarly, a set of parameters
observed with respect to a geographical area can be analysed according to different
geographical groupings, to obtain a coarser view. Although the granularities involved
in the first example are temporal, while in the second they are spatial, the
computation applied on such quantitative data is basically the same (i.e. a sum).
Thus, the computation can be performed by the same family of operators. In the
following we refer to the conversion of temporal and spatio-temporal attribute values
to different temporal granularities and to the conversion of spatial quantitative
attribute values to different spatial granularities as quantitative conversions.

Quantitative conversions to coarser granularities are obtained by applying
coercion functions. Both selective and aggregation coercion functions are supported.
Selective coercion functions choose, for each coarser granule g g G, a value among
those defined for the finer granules included in g, to be the value defined for g.
Aggregation coercion functions apply a computation to the finer values defined,
which results in a single value for g.

Quantitative conversions to finer granularities are performed by refinement
functions. Restriction refinement functions model downward inheritance (Shoham

522

E. Camossi et al.

1987), according to which if a granular value assumes value v in a granule g, value v
also refers to any finer granule g9 included in g. For instance, given a value
representing the address of a person, defined with temporal granularity years, each
value referring to a year Y is the valid address of that person for every day of year Y.
For all attributes for which downward inheritance is not adequate, splitting
refinement functions have been defined. Splitting functions subdivide each coarser
value among the finer granules included in it. If the subdivision returns the same
values for all the finer granules, this is equivalent to the uniform distribution
proposed by Dyreson and Snodgrass (1998). The refinement of a quantitative value
can be performed uniformly (i.e. all the finer values are the same), or with respect to
a non-uniform distribution. The distribution must be provided by the user.

Coercion and refinement functions are reported in table 2. Note that both
restriction and splitting functions have been defined in two versions: with and
without the parameter p(i), which represents the distribution mentioned above,
defined with respect to the finer granules. Given a refinement from granularity G to
granularity H, for each coarser granule g at granularity G for which a value v is
defined, the vi5v?p(i) is the value defined for granule hi at granularity H, where
hi # g, if the refinement function applied is split, and the set of finer granules
included in g is {hi|hi # g, where i5j, j + 1, …, j + n,}, Pn

i~j vi~v.

The following definition formalizes quantitative granularity conversions. Coercion
functions are defined as total mappings of a quantitative value onto a coarser one,
while refinement functions are partial mappings that perform the inverse operation.

Definition 5.2 (Quantitative granularity conversions) Let t1 and t2 be two
quantitative types, i.e. t1, t2[T T |SQ, defined according to granularities G and
H, respectively, such that G$H. Then, a coercion function CG?H : t1½
(cid:1) is a
(cid:1)
total function that maps values of type t1 onto values of type t2. A refinement
function RH?G : t2½
(cid:1) is a partial function that maps values of type t2 onto
(cid:1)
½
values of type t1.

(cid:1)? t1½
½
(cid:1)

(cid:1)? t2½
½
(cid:1)

½

5.3 Spatio-temporal multigranular class declarations

According to our spatio-temporal type system, object types with spatio-temporal
characteristics can be specified by defining classes with spatio-temporal attributes{.
Therefore, the spatio-temporal application domain can be described by a set of
spatio-temporal classes, which define a (spatio-temporal) database schema.
Multigranular spatio-temporal attributes defined in the classes of the schema refer
to the same sets of spatial and temporal granularities. These two sets of granularities
can either be assumed to be supported by the spatio-temporal DBMS, or,
equivalently, can be defined and implemented for each database schema defined.

Figure 3 reports the BNF syntax for spatio-temporal class definition, as an
extension of the ODMG class definition syntax{. In particular, the specification of
granularity conversions follows the syntax of non-terminal symbol <g_conv_list>.
Terminal symbols class_name, attr_name, method_name, param_name represent the

{Object types in the ODMG model are specified through interface and class definitions (Cattel et al.
1999). Interfaces define only the behavioural component of types, while classes specify also their
structural characteristics. The syntax for defining interfaces can be easily inferred from the class syntax.
{Since this paper deals specifically with attribute specification, we do not report the syntax for
relationship declaration, which is compliant with that defined in Cattel et al. (1999).

A framework supporting spatio-temporal granularity conversions

523

.
s
n
o
i
t
c
n
u
f

t
n
e
m
e
n
i
f
e
r

d
n
a

n
o
i
c
r
e
o
C

.
2

e
l
b
a
T

524

E. Camossi et al.

Figure 3. BNF Syntax for spatio-temporal multigranular class declaration with granularity
conversions.

name of an object type, an object attribute name, a method name and a method
parameter name, respectively; odmg_type_name is an ODMG type name, including
class and literal types; spatial_gran_name and temporal_gran_name are a spatial and
a temporal granularity name, respectively; finally, user-def_conv is the name of a
user class method that implements a user-defined conversion.

6. Properties of granularity conversions

The granularity conversions formalized in the previous section explicitly convert
multigranular data to different spatial and temporal granularities. The set of
conversions we provide supports a wide range of possible semantics, and it can be
extended through the definition of user-defined functions. The resulting mechanism
is flexible: it is targeted to attribute specifications, therefore it can be easily specified
according to data semantics.

In this section we formalize some properties of granularity conversions, such as
their correctness, compositionality and invertibility. In particular, compositionality
and invertibility are useful to optimize object access. According to Definitions 5.1
and 5.2, each granularity conversion gconvGRH corresponds to a family of functions
having a common behaviour. For instance, coercion function sum denotes the set
of
(cid:1), with
(cid:1)
t1, t2 [ T T |SQ. Since the behaviour of each function in this set is the same, in
what follows we will refer to a generic function sum, without explicitly specifying the
granularities, when ambiguities do not arise.

sumG?H G, H [ G, G[H

sumG?H : t1½

g, where

functions

(cid:1)? t2½
½
(cid:1)

f

½

j

6.1 Value correctness of granularity conversions

According to the definitions of granularity conversions we provide in section 5, the
values resulting from granularity conversions are legal values of the type system we

A framework supporting spatio-temporal granularity conversions

525

defined. We refer to this property as value correctness. The proof follows directly from
Definitions 5.1 and 5.2 that make explicit the types of values involved in granularity
such
conversions. Since value correctness holds
conversions can be considered as an algebra for converting spatio-temporal values
to spatial and temporal granularities. Value correctness is formalized as follows.

for granularity conversions,

Property 1 (Value correctness) Let v be a multigranular value of type t [ T T |S,
and let gconv be a granularity conversion defined for t. Then, gconv applied to v
always results in a legal value of type t’ [ T T |S.

6.2 Semantic correctness of geometric conversions to coarser granularities

The semantic correctness property applies to conversion of geometric attribute
values (and of geometric component of spatio-temporal attribute values) to coarser
granularities. It refers to the capability of such conversions to preserve the
topological consistency. Indeed, whenever a conversion is performed by a
the generalization operators in Opg we are guaranteed that
composition of
topological consistency is preserved. Indeed, both the set of operators defined in
Bertolotto (1998) and the simplification operator l_simp that follows Saalfeld’s
(1999) approach have been proven to preserve topological consistency. Semantic
correctness guarantees the consistency of multigranular spatial data resulting from
geometric conversions to coarser granularities, and, as a consequence,
their
usability. It is formalized as follows.

Property 2 (Semantic correctness). Let v be a value of
type s [ SG, where
s~spatialGs cð Þ, and let toprel be the set of topological relationships holding for v.
Let G5gn+...+g2+g1 be a composition of generalization operators where Vi51, …, n
gi g Opg, with g1 defined on c, and v9 the resulting value of the application of G on v.
Then, toprel is the set of topological relationships for v9, and no other topological
relationship can be devised for v9.

6.3 Compositionality of quantitative granularity conversions

Given three granularities G, H, I, belonging to the same set of granularity G, and a
coercion (respectively, a refinement) function f, if the result of converting through f
from G to H, and then from H to I, is the same as converting through f from G to I, f
is said to be compositional. Compositionality is formalized as follows.

Definition 6.3 Let f be a (family of) coercion (refinement) function(s), G, H, I [ G be
granularities such that G$H$I (I$H$G). If, Vv [ t½ (cid:1)
(cid:1), where t [ T T |SQ,
fHRI (fGRH (v))5fGRI (v), then f is compositional.

½

Property 3 According to Definition 6.3, quantitative conversions first, last, max, sum,
and restr are compositional, whereas main, avg, split, split[p(i)], restr[p(i)] are not.
split, avg) would be
compositional if a stronger relationship than the finer-than, such as the periodically
groups into (Bettini et al. 1998), held between granularities.

some non-compositional

Note that

functions

(e.g.

6.4

Invertibility of granularity conversions

When converting a value to a different granularity and then performing the inverse
conversion, we would expect the original value to be returned. Unfortunately, when
converting from a finer to a coarser granularity, we lose some details that we cannot

526

E. Camossi et al.

usually re-obtain by applying the inverse conversion to the finer granularity, because
of indeterminacy. By contrast, when converting from a coarser to a finer granularity,
we introduce some details that we might not want to record when we are not
interested in them any longer. Then, we can re-obtain the original value. This is
equivalent to what happens with the cast operation in the object-oriented context.
When we cast up an object to a superclass, and then recast it down to its original
class, we are not able to re-obtain the details we forgot. By contrast, if we cast down
an object to a subclass, we are able to re-obtain the original object, when recasting up
to its original class. The first type of conversion is captured by the notion of quasi-
inverse granularity conversions, which takes into account that some details are lost,
thus some imprecision is introduced. The second type of conversion is captured by
the notion of inverse functions. Such notions are formalized as follows.

f be a (family of) granularity conversion(s)

Definition 6.5 Let
to coarser
granularities, g be a (family of) granularity conversion(s) to finer granularities,
G, H [ G be granularities such that G$H, D be a quantification of the maximum
allowable error. Then, f and g are quasi-inverse if, Vv [ t½ (cid:1)
(cid:1), where t [ T T |S, Vi [ I S,
gHRG (fGRH (v))(i)5v(i)¡D.

½

Note that whether two functions are quasi-inverse depends on the setting
of D, and its definition is not unique in general. For instance, let a be a granular
attribute with a numerical inner type, and let v be its value. Let G and H be
(cid:2),
two granularities,
where maxj~maxh [ I S v hð Þ G hð Þ(H jð Þ
g,
f
nj~ h hj [ I S, G hð Þ(H jð Þ
j. Then, according to Definition 6.5, split is the quasi-
inverse function of sum, whereas restr is the quasi-inverse of avg, first, last, min,
max, proj, main, all, avg.

(cid:2)(cid:3)nj
g, minj~minh [ I S v hð Þ G hð Þ(H jð Þ

such that GAH. Suppose D~maxj [ I S maxj{minj

j
f

g

f

(cid:1)

(cid:1)

j

j

The setting of D for alphanumeric values could rely, for instance, on the length of
such values, whereas for geometric attributes one could define a distance function
between the convex hulls of the values represented at different granularities (e.g.
based on the difference of their areas).

f be a (family of) granularity conversion(s)

Definition 6.6 Let
to coarser
granularities, g be a (family of) granularity conversion(s) to finer granularities,
G, H [ G be granularities such that G$H. Then, f and g are inverse if, Vv [ t½ (cid:1)
(cid:1), where
t [ T T |S, fGRH (gHRG (v))5v.

½

Property 4 According to Definition 6.6, sum is inverse of split and split[p(i)]; restr
and restr[p(i)] are inverse of first, last, max, avg; l_contr is the inverse of exp_p2l;
r_contr is the inverse of exp_p2r; r_thinning is the inverse of exp_l2r; l_split is the
inverse of l_merge; r_split is the inverse of r_merge; l_contr is the inverse of exp_p2l;
l_simpl is the inverse of add_p2l; p_abs is the inverse of add_p2r; l_abs is the inverse
of add_l2r.

7. Case study: an example of multigranular spatio-temporal census repository

In this section we describe a database schema for the management of census
information in Europe. The core of this schema is the class Map, that is an object
type for describing geographical maps. Each object of type Map reports the political
boundaries and the main roads of the area it represents; the capital and the name of
the head of government of each country; and the amount of population, with respect
to each municipality. The history of each value in each map has to be maintained. In

A framework supporting spatio-temporal granularity conversions

527

figure 4 the definition of class Map is reported, according to the syntax given
in section 5. The attributes of Map defining the census
information have
multigranular spatio-temporal types, as defined in section 4. Attributes boundaries,
capitals and roads have a multigranular geometric inner type:
the political
boundaries of each country are represented as sets of polygons, capitals are
represented as points, whereas roads are defined as sets of lines. By contrast, the
spatio-temporal attributes population, and head_of_gov have a spatial quantitative
inner type.

Granularity conversions have been specified for the attributes. For most of the
attributes, pairs of (quasi)inverse conversions have been specified (cf. section 6). For
instance, for attribute capitals, that has type temporalyears (spatialcountries (Point)), the
temporal conversion firstdaysRyears has been specified to convert its value from
granularity days to years, and the temporal conversion restryearsRdays has been
specified to perform the inverse conversion. Note that the spatial conversions
summunicipalitiesRprovinces and sumprovincesRcountries have been specified for attribute
population. As specified in section 6, the granularity conversion sum is composi-
tional. Then, the value of attribute population can be converted directly from
granularity municipalities to countries, with the same semantics. In the remainder of
the section, we describe examples of legal values for some attributes of class Map
and their conversions.

7.1 Quantitative temporal conversions

Let o be an object of type Map, representing the map of Europe. Let v be the value
for spatio-temporal attribute head_of_gov of object o, representing the heads of
government of European countries over time. v could be, for example, as reported

Figure 4. Class specification of the object type Map.

528

below:

E. Camossi et al.

f

v~ . . . , S2002, SUnited Kingdom, BlairT, SGermany, SchrooderT, SSpain, AznarT,
f
SIreland, AhernT,SCroatia, Ra canT, SCzech Republic, pidlaT, . . .(cid:4)

countriesT,

S2004, SFrance, RaffarinT, SPortugal, BarrosoT, SSpain, ZapateroT,

f

SCroatia, SanaderT, . . .gcountriesT(cid:4)

years,

where 2002 and 2004 are labels for temporal granules of granularity years,
representing years 2002 and 2004; and United Kingdom, Germany, Spain, Ireland,
Croatia, Czech Republic, France and Portugal are labels for spatial granularity
countries, representing the nations through their names.

Then, suppose that we apply the quantitative temporal conversion lastyearsRdecades
to v, as specified in the definition of the attribute. Such a conversion results in a
spatio-temporal value of type temporaldecades (spatialcountries (string)):

lastyears?decades vð Þ~. . .,S2000(cid:2)2009, SFrance, RaffarinT, SPortugal, BarrosoT,

f

f
SSpain, ZapateroT,SCroatia,SanaderT, . . .gcountriesT(cid:4)

decades:

Note that the heads of government reported for the decade 2000–2009 are the
heads of government in 2004 in v, because these are the last values reported in v for
that period of time.

7.2 Quantitative spatial conversions

Let v0 be the value for attribute population of object o, such that:

v00~ . . ., S31=12=2002, SGenova, 609 399T, SMilano,1 253 503T, SRoma, 2 545 860T,

f

f

SVenezia, 270 963T, SNapoli, 1 004 577T, SLa Spezia, 91 316T, . . .gmunicipalitiesT,

. . ., S15=12=2004, SGenova, 609 459T
f

,SMilano, 1 254 675T, SRoma, 2 545 542T,

SVenezia, 271 105T, SNapoli, 1 004 584T, SLa Spezia, 91 290T, . . .gmunicipalitiesT

o

,

days

where the value reported for temporal granule 31/12/2002 corresponds to the
amounts of population in some Italian municipalities, according to the demogra-
phical census of year 2002 (ISTAT).

Suppose we apply the quantitative spatial conversion summunicipalitiesRprovinces to v0,
specifying that the amount of population of each European province be computed
as the sum of the amounts of population in the municipalities included in that
province. Such a conversion results in the spatio-temporal value v90, of type
temporaldays (spatialprovinces (int)), where Liguria, Lombardia, Lazio, Veneto and
Campania are the Italian provinces that include the municipalities reported above:

v000~ . . . , S31=12=2002, SLiguria, 1 570 004T, SLombardia, 9 033 602T, SLazio, 5 117 075T,

f

f

SVeneto, 4 529 823T, SCampania, 5 701 389T, . . .gprovincesT,

. . . , S15=12=2004, SLiguria, 1 606 394T
f

, SLombardia, 9 187 285T, SLazio, 5 338 851T,

SVeneto, 4 578 755T, SCampania, 5 799 917T, . . .gprovincesT

o

:

days

A framework supporting spatio-temporal granularity conversions

529

If we apply the granularity conversion splitprovincesRmunicipalities to v90, as indicated

in the definition of class Map in figure 4, we obtain the value u0 reported below:

u00~ . . . ,S31=12=2002, SGenova, 392 501T, SMilano, 752 800T, SRoma, 1 023 415T,

f

f

SVenezia, 647 117T, SNapoli, 1 114 277T, SLa Spezia, 392 501T, . . .gmunicipalitiesT,

. . . ,S15=12=2004, SGenova, 401 598T
f

, SMilano, 765 607T, SRoma, 1 067 770T,

SVenezia, 654 107T, SNapoli, 1 159 983T, SLa Spezia, 401 598T, . . .gmunicipalitiesT

days
Note that u0 is not equal to v0, because in this case the granularity conversion split is
the quasi-inverse of sum, as discussed in section 6.

:

o

7.3 Geometric spatial conversions

Let w be the spatio-temporal value for attribute boundaries of object o represented
in figure 5. Figure 5 reports the political boundaries of European countries in 1945,
1990, 1991, 1999, at spatial granularity countries as sets of Polygon, and at temporal
granularity years.

As specified in the definition of class Map in figure 4, this value can be converted
to the coarser spatial granularity continents by applying the spatial conversion
r_mergecountriesRcontinents, and to the temporal granularity centuries by using the
temporal conversion lastyearsRcenturies. If we apply the composition of
these
conversions to value w, i.e. lastyearsRcenturies (r_mergecountriesRcontinents(w)), we obtain
(spatialcontinents
the
(set<Polygon>)). The value w9 for the 20th century is depicted in figure 6.

temporalcenturies

spatio-temporal

value w9

type

of

Figure 5. Legal value for spatio-temporal attribute boundaries of class Map.

530

E. Camossi et al.

Figure 6. Value of attribute boundaries at spatial granularity continents, for the temporal
granule 20th of granularity centuries.

8. Concluding discussion and future developments

In this paper we have described a multigranular spatio-temporal extension of the
ODMG model for the specification of multigranular spatio-temporal data. The
integrated approach we adopt uniformly handles both spatial and temporal data,
differentiating itself from traditional GIS. We propose a formalization of spatial
granularity that is compliant with the notion proposed by Stell and Worboys (1998).
The framework we have developed supports the conversion of spatio-temporal
data at different granularities through the integration of granularity conversions.
These functions can be either pre-defined or be user-defined. This allows for great
flexibility at the modelling level.

Although some of the issues we address in the framework have already been
individually investigated, our approach represents the first unified formalization
that combines multirepresentation for spatial and temporal information in an object
data model. In the following, we discuss research issues related to the formalization
of granularity conversions we have proposed. The section concludes outlining
possible future developments of our work.

According to Definitions 5.1 and 5.2, conversions to coarser granularities have
been defined as total functions, whereas conversions to finer granularities have been
defined as partial functions. This difference is a consequence of the properties of the
finer-than relationship. According to Definition 3.3, given two granularities G and
H, such that GAH, a (unique) H-granule is always defined that includes each
G-granule (see figure 7(a)). Then, a conversion function that maps G-values onto
H-values, once it is defined on the inner domain of granular values can always be
defined. By contrast, the inverse condition is not always verified by the finer-than
relationship, i.e. given a coarser H-granule, a finer G-granule included in the H-
granule is not guaranteed to exist. Such a condition is guaranteed by the groups-into

A framework supporting spatio-temporal granularity conversions

531

relationship (see figure 7(b)) defined in Bettini et al. (1998). If both the finer-than
and the groups-into relationship hold for a set granularity G, we say that the
partition relationship (Bettini et al. 1998) holds on G.

Moreover, even when defined, conversions to finer granularities result
in
undetermined values. Such a problem is known in the temporal literature as valid
time indeterminacy (Dyreson and Snodgrass 1998, Katri et al. 2002). Indeterminacy
can be partially addressed by defining conversion functions that map each coarser
value onto a set of finer values according to a distribution function, such as
split[p(i)] and restr[p(i)] (discussed in section 5). The distribution could be provided
by the user according to data semantics, while similar functions could be retrieved
automatically by the database system, according to the values previously stored in
the database.

However, quantitative granularity conversions to coarser granularities can also
present some problems. Indeed, such conversions are affected by anomalies that are
well known in the spatial context, namely the Modifiable Area Unit Problem
(MAUP) (Openshaw 1984a) and the ecological fallacy (Openshaw 1984b). Since
such anomalies are in turn due to how quantitative aggregations are computed and
interpreted, the same problems arise also for temporal aggregations. Then, one
should be aware of them when using values obtained through this kind of
conversion.

A meaningful

implementation of geometric conversion functions should be
targeted to object instances; in other words, it must be provided by user-defined
operations/methods. Otherwise, geometric values can be converted to different
granularities according to general indications that might not be always adequate for
data to which they are applied. However, due to indeterminacy on values, such
general rules can hardly be employed to provide the semantics of finer conversions
in a spatio-temporal system engine. For instance, the conversion of regions to their
barycenters is likely a suitable choice for representing them at a coarser granularity.
By contrast, a correct implementation of a (re)conversion of points to regions to a
finer granularity (supposing that the finer representation of the corresponding data
has not been stored in the database) is not so obvious. Indeed, the general behaviour
of such a granularity conversion is the substitution of each point with a region.
However, the question arises of how to properly select the region to be used for the
more detailed representation. To answer such a question some knowledge on the
application domain is required. By contrast, quantitative conversions to finer
granularities can be performed according to standard rules with a richer semantics,
as that provided by refinement functions, and the resulting indeterminacy can be
limited to suitable error bounds.

The framework we have developed can be further extended in several directions.
A query language, integrated with spatial operations, such as map overlay, and by
adding condition specifications for refining the application of spatial conversions to

Figure 7.

(a) The finer-than relationship. (b) The groups-into relationship.

532

E. Camossi et al.

portions of spatial attribute values is crucial. The core of the query language and its
integration with granularity conversions can be found in Camossi
(2005).
Furthermore, we are extending the data definition language to allow for the explicit
storage of topological relationships of spatial data represented in temporal maps,
which is a critical issue for speeding up queries. The implementation design of the
spatio-temporal framework is discussed in Camossi (2005). An initial implementa-
tion of the model and of the temporal coercion functions is currently being
developed. Once completed, we are planning to perform a comprehensive
evaluation. In particular, we are interested in developing a GUI for visualizing
spatio-temporal representations of query results, supporting information visualiza-
tion tools. We are also interested in optimizing the performance by maintaining
materialized views of different levels of representation of spatio-temporal data. A
preliminary study, regarding the support of materialized views for multigranular
temporal data and the access of temporal data at different granularities, can be
found in Camossi et al. (2004) and Bertino et al. (2004). This study has been partially
extended to the spatio-temporal context in Camossi (2005).

References
BERTINO, E., FERRARI, E., GUERRINI, G. and MERLO, I., 2003, T_ODMG: an ODMG
compliant temporal object model supporting multiple granularity management.
Information Systems, 28(8), pp. 885–927.

BERTINO, E., CAMOSSI, E. and GUERRINI, G., 2004, Access to multigranular temporal objects.
In Proceedings of the 6th International Conference On Flexible Query Answering
Systems (FQAS 2004), in the series Lecture Notes in Artificial Intelligence, Vol. 3055
(Berlin: Springer-Verlag).

BERTOLOTTO, M., 1998, Geometric modeling of spatial entities at multiple levels of resolution.

PhD thesis, Universita` degli Studi di Genova.

BETTINI, C., DYRESON, C.E., EVANS, W.S. and SNODGRASS, R.T., 1998, A glossary
of time granularity concepts. In Proceedings of Temporal Databases: Research
and Practice, in the series Lecture Notes in Computer Science, Vol. 1399, pp. 406–413
(Berlin: Springer-Verlag).

BETTINI, C., JAJODIA, S. and WANG, X., 2000, Time Granularities in Databases, Data Mining,

and Temporal Reasoning (Berlin: Springer-Verlag).

BETTINI, C., WANG, X.S. and JAJODIA, S., 1998, Temporal semantic assumptions and their use
in databases. IEEE Transactions on Knowledge and Data Engineering, 10(2), pp.
277–296.

BITTNER, T. and SMITH, B., 2003, Vague reference and approximating judgments. Spatial

Cognition and Computation, 3(2–3), pp. 137–156.

CAMOSSI, E., 2005, Spatio-temporal multigranularity in an object data model. PhD thesis,

CAMOSSI, E., BERTINO, E., GUERRINI, G. and MESITI, M., 2004, Handling expiration
temporal objects. Journal of Logic and Computation, 4(1),

University of Milan.

of multigranular
pp. 23–50.

CAMOSSI, E., BERTOLOTTO, M., BERTINO, E. and GUERRINI, G., 2003, A multigranular
spatiotemporal data model. In Proceedings of the 11th International Symposium on
Advances
in Geographic Information Systems, November 7–8, New Orleans,
Louisiana, USA (ACM GIS 2003), pp. 94–101 (New York: ACM Press).

CATTEL, R., BARRY, D., BERLER, M., EASTMAN, J., JORDAN, D., RUSSEL, C., SCHADOW, O.,
STANIENDA, T. and VELEZ, F., 1999, The Object Database Standard: ODMG 3.0 (New
York: Morgan-Kaufmann).

CHEN, C. and ZANIOLO, C., 2000, SQLST: a spatio-temporal data model and query language.
In Proceedings of the 19th International Conferece on Conceptual Modeling/the Entity

A framework supporting spatio-temporal granularity conversions

533

Relational Approach, October 9–12, Salt Wake City, Utah, USA (ER 2000), in the
series Lecture Notes in Computer Science Vol. 1920, pp. 96–11 (Berlin: Springer-
Verlag).

CHOMICKY, J. and REVESZ, P., 2001, Parametric spatio-temporal objects. Periodico

dell’Associazione Italiana per l’Intelligenza Artificiale, 14(1), pp. 41–47.

CLARAMUNT, C. and THE´ RIAULT, M., 1995, Managing time in GIS: an event oriented
approach. In Proceedings of the International Workshop on Temporal Databases:
Recent Advances in Temporal Databases, J. Clifford and A. Tuzhilin (Eds), pp. 23–42
(Berlin: Springer-Verlag).

CLARAMUNT, C. and JIANG, B., 2000, Hierarchical reasoning in time and space. In
Proceedings of the 9th International Symposium on Spatial Data Handling, 10–12
August 2000, Beijing, China (SDH 2000), P. Forer, A.G.O. Yeh and J. He (Eds), pp.
41–51.

DUKHAM, M., MASON, K., STELL, J.G. and WORBOYS, M.F., 2001, A formal approach to
imperfection in geographic information. Computer, Environment and Urban Systems,
25, pp. 89–103.

DYRESON, C.E. and SNODGRASS, R., 1998, Supporting valid-time indeterminacy. ACM

Transactions on Database Systems, 23(1), pp. 1–57.

DYRESON, C.E., EVANS, W.S., LIN, H. and SNODGRASS, R., 2000, Efficiently supporting
temporal granularities. IEEE Transactions on Knowledge and Data Engineering, 12(4),
pp. 568–587.

EGENHOFER, M.J. and FRANZOSA, R.D., 1991, Point-set topological spatial relations.
International Journal for Geographical Information Science, 5(2), pp. 161–174.
FONSECA, F., EGENHOFER, M.J., DAVIS, C. and CAˆ MARA, G., 2002, Semantic granularity in
ontology driven geographic information systems. Annals of Mathematics and Artificial
Intelligence, 36(1–2), pp. 121–151.

GRIFFITHS, T., FERNANDES, A., PATON, N., MASON, K., HUANG, B., WORBOYS, M.,
JOHNSONON, C. and STELL, J.G., 2001, Tripod: a comprehensive system for the
management of spatial and aspatial historical objects. In Proceedings of the 9th ACM
Symposium on Advances in Geographic Information Systems, 9–10 November, Atlanta,
GA, USA (ACM GIS 2001), W.H. Aref (Ed.), pp. 118–123 (New York: ACM Press).
GU¨ TING, R.H., BHO¨ LEN, M.H., ERWIG, M., JENSEN, C.S., LORENTZOS, N.A., SHNEIDER, M.
and VAZIRGIANNIS, M., 2000, A foundation for representing and querying moving
objects. ACM Transaction On Database Systems, 25, pp. 1–42.

HORNSBY, K. and EGENHOFER, M.J., 2002, Modeling moving objects over multiple
Intelligence, 36(1–2), pp.

granularities. Annals of Mathematics and Artificial
177–194, special issue on Spatial and Temporal Granularity.

HUANG, B. and CLARAMUNT, C., 2002, STOQL: an ODMG-based spatio-temporal object
model and query language. In Proceedings of the 9th International Symposium on
Advances in Spatial Data Handling, July 9–12, Ottawa, Canada (SDH 2002), D.
Richardson and P. Oosterom (Eds), pp. 225–237 (Berlin: Springer-Verlag).
HURTADO, C.A. and MENDELZON, A.O., 2001, Reasoning about summarizability in
heterogeneous multidimensional schemas. In Proceedings of the 8th International
Conference on Database Theory, 4–6 January, London, UK (ICDT 2001), in the series
Lecture notes in Computer Science Vol. 1973, pp. 375–389 (Berlin: Springer-Verlag).
ISTAT, Istituto Nazionale di Statistica (Italian Statistical Institute), http://www.istat.it

(accessed June 2004).

JENSEN, C.S., 2003, Meeting on Technology for a National GeoDatabase Infrastructure, 3
September, Siena, Auditorium del Monte dei Paschi di Siena. Available online at
http://www.intesagis.it/Eventi/Jensen.ppt.

KHATRI, V., RAM, S., SNODGRASS, R.T. and O’BRIEN, G., 2002, Supporting user defined
granularities and indeterminacy in a spatio-temporal conceptual model. Annals of
Mathematics and Artificial Intelligence, 36(1), pp. 195–232, special issue on Spatial
and Temporal Granularity.

534

A framework supporting spatio-temporal granularity conversions

LANGRAN, G., 1992, Time in Geographic Information Systems (London: Taylor & Francis).
MCMASTER, R.B. and STUART, K., 1992, Generalization in Digital Cartography (Washington

DC: Association of American Geographers).

MULLER, J.-C., 1991, Generalization of spatial databases. In Geographical Information
Systems: Principles and Applications, D.J. Maguire, M.F. Goodchild and D.W. Rhind
(Eds) (Essex, England: Longman Scientific and Technical).

MULLER, J.-C., LAGRANGE, J.P. and WEIBEL, R. (Eds), 1995, GIS and Generalization: Metho-

dology and Practice (London: Taylor and Francis).

MYSQLH, http://www.mysql.com (accessed December 2005).
OGCTM, Open Geospatial Consortium, Inc., http://www.opengeospatial.org/

(accessed

December 2005).

OPENSHAW, S., 1984a, The modifiable areal unit problem. Concepts and Techniques in Modern

Geography, 38 (Norwich, UK: GeoBooks).

OPENSHAW, S., 1984b, Ecological fallacies and the analysis of area census data. Environment

and Planning, 16, pp. 17–31.

ORACLEH, http://www.oracle.com (accessed December 2005).
POSTGRESQL, Inc., http://www.postgresql.org (accessed December 2005).
RIGAUX, P., SCHOLL, M. and VOISARD, A., 2002, Spatial Databases with Application to GIS

(New York: Morgan Kaufmann & Academic Press).

SAALFELD, A., 1999, Topologically consistent line simplification with the Douglas–Peucker
algorithm. Cartography and Geographic Information Science, 26(1), pp. 7–18.

SHOHAM, Y., 1987, Temporal

logics in AI: semantical and ontological considerations.

Artificial Intelligence, 33(1), pp. 89–104.

STELL, J.G. and WORBOYS, M.F., 1998, Stratified map spaces: a formal basis for multi-
resolution spatial databases. In Proceedings of the 8th International Symposium on
Spatial Data Handling, 12–15 July, Vancouver, BC, Canada (SDH ’98), T.K. Poiker
and N. Chrisman (Eds), pp. 180–189 (Vancover: International Geographical Union).
TIMPF, S., 1999, Abstraction, levels of detail, and hierarchies in map series. In Proceedings of
the 4th Conference on Spatial Information Theory (COSIT ’99), in the series Lecture
Notes in Computer Science, Vol. 1661, pp. 125–139 (Berlin: Springer).

TRYFONA, N. and JENSEN, C.S., 1999, Conceptual modeling for spatiotemporal applications.

Geoinformatica, 3(3), pp. 245–268.

VANGENOT, C., 2001, Supporting decision-making with alternative data representations.

Journal of Geographic Information and Decision Analysis, 5(2), pp. 66–82.

WEIBEL, R. and DUTTON, G., 1999, Generalizing spatial data and dealing with multiple
Information Systems: Principles, Techniques,

In Geographical
representations.
Management and Applications (New York: Wiley).

WORBOYS, M.F., 1994, A unified model for spatial and temporal information. The Computer

Journal, 37(1), pp. 26–34.

