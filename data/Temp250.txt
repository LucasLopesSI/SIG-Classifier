International Journal of Geographical Information Science
Vol. 25, No. 11, November 2011, 1885–1903

Constructing personalized transportation networks in multi-state
supernetworks: a heuristic approach
Feixiong Liao, Theo A. Arentze and Harry J.P. Timmermans∗

Department of Architecture, Building and Planning, Eindhoven University of Technology,
Eindhoven, The Netherlands

(Received 7 October 2010; ﬁnal version received 9 January 2011)

An integrated view encompassing the networks for public and private transport modes
as well as the activity programs of travelers is essential for accessibility analysis. In
earlier research, the multi-state supernetwork has been put forward by the authors as a
suitable technique to model the system in such an integrated fashion. An essential part
of a supernetwork involving multi-modal and multi-activity is the personalized trans-
portation network, which is an under-researched topic in the academic community. This
article attempts to develop a heuristic approach to construct personalized transporta-
tion networks for an individual’s activity program. In this approach, the personalized
network consists of two types of network extractions from the original transporta-
tion system: public transport network and private vehicle network. Three examples are
presented to illustrate that the public transport network and private vehicle network
can represent an individual’s attributes and be applied in large-scale applications for
analyzing the synchronization of land-use and transportation systems.

Keywords: supernetwork; multi-modal and multi-activity; accessibility analysis;
heuristic approach; personalized networks

Introduction

1.
The concept of accessibility has a long history in urban planning, transportation research,
and geographic information science. Accessibility of locations is commonly conceptu-
alized as a characteristic of a transportation system and location-based facilities, which
determines the ease with which users can implement their activity programs. In the
past century, various measurements and related operationalizations have been suggested.
Originally, accessibility was measured in terms of the number of opportunities that could
be reached within a user-deﬁned radius for a certain motive (Wachs and Kumagai 1973,
Vickerman 1974). Later, distance decay functions were used rather than deterministic radii
(Handy and Niemeier 1997). These measures thus focus on the spatial conﬁguration of
opportunities, that is, on the supply side. Based on the criticism that these measures did
not take individuals’ preferences and constraints into account, these supply measures were
complemented with measures focusing on spatial choice behavior. Examples are the utility-
based accessibility measures (Ben-Akiva and Lerman 1977, Pirie 1979) and the time–space
measures suggested in time geography (Ashiru et al. 2003, Neutens et al. 2008), which

*Corresponding author. Email: h.j.p.timmermans@bwk.tue.nl

ISSN 1365-8816 print/ISSN 1362-3087 online
© 2011 Taylor & Francis
http://dx.doi.org/10.1080/13658816.2011.556119
http://www.tandfonline.com

1886

F. Liao et al.

capture the available opportunities in time–space prisms or the number of alternative
ways that any given activity–travel pattern can be realized, given a set of time–space con-
straints. Especially, the latter measures cause challenges to geographic information science
in deciding an optimal representation.

Irrespective of the speciﬁc approach, these existing measures are largely insensitive
to the degree by which transport networks for different modes and location-based facili-
ties are mutually adjusted or synchronized with respect to activity programs. In addition,
none of the existing measures appear to sufﬁciently consider the multi-modal trips and
the related effort involved in transfers and waiting. An integral representation of multi-
modal networks and the inclusion of more details related to activity participation, transfer,
and waiting time requires new ways of representing the complex synchronized networks.
Recently, multi-state supernetworks have been identiﬁed as a promising way to analyze
the accessibility of land-use and transportation systems for implementing full activity pro-
grams of individuals allowing such representation (Arentze and Timmermans 2004a, Liao
et al. 2010, Ramadurai and Ukkusuri 2010). A supernetwork is a network connecting
different networks for different transport modes (private and public ones) as well as the
locations where individuals can conduct activities. A path through such a supernetwork
describes a particular way of implementing a given activity program in time and space.
This approach allows the simultaneous choice of all relevant facets of an activity pro-
gram including the sequence of activities, transport modes, routes, parking and transfers,
locations, and a multi-criteria, state-dependent evaluation of paths through the network.
Thus, the multi-state supernetwork supports the analysis of synchronization of different
networks.

However, the network becomes very large and complex when multiple transport net-
works and activity locations are integrated into a single representation. It is therefore
important to construct personalized networks. This idea is based on the observation that
from the perspective of an individual’s activity program only a small number of destinations
and also a relatively small proportion of the complete transport system will be relevant.
As indicated (Arentze and Timmermans 2004a, Liao et al. 2010), personalized supernet-
works are essential because they reduce the computation time in large-scale applications
for analyzing land-use and transport systems without loss of representational possibilities.
Nevertheless, as an important part of such a supernetwork model, the personalized network
is an under-researched topic in the academic community.

The objective of this article therefore is to develop an efﬁcient heuristic approach to
construct personalized networks for a given individual activity program. In this approach,
the personalized network consists of two types of network extractions from the original
transportation system, namely public transport network (PTN) and private vehicle network
(PVN). PTN is composed of selected public transport connections by an individual’s pref-
erences on walking distance, transfer times, fare and time cost, and so on, whereas the PVN
is constructed with optimal routes of the considered private vehicles in a hierarchical road
network based on multi-attribute link cost functions. We develop the new approach and test
it using the administrative Eindhoven region (the Netherlands) and a large sample of activ-
ity programs obtained from an activity diary data collection in the Netherlands as a case.
The remainder of this article is organized as follows: ﬁrst, based on Liao et al. (2010), we
will summarize the quintessence of multi-state supernetworks. Next, we will discuss the
principles of the heuristic approach. This is followed by a discussion of the results of the
empirical application. The article is completed with a discussion of major conclusions and
avenues for future research.

International Journal of Geographical Information Science

1887

2. Multi-state supernetwork model

Supernetworks were originally introduced in transportation research as a means of integrat-
ing transport networks of different modes (Shefﬁ 1985). To connect these networks, links
interconnecting the physical networks are identiﬁed and represent transfer locations where
individuals can switch between modes. Such augmented networks allow researchers to
model multi-modal trips as paths through the supernetwork (Carlier et al. 2003). Nagurney
and coworkers (2002, Nagurney and Smith 2003) proposed further extensions of super-
networks that also include links representing particular transactions between actors and
telecommunications to model communications and transactions involved in supply chains
and other economic activities.

In view of the different characteristics of links, Arentze and Timmermans (2004a) sug-
gested an extension of the basic supernetwork concept that integrates activity programs
of individuals and multi-modal transport networks. Their supernetwork model is based
on the notion that the costs on any kinds of links are mode and activity state dependent
and personalized. The mode state deﬁnes whether and which particular mode is used,
and activity state deﬁnes which activities have already been conducted. In addition, to
capture the choice facets of parking a private vehicle and picking up a private vehicle,
vehicle state is used to deﬁne where the private vehicle is (in use or parked somewhere).
In each vehicle state, a link can be further mode-identiﬁed by its feature. Thus, the multi-
state supernetworks are constructed for each individual and made up of physical networks
of different activity–vehicle states (combinations of activity and vehicle states). In their
representation, nodes represent real locations in space; links connecting different nodes
of the same activity state are travel links; those interconnecting the same nodes of the
same activity states are transition links referring to parking/picking up a private vehicle
or boarding/alighting public transport; and those interconnecting the same nodes of differ-
ent activity states are transaction links representing the implementation of activities. This
so-called multi-state supernetwork provides a powerful framework for analyzing accessi-
bility. The cost of a least-cost path through a multi-state supernetwork represents the effort
of implementing an activity program. Such a measure takes into account multi-modal and
multi-activity patterns as well as the synchronization of transport networks and the land-
use system. However, a drawback of the approach is that the supernetwork may become
very large and possibly intractable because it needs to incorporate as many copies of a
physical network as there are possible activity–vehicle states associated with an activity
program.

Founded on this multi-state supernetwork, Liao et al. (2010) proposed an improved rep-
resentation, which is easier to construct and considerably reduces the size needed to include
all choice combinations. In this approach, the integrated transport network is decomposed
into a PTN and PVNs. PTN contains the modes of walking and public transport. As it
can be a multi-modal network, if any node induces a mode change, extra bi-directed links
are added to denote boarding/alighting transition links. Although the walking network can
be separated from the PTN, in our model it is appropriately combined with the PTN by
adding boarding and alighting links. This does not affect the deﬁnition of vehicle state. In
contrast, only one mode is involved in each PVN so there is no need to extend it. PTN and
PVNs share joint nodes of parking locations interconnected by transition links where the
individual can transfer between a private mode and a public one. To represent all possible
choice facets for conducting an activity program, PTN and PVNs are assigned to all pos-
sible activity–vehicle states and then connected by state-labeled transition and transaction
links.

1888

F. Liao et al.

It is obvious that links in PTN or PVN are travel links, links between PVN and PTN
in the same activity state are mode transition links, and links between PTNs from different
activity states are activity transaction links. Every link represents an individual’s speciﬁc
action such as walking, cycling, driving, parking or picking up a car, boarding or alighting
a bus or train, and conducting a speciﬁc activity. Therefore, the link cost can be deﬁned in
a state-dependent and personalized way. Proofs were also provided that the supernetwork
represents the action space and that the least-cost path is the most desirable activity tour
of a rational individual. The size of costs of the least-cost path is considered a measure
of accessibility of locations for the activity program considered that takes into account
interconnectivity of transport networks and locations. Figure 1 is an example of the super-
network representation, which uniﬁes three optional modes, that is, car, bike, and walking,
with which the individual can depart from home to implement an activity program. This
example represents an activity program of two activities, two private vehicles, and four
parking locations resulting in four activity states and seven vehicle states. As an example,
the bold route represents the tour characterized by the individual leaving home by bike,
parking the bike at P4, and taking public transport connection to conduct A2. Then, the
individual goes back to P4 and picks up the bike, rides the bike again, parks at P3, con-
ducts A1, and ﬁnally picks up the bike at P3, and returns home with all activities conducted
and the vehicle returned. As shown, multi-activity and multi-modal trips involving private
and public transport modes are supported in this supernetwork representation.

Although the split between PTN and PVN is beneﬁcial to the supernetwork repre-
sentation, the approach still leaves open the question how personalized networks can be
constructed to reduce the representation and thus allow full-scale applications of the model.
The next section therefore discusses a heuristic approach to construct the personalized
transportation networks for a given individual’s activity program.

Figure 1. Supernetwork representation of an activity program.

International Journal of Geographical Information Science

1889

3. Personalized transportation network

To keep consistency with our supernetwork model, the personalized transportation network
refers to an interconnected PTN and PVNs. We also adopt the same deﬁnition of activity
program, which includes three aspects: (1) the individual leaves home with at most one pri-
vate vehicle to conduct at least one activity and returns home with all activities conducted
and all private vehicles at home; (2) there may be some sequential relationship between
the activities, due to the nature of the activity or due to individual preferences; (3) the
individual has at most three possible departing modes: walking, bike, and car.

It is widely recognized that location-based facilities and transportation system together
form the urban space that inﬂuences people’s life by providing both opportunities and con-
straints when people conduct their activities (Arentze and Timmermans 2004b). However,
as far as an individual’s daily activity program is concerned, only a rather small set of
locations for activities will be of interest to the individual. Once the locations of activity
facilities are determined, the individual will always consider the most satisfactory routes
with the least generalized costs to get there. Therefore, a natural way to obtain the per-
sonalized transportation networks is to select and unify all most satisfactory routes that
interconnect all locations concerned (including home location). Note that the most satis-
factory route may be dependent on the state the individual is in when traversing the route.
The remainder of this section will ﬁrst consider the cost functions of the links in the super-
network. Next, we will focus on the construction of personalized networks based on this
concept.

3.1. Link cost functions
We adopt a generalized link cost framework (Arentze and Timmermans 2004a) for all the
links. In general, the costs of a link represent a perceived disutility of the link. Let s be the
state of an individual i at a given point in time. Then the link costs functions are deﬁned as
follows.

3.1.1. Travel link cost functions

Travel links include the links that can be traveled by walking, bike, car, or public transport.
Given the objective of an illustration on accessibility analysis, only two most important
components, time and cost, are presently included in the functions. We deﬁne disutility
rather than utility to make sure that least-cost paths correspond to maximum utility paths.

(cid:129) Walking : disUisWl = βisWt × timeWl + (cid:3)isWl
(cid:129) Bike : disUisBl = βisBt × timeBl + (cid:3)isBl
(cid:129) Car : disUisCl = βisCt × timeCl + βisCc × costCl + (cid:3)isCl
(cid:129) Public transport : disUisPTl = βisPTl × timePTl + βisPTc × costPTl + (cid:3)isPTl

(2)

(3)

(1)

(4)

where disUis∗l denotes the disutility of using link l by a particular mode (∗ =
{W, B, C, PT}), βis∗t and βis∗c represent the weights of time and cost components by
different modes, respectively; and (cid:3)is∗l are the unobserved component of the individual’s
preferences. Note that travel links for public transport only represent the in-vehicle parts of
trips as access, egress, alighting, and boarding components of these trips are represented as
separated links. For example, the disutility of waiting at stops/stations is modeled as costs
of transition links.

1890

F. Liao et al.

3.1.2. Transition link cost functions

Transition links represent the changes of modes. Costs functions on these levels are deﬁned
as follows:

(cid:129) Parking : disUisPKvp = βisPKv × XisPKvp + (cid:3)isPKvp

(5)

where disUisPKvp denotes the disutility of parking private vehicle v (v ∈ {B, C} ) at location
p; X PKvp is a vector of factors of parking v at p including cost, access time, parking type,
and safety; βisPKv is a weight vector of these factors; and εisPKvp relates to unobserved
components.

(cid:129) Picking up : disUisPUvp = βisPUve × eTimeisPUvp

(6)

where disUisPUvp denotes the disutility of picking up private vehicle v at location p,
eTimePUvp is the egress time which refers to the time taken by v from p to the road network,
and βisPUve is the weight on egress time.

(cid:129) Boarding : disUisBDt = βisBD × XisBDt + (cid:3)isBDt

(7)

where disUisBDt denotes the disutility of boarding at public transport stop t; X BDt is a vector
of factors of boarding at t, including waiting time and location attractiveness; βisBD is a
weight vector; and εisBDt is an error term.

(cid:129) Alighting : disUisATt = βisATe × eTimeisATt

(8)

where disUisATt denotes the disutility of alighting at public transport stop t, eTimeATt is the
egress time which refers to the time taken from t to the road network, and βisATe is the
weight.

(cid:129) Departing home : disUidm = Cidm

(9)

where m denotes the departing mode, m ∈ {W, B, C} ; disUidm denotes the disutility of
departing home with mode m; and Cidm is the constant component for preference. Note
that as travel costs are accounted for on the level of transport links, the disutility on this
level represents a base preference for the mode or, more precisely, a loss relative to the
most preferred mode evaluated at a distance of zero.

(cid:129) Returning home : disUirm = Cirm

(10)

where disUirm denotes the disutility of returning home with mode m and Cirm, as before,
relates to a base preference for the mode.

3.1.3. Transaction link cost function
Despite the fact that conducting an activity as a rule produces utility, to keep consistency
with the supernetwork model, this article adopts the concept of disutility in the sense that
the location where an activity is conducted is at most as good as an ideal location (Zhang
et al. 2004). In other words, disutility refers to a loss compared to a hypothetical ideal
location.

International Journal of Geographical Information Science

1891

(cid:129) Conducting an activity : disUisCAjk = βisCAj × XisCAjk + (cid:3)isCAjk

(11)

where disUisCAjk denotes the disutility of conducting activity j at alternative location k;
X isCAjk is a vector of factors of conducting j at k including price, quality, service, and
activity duration; βisCAj is a weight vector; and EisCAjk is an error term.

In the functions above, the disutility on each link is state dependent. However, as a
preprocessing step for the supernetwork model, the construction of PTN and PVN is con-
tingent on no activity state or only on the beginning situation when the individual has not
departed home. This means that the heuristic rules discussed next for selecting the loca-
tions and connections are not referring to any activity state occurring in later stages of the
activity program.

3.2. Construction of PTN
Due to the fact that public transport provides an affordable choice for personal mobility
and freedom for people from every walk of life, public transport is always an alternative
means for mobility. Thus, public transport is always taken into account in judging what an
individual can do within the existing urban environment, even if the individual has higher
preference for a private vehicle.

To get the public transport connections, the ﬁrst step is to decide on the relevant activ-
ity locations. Given an activity program, an individual would in the ﬁrst place think about
where to locate the activities. According to whether an activity has more than one alter-
native location, it can be classiﬁed as a ﬁxed location or a ﬂexible location. Consider, for
example, the activity work. If the individual is required to be present at a speciﬁed work-
ing location, work is an activity with a ﬁxed location. Similarly, home is regarded as a
ﬁxed location where the individual leaves and returns. By contrast, shopping often allows
a location choice and, therefore, generally is an activity with ﬂexible locations.

It is trivial to locate activities with ﬁxed locations. For those with ﬂexible locations, the
individual may need to narrow down the choice set into a smaller consideration set. In this
decision-making process, two key factors are the (dis-)utility of conducting the activity at
an alternative and a trip association with other activities. The former is deﬁned by Equation
(9) when we assume the activity state the individual is in before leaving home. The latter
can be deﬁned in terms of average travel efforts from or to so-called associable activity
locations. Depending on the sequential relationship, two activities are associable only if
the two activities can be conducted in succession. Similarly, two locations are associable
only if there are activities at these two locations that are associable. Based on these two
components, a location choice model can be applied to narrow down the choice set for an
activity with ﬂexible locations:

disUicCAjk = disUiCAjk + traveliCAjk

(12)

where disUicCAjk is the disutility of individual i choosing alternative k for activity j;
disUiCAjk is the disutility of conducting j at alternative k; and traveliCAjk is the average
travel disutility from or to associable locations.
As the modes in the trips from or to associable activity locations are not known in this
extraction process, average travel disutility by different modes is adopted here. If aver-
age travel disutility is consistent with the real travel disutility, we can argue in situations
when any ﬂexible activity only has at most two associable locations that the location with
the least disUicCAjk is the optimal location. In other cases, a subset selection is necessary

1892

F. Liao et al.

to ensure that the optimal location will be selected. In theory, there are two ways of nar-
rowing down the choice set: (1) selecting a speciﬁed number Nj of alternatives with the
least disutility or (2) selecting a speciﬁed proportion Pj of the total with the least disu-
tility. The larger Nj or Pj, the higher probability the optimal location is in the subset. At
the same time, however, the size of the supernetwork and computation times increase.
Sensitive analysis on Nj (Section 4.3) indicates that a very small value compared to the
original size already gives a high probability that the optimal alternative location is picked
out.

Note that the target of the selection is not to ﬁnd the best location, which is done in
the supernetwork model, but to eliminate candidates that are highly unlikely to be chosen.
Thus, travel disutility can be calculated by means of estimated distance. For example, sup-
pose an activity program (see Figure 2), in which A and B are ﬁxed activity locations; the
ﬁve black dots are the alternative locations for activity C given that they are associable to
both A and B. Suppose further that direct distance is taken as a measure of travel effort and
the ﬁve locations have the same disutility. If the individual has a strong dislike of travel, 4
and 5 will be eliminated.

The second step is to select the most satisfactory public transport connections between
any two associable locations. Public transport connections include walking paths to the
neighboring public transport stops, transit paths, boarding and alighting at the stops.
Allowing for the case that walking could be better than taking any public transport, the
walking path between the two locations is also regarded as a PTN connection. Figure 3
is an example of a public transport connection set between two locations A and B. Note
that these components refer to different types of links in a supernetwork that are combined
sequentially in a path (Wardman 2003). For each pair of associable locations, a public
transport connection choice model can be applied for the selection:

disUPTCc = (disUiW + disUiPT + disUiBD + disUiAT)| c

(13)

where disUPTCc denotes the disutility of taking public transport connection c, and the right-
hand side of the function represents four parts of the disutility distributed on c, which are
deﬁned by Equations (1), (4), (7), and (8).

Unlike the location choice model, the public transport connection choice model only
chooses one alternative with the least disutility because the individual always selects the

Figure 2. Example of narrowing down the choice set.

International Journal of Geographical Information Science

1893

A

Figure 3. Example of public connections.

Public transport stops

B

Walking path

Neighborhood circle

In-vehicle

most satisfactory one when the two locations are known. We assume that the selected
connection is symmetrically bi-directed. Hence, if there are n locations appearing in the
activity program after the ﬁrst step, at most (n × (n – 1))/2 public transport connections
will be selected.

After the ﬁrst two steps, all the selected public transport connections together form the
PTN of departing home by the mode of walking, denoted as PTNw. If the individual has
the freedom to use a private vehicle, the next step is to add parking locations and related
walking paths to complete the PTN.

The purpose of using a private vehicle is either to access an activity location directly or
access transport hubs and switch to public transport if the destination is a bit far away. Thus,
reasonable choices of parking locations can be in the vicinity of transport hubs and activity
locations, which are called potential parking locations. Without loss of generality, we set
two types of distance circles with both centers at home for a private vehicle v(∈ {B, C}) :
acceptance distance circle (diva) and limitation distance circle (divl), which satisfy
diva < divl. If an activity location lies outside the circle of divl, it is not considered a poten-
tial parking location. If there exists one activity location outside the circle of diva, potential
parking locations include the transport hubs that reside inside this and occur in PTNw. If
such a transport hub does not exist, the public transport stop that is in PTNw and closest
to home is considered. Otherwise, activity locations are all considered as potential parking
locations. Figure 4 shows an example that activity location A and transport hub TH are
potential parking locations.

To further evaluate the parking locations, we adopt a traditional parking choice model
(Benenson et al. 2008) to select speciﬁc parking locations for each potential parking
location:

Figure 4. Example of potential parking location.

1894

F. Liao et al.

disUicPKvp = disUiPKvp + travelPKp

(14)

where disUicPKvp is the disutility of i choosing parking for v at p; disUiPKvp is the disutility
of parking v at p; and travelPKp is the travel disutility to its corresponding potential parking
location.

At most two parking locations are selected for each potential parking location: at most
one with parking cost and at most one without parking cost. As there is always a short
walking path between the parking location and the destination, such walking paths are
added to the PTNw. After executing all the steps mentioned above, the PTN is constructed.
It contains the home location, activity locations, parking locations, a few public transport
stops/stations, and walking paths and transit paths that connect the locations.

3.3. Construction of PVN

PVN is constructed when the individual has the possibility to use private vehicles. It is used
to realize the transitions between different vehicle states. If the individual has no private
vehicle, PVN is not relevant and there is no need to construct it. Otherwise, the PVN
is a set of private vehicle connections between different locations where private vehicles
can be parked. Just as the individual always selects the most satisfactory public transport
connection, she/he would also choose the most satisfactory private vehicle connection
once two locations and the mode are given. Thus, the PVN is reduced to a set of the
most satisfactory private vehicle connections except between those parking locations which
correspond to and only to the same potential parking locations.

To capture the transition between vehicle states and consequences for link costs and
link availability, the PVN is constructed speciﬁcally for each possible departing mode, that
is, bike and car (see Figure 1). For each departing mode, the individual can assign mode-
dependent and personalized costs to road network, which are functions of mode, travel
time, and travel costs (see Section 3.1). Therefore, the most satisfactory private vehicle
connection between two locations is the least-cost path, which can be solved by standard
shortest path algorithms. In sum, PVNs are mode-speciﬁed networks which, respectively,
contain home, parking locations, and optimal paths that connect these locations.

Following the steps above, we can obtain the personalized transportation networks for
an individual’s activity program. However, they are only the network extractions at the
beginning activity state, that is, before implementing the activity program. To make them
ﬁt into the supernetwork model, we make an assumption that the subsequent activity state
may affect the total disutility on a public transport or private vehicle connection but does
not change the choice of connection within a state. The assumption is based on the notion
that people in most cases take the same route given a transport mode irrespective of the
activity state. Note that this solution still allows that travelers choose a different mode
depending on the activity state. With this assumption, we can argue that the personalized
transportation networks contain the routes and locations that are most likely to be cho-
sen by the individual. Therefore, the supernetwork representation is the action space of
implementing the whole activity program.

In summary, based on the rules mentioned above, the proposed heuristic algorithm to

construct personalized transportation networks can be described as follows:

Step 1: Observe an individual’s activity program, and set all personalized parameters.
Step 2: Select the locations of activities with ﬁxed location.

International Journal of Geographical Information Science

1895

Step 3: Select the location choice set for activities with ﬂexible locations using

Step 4: Select the most satisfactory public transport connection for any two associable

Equation (12).

locations using Equation (13).

Step 5: If the individual does not have the possibility to use a private vehicle, deﬁne
the union of selections as the output PTN, and exit; else, go to Step 6.
Step 6: For each possible departing mode, ﬁrst select the potential parking locations
and then select the speciﬁc parking locations using Equation (14); then deﬁne
the union of the selections as the output PTN.

Step 7: For each possible departing mode, and for any two locations selected in PVN,
if there needs to be a private vehicle connection, select the most satisfactory
one.

Step 8: Unify the selections and output the mode-speciﬁc PVN.

4. Case study
In this section, we present three examples to illustrate how the personalized transportation
networks are constructed for a given activity program and how they can be applied in the
supernetwork model for a large-scale accessibility analysis. The heuristic algorithm and
the supernetwork model is executed in Matlab in Windows environment running in a PC
with Intel® CoreTM2 Duo CPU E8400@ 3.00 GHz 3.21G RAM. The study area is the
administrative Eindhoven region, which includes 20 cities/towns. The case study focuses
on the population living in Eindhoven city and assumes that people have their activities
conducted within the administrative Eindhoven region.

4.1. Data

Five data sets (Table 1) are collected for delineating the location-based facilities and trans-
port system of the study area. In Figure 5, pink, green, orange, and blue dots denote the
locations for Nos. 1–4 in Table 1, respectively, and gray lines denote the road network.
Given the purpose of accessibility analysis, the operational capacities of activities facilities
and public transport are not considered.

As there is no complete information about the factors mentioned in the link cost
function of conducting an activity, activity duration (time component) and the difference

Table 1. Data sets collected for the case study.

No.

Data set

Data source

Description

Locations for
residence
Locations for
employee

NRM 2004

Residence information of Eindhoven

Selected by TransCAD

Employee information of the

city

Locations for paid

Selected manually

Paid parking at city centers, shopping

administrative Eindhoven region,
including 15,851 different locations
for 32 types of occupation

centers, and train stations

Timetable of all the buses and trains in
the administrative Eindhoven region
Road information of the administrative
Eindhoven region, including 28,734
nodes and 40,680 undirected links

parking

Public transport (bus

and train)
Road network

www.hermes.nl
www.ns.nl

NWB 2003 (selected
by TransCAD)

1

2

3

4

5

1896

F. Liao et al.

Figure 5. Delineation of the study area (scale: 1:500,000). (a) Locations of residents and public
transport. (b) Locations of services.

between the number of employees at a activity location and the maximum number of the
same activity type (service component) are used as the two factors. The corresponding
weights are denoted by βiCAt and βiCAs. As there is no complete information about the
factors mentioned in the parking location choice model, the average parking cost is used
as the only factor of parking at a location. Its corresponding weight is denoted by βiPKc.
Twenty-ﬁve paid parking areas are selected for car; elsewhere, there is no monetary park-
ing cost. Assume the distance from a car parking location to its potential parking location
is uniformly distributed in the range [0, 200 m]. Any locations can be considered for bike
parking, and it is free.

There are 877 stops/stations in 63 public transport lines in the study area. We assume
that the average waiting time at a stop is 7.5 minutes and the average cost is 0.2 C/km in the
bus or train. There are three road classiﬁcations: G (local), P (provincial), and R (national)
roads. We suppose that the average car speed is 36, 50, and 80 km/h, respectively, on G,
P, and R, whereas assumed fuel cost is 0.13, 0.11, and 0.09 C/km, respectively, on G, P,
and R roads. Average bike speed is 12 and 15 km/h, respectively, on G and P roads, and
average walking speed is 5 km/h on G and P roads.

4.2. Example 1: PTN and PVN

This example considers an individual (male), who lives in the northern part of Eindhoven
city, having an activity program on a typical day, which includes (1) three activities, that is,
working at the ofﬁce, picking up his child from the day-care, and shopping, with durations
540, 2, and 10 minutes, respectively; (2) sequential relationship satisfying working prior
to picking-up, picking-up prior to shopping, and free to choose dropping off the child at
home before or after shopping; and (3) ownership of a bike. In addition, we assume that
the disutility will increase only when walking or cycling with the child.

The activity program implies the following:

(1) There are ﬁxed activity locations for working and picking-up, and ﬂexible activity

(2) There will be six activity states in the supernetwork representation according to

locations for shopping.

the sequential relationships.

(3) The parking locations could be the activity locations and some transport hubs if
any, as bike is the only private vehicle and it is free to park a bike anywhere.
Consequently, there is only one mode-speciﬁc PVN.

International Journal of Geographical Information Science

1897

Table 2. Personalized parameters.

For transport links

The activity state without child

The activity state with child

β iWt
2.84
β iBD
(2.5, 0)

β iBt
2.13
β iATe
1

β iPTt
1.77
β iCAt
1

β iPTc
6.0
β iCAs
0.008

β iWt
3.55
CdB
−5.0

β iBt
2.66
Cdw
−10.0

β iPTt
1.77
CrB
0

β iPTc
6.0
Crw
0

The relevant personalized parameters of the link costs are set as shown in Table 2.
In applications of the model, all personalized parameters are supposed to be obtained by
empirical estimation, for example, by using stated preference experiments. Because empir-
ical estimation is not the focus of this study, they are set here by rule of thumb. Acceptance
and limitation distances for bike are set as diBa = 5 km and diBl = 15 km, respectively. As
an illustration, three locations are selected for shopping when applying the location choice
model (Nj = 3), and the egress time for picking up the bike and alighting is set as zero.

According to the steps of the heuristic algorithm, the construction of PTN and PVN
can be described as follows. First the activities with ﬁxed locations are located in Figure 6
a, in which the green dots denote the alternative locations for shopping. Second, the three
alternatives are selected for shopping, S1–S3, in terms of Equation (12) (Figure 6b). Then,
the public transport connections are selected in terms of Equation (13) (Figure 6c). Next,
the parking locations, (P1–P5), are selected at the activity location as they are all inside
the circle of diBa (Figure 6d). Finally, the bike connections are selected (Figure 6e). Figure
6f and g are the PVN and PTN of the individual’s activity program, in which the public
transport and private vehicles are considered bi-directed. Thus, there are 6 nodes and 24
edges, and 25 nodes and 60 edges in PVN and PTN, respectively, which are considerably
reduced compared to the raw integrated network.

After incorporating PTN and PVN in the multi-state supernetwork model, two least-
disutility activity tours are generated for two different departing modes, with disutility of
609.31 and 783.23 units, respectively, for bike and walking. Thus, the individual would
take the bike as the departing mode, and its activity tour suggests that the individual rides
the bike to the activity location, parks it there and conducts the activity, then pick ups the
bike and rides to the next activity location, and so forth.

In constructing the PTN and PVN, the key parameter is how many alternatives are
selected for shopping as the scale of the following steps are all based on this. Table 3 shows
the results of comparisons with different values of Nj in the supernetwork of departing
mode as bike. As there are unobserved components, the model including the constructions
of personalized transportation networks and supernetwork runs 10 times for each Nj and the
average disutility and running time are shown. It indicates when setting Nj > 10, no further
signiﬁcant improvements are obtained, but running time increases considerably (running
time is expected to be less, as the model is implemented in an interpreter language).

However, if using the same supernetwork representation with the original integrated
network and without any selection, there will be more than 3 × 108 nodes in the supernet-
work given that there are 2031 alternatives for shopping. Moreover, the link costs of the
supernetworks may vary with different individuals’ attributes, which renders the optimiza-
tion speeding-up techniques such as goal-directed search and highway hierarchy invalid.
It takes several minutes to ﬁnd the optimal activity tour in a personal computer. It will

1898

F. Liao et al.

Figure 6. Example of extracting PVN and PTN. (a) Locating activities (scale 1:100,000); (b) locat-
ing activities (scale 1:50,000); (c) public transport connections; (d) selecting parking locations; (e)
bike connections; (f) bike mode-speciﬁed PVN; (g) extension of PTN with boarding and alighting
links.

International Journal of Geographical Information Science

1899

Table 3. Comparison with different values of N j. Bold values indicate that Aver_disU does not
decrease signiﬁcantly when N j is larger than 10.

Number of nodes in

Nj

1
3
5
10
30
50
100
500

PVN

PTN

Supernetwork

Aver_disU (Bike)

Aver_time (seconds)

4
6
8
13
23
103
203
503

17
25
32
43
98
125
208
807

126
486
1008
2658
17, 778
38, 118
1, 26, 018
24, 24, 018

615.89
612.47
603.62
593.52
593.39
593.34
593.47
593.21

0.07
0.10
0.14
0.19
0.52
0.87
1.8
29.0

take much longer or even be intractable if either increasing the number of activity states or
putting the activity program in a larger area.

4.3. Example 2: accessibility analysis
The example in this section concerns a set of activity programs which are converted based
on the deﬁnition of activity program from the Dutch national travel survey collected in
2004 (Mobiliteit Onderzoek Netherlands (MON)). A population of 42,991 individuals
(over 11 and under 80 years old) from 24,183 households with a total of 85,332 activi-
ties are examined. Tables 4 and 5 display the classiﬁcations of trip purposes (activities in
this article) in the MON and ratios of different activity types, respectively. We classify an
activity as whether its location is ﬁxed or ﬂexible (see the Fixed column); 1 denotes ﬁxed
activity locations; 0 otherwise. The activities with ﬁxed locations are located by roulette
wheel selection in terms of numbers of employees at the locations corresponding to same
occupational sector classiﬁcation. Tables 6 and 7 display the ratios of different numbers of
activities and possession of different private vehicles, respectively. As mentioned above,
only car and bike are considered as private vehicles in this illustration.

To get the personalized transportation network for each individual, we assume that the
parameters in the heuristic algorithm are dependent on three major factors of an individual,
that is, gender, age, and income. The parameters of the link costs are set as in Table 8 and
the weights of personal attributes (in the bold box of Table 8) are set as in Table 9. Other
parameters are set the same for each individual without referring to any activity state,
including (1) acceptance distance and limitation distance for bike and car: dBa = 5 km,
dBl = 15 km, dCa = 15 km, and dCl = 200 km; (2) egress time of picking up a private
vehicle and alighting at a stop: eTimePU = 0 and eTimeAT = 0; and (3) selection number in
the activity location choice model: Nas = min(10, 0.9 × N jT), where N jT is the total number
of alternative locations for activity j.

Based on the parameter settings, we run the supernetwork model embedding with the
heuristic algorithm for all the activity programs. The running time is 3815.5 seconds in total
and 0.089 seconds on average per person. The aggregate disutility for conducting all the
activity programs is 2.011 × 107 or 467.78 on average per person. Hence, the accessibility
of Eindhoven city is equal to 2.011 × 107 units of disutility for the population. Figure 7
shows the percentages of the total disutility distributed in different classiﬁcations of the
population. Applying this model, we can readily test whether a change of the urban design
or a new governmental policy is beneﬁcial to the whole or a speciﬁc population segment.

1900

F. Liao et al.

Table 4. Classiﬁcation of trip purposes (activities).

Activity type

Classiﬁcation

Fixed Activity type

Classiﬁcation

Fixed

7. Pick/put

8. Leisure

1. Working

2. Business

3. Education

4. Shopping

5. Returning
6. Transport-

profession

10 ofﬁce or factory
11 farmer, agriculture
12 at temporal address
13 sideline, recall force
14 volunteer (all forms)
20 ofﬁce or factory
21 one-day trip
22 overnight business
30 formal
31 temporal
32 stage
33 day-care
34 school excursion
40 general
41 at city center
42 at shopping center
51 other home
61 taxi
62 public transport
63 other
64 supply goods

1
1
1
1
1
1
1
1
1
1
1
1
1
0
1
0
1
1
1
1
1

65 freight of goods, truck
66 postman, newspaper
67 profession outside
68 other
71 to drop off
72 to pick up
80 common
81 private meeting
82 cafe or restaurant
83 cinema or museum
84 social center
85 church
86 hobby
87 sports
88 neighbor meeting
89 recreational movement

91 bank or post, etc.
92 public town hall, tax
93 personal care
94 physical care

1
1
1
1
1
1
0
1
0
0
0
1
0
1
1
1
1
0
1
0
1

9. Use service 90 medical care

Table 5. Ratio of activity types.

Type Work Business Education Shopping Transport Pick/put Leisure Service Other

Ratio 20.1% 5.22%

4.94%

24.19%

0.85%

6.63% 32.66% 5.39% 0.03%

Table 6. Ratio of number of activities per person.

Number

1

2

3

4

5

6

>6

Ratio

43.38%

34.54%

14.63%

5.19%

1.45%

0.49%

0.32%

Table 7. Attributes and components.

Vehicles

Ratio

Car

57.29%

Bike

92.64%

Car and bike

96.35%

None

3.65%

4.4. Example 3: accessibility comparison
This example investigates the accessibility effect of an operation change of public transport
services. The public transport system in Eindhoven city has the characteristic of a one-hub
transfer structure. The ‘Eindhoven Station’ stop is the transport hub, from which all the
bus routes originate. With this structure, any two stops in Eindhoven city can be reached

International Journal of Geographical Information Science

1901

Table 8. Link cost functions.

For transport link

At the beginning activity state
β iCt
β iCc
β iPTt
β iPTc
β iBt
β iWt

1+GCt(genderi) + ACt(agei) + ICt(incomei) + (cid:3)it
3 +GCc(genderi) + ACc(agei) + ICc(income) + (cid:3)ic
1.25 × βiCt
β iCc
1.5 × βiCt
1.5 × βiCt

States with child or heavy products (shopping longer than 45

minutes)

β iBt
β iWt

1.8 × βiBt
2.4 × βiWt

At the state with child and heavy products
β iBt
β iWt

2.1 × βiBt
2.8 × βiWt

For transition link

β iBD
β iATe
β iCAt
β iCAs
β iPKc
β iPUve
CidC

CirC

Cidb
CirB

CidW
CirW

(β iCt, 0)
1
1
0.0016 × βiCc
β iCc
1
0

0

−3 × βiBt
0

−5 × βiWt
0

Table 9. Attributes and components.

Attributes (ratio)/components

Time

GCt(genteri)

ACt(agei)

Male (49.2%)
Female (50.8%)
12–<20 (9.28%)
20–<60 (67.4%)
60–<80 (23.8%)
<15K C (50.0%)
15K C–<30K C (33.5%)
≥30K C (16.5%)

Cost

GCc(genteri)

ACt(agei)

0
0.5

0
1.0
1.2

3
2
1

0.05
0

0.05
0.12
0.1

0.15
0.25
0.35

ICt(incomei) (yearly)

ICt(incomei)

t
n
e
c
r
e
P

100.00

80.00

60.00

40.00

20.00

0.00

20–<60

Male

Female

15K€–<30K€

<15K€

>30K€

12–<20

60–<80

Gender

Age

Income

Figure 7. Percentage of disutility.

by bus via at most one transfer. However, an inherent drawback of this so-called spoke-
hub paradigm is that most pairs of stops can only be reached by a transfer at the Eindhoven
Station stop. For example, it takes around 45 minutes from the north (a business area) to the
south (high-tech campus) by bus including one transfer at Eindhoven Station. To improve
the accessibility of the residents who live in the north but have their activities in the south
or the other way around, the transport planners of Eindhoven city try to add a new faster

1902

F. Liao et al.

12–<20

t
n
e
c
r
e
P

0.15

0.10

0.05

0.00

–0.05

–0.10

–0.15

Male

Female

60–<80

<15K€

>30K€

Gender

Income

Age

20–<60

15K€–<30K€

Figure 8.

Increase of disutility in different classiﬁcations.

route (30 minutes) that connects the south and the north passing through several residential
areas and Eindhoven Station in between. Due to budget limitations, one or two other routes
have to be canceled. Short-distance routes 182 and 184 are in the planners’ perspective
because their stops can be completely covered by other routers. Therefore, the question to
the planners is what effects will arise if this option would be adopted?

The approach applied in the second example above can provide sufﬁcient answers to
this question. As the choice-sets of locations for (ﬂexible) activities are based on physical
distances and attributes of the facilities (see Section 3.2), the substitution of public trans-
port routes does not lead to changes in the pre-selected set of activity locations in Example
2. The aggregate disutility for this scenario is obtained by keeping the parameter settings
the same and running the algorithm again. Figure 8 depicts the increase in disutility of dif-
ferent classiﬁcations, which together bring the aggregate 0.05% down. This is an aggregate
amount, but the beneﬁts may differ locally and includes effects of possible adaptations. For
example, we observe that 0.02% of the sample population shifts its departing mode from
walking (then taking public transport) to cycling as a result of the cancellation of routes
182 and 184. Nevertheless, the results show that overall the measure improves the accessi-
bility of Eindhoven city taking into account the activity programs of a large sample of the
population, activity locations, and transport services.

5. Conclusions
Multi-state supernetworks have been suggested in geographic information science as a
potentially powerful representation for integrating different transportation networks and
the implementation of activity–travel programs. It may serve in the context of simulating
multi-modal travel behavior and advanced accessibility analysis. A potential disadvantage
of the supernetwork approach is that computation times may become high as many copies
of the networks are created. Personalized networks can offer a solution in this regard. The
current article has proposed an approach for constructing such personalized networks and
illustrated their applications. Results indicate that the suggested approach offers a feasi-
ble solution and represents another step forward in constructing operational multi-state
supernetworks.

The proposed approach is based on the critical assumption that the activity state may
affect the costs or disutility of a public transport or private vehicle connection but does
not change the connection composition on itself. Although this assumption is consistent
with the empirical observations, it is not a general assumption. Thus, in future work, this
assumption may be relaxed and an even more general approach may be suggested. In addi-
tion, the current approach is based on individual activity–travel programs. However, recent

International Journal of Geographical Information Science

1903

developments in accessibility analysis have emphasized the importance of the household
in that task allocation may have an impact on the ease with which a household agenda
can be realized in time and space and hence on accessibility. Moreover, in the household
case, different members of the household may need to synchronize their activities and
travel, for example, in the context of joint activities, implying additional constraints on the
representation of the supernetworks.

Acknowledgements
This study is supported by the Dutch Science Foundation (NWO).

References
Arentze, T.A. and Timmermans, H.J.P., 2004a. Multistate supernetwork approach to modeling multi-
activity, multimodal trip chains. International Journal of Geographical Information Science, 18
(7), 631–651.

Arentze, T.A. and Timmermans, H.J.P., 2004b. A learning-based transportation oriented simulation

system. Transportation Research Part B, 38 (7), 613–633.

Ashiru, O., Polak J.W., and Noland, R.B., 2003. Space-time user beneﬁt and utility accessibility
measures for individual activity schedules. Transportation Research Record, 1854, 62–73.
Ben-Akiva, M. and Lerman, S.R., 1977. Disaggregate travel and mobility choice models and mea-
sures of accessibility. In: Proceedings of the third international conference on behavioral travel
modeling, 2–7 April, Tanunda, Australia.

Benenson, I., Martens, K., and Birﬁr, S., 2008. PARKAGENT: an agent-based model of parking in

the city. Computers, Environments and Urban Systems, 32, 431–439.
Carlier, K., et al., 2003. A supernetwork approach towards multimodal

travel modeling. In:
Proceedings of the 82nd annual meeting of the transportation research board, 12–16 January,
Washington, DC. [CD-ROM].

Handy, S.L. and Niemeier, D.A., 1997. Measuring accessibility: an exploration of issues and

alternatives. Environment and Planning A, 29, 1175–1194.

Liao, F., Arentze, T., and Timmermans, H.J.P., 2010. Supernetwork approach for multimodal and
multiactivity travel planning. In: Proceedings of the 89th annual meeting of the transportation
research board, 10–14 January, Washington, DC. [CD-ROM].

Nagurney, A., Dong, J., and Moktharian, P.L., 2002. Multicriteria network equilibrium modeling
with variable weights for decision making in the information age with application to tele-
communicating and teleshopping. Journal of Economic Dynamics and Control, 26, 1629–1650.
Nagurney, A. and Smith, F., 2003. Supernetworks: paradoxes, challenges and new opportunities. In:
1st international conference on the economic and social implications of information technology,
27–28 January, Washington, DC, 229–254.

Neutens, T., et al., 2008. My space or your space? Towards a measure of joint accessibility.

Computers, Environment and Urban Systems, 32, 331–342.

Pirie, G.H., 1979. Measuring accessibility: a review and proposal. Environment and Planning A, 11,

299–312.

Ramadurai, G. and Ukkusuri, S., 2010. Dynamic user equilibrium model for combined activity-travel
choices using activity-travel super network representation. Network and Spatial Economics, 10
(2), 273–292.

Shefﬁ, Y., 1985. Urban transportation networks: equilibrium analysis with mathematical program-

ming methods. Englewood Cliffs, New Jersey: Prentice Hall.

Vickerman, R.W., 1974. Accessibility, attraction and potential: a review of some concepts and their

use in determining mobility. Environment and Planning A, 6, 675–691.

Wachs, M. and Kumagai, T.G., 1973. Physical accessibility as a social indicator. Socio-economic

Planning Sciences, 7, 437–456.

Wardman, M., 2003. Public transport values of time. Transport Policy, 11 (4), 363–377.
Zhang, J., et al., 2004. Modeling traveler choice behavior using the concepts of relative utility and

relative interest. Transportation Research Part B, 38, 215–234.

Copyright of International Journal of Geographical Information Science is the property of Taylor & Francis Ltd

and its content may not be copied or emailed to multiple sites or posted to a listserv without the copyright

holder's express written permission. However, users may print, download, or email articles for individual use.

