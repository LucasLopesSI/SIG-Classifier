The Cartographic Journal
The World of Mapping

ISSN: 0008-7041 (Print) 1743-2774 (Online) Journal homepage: http://www.tandfonline.com/loi/ycaj20

The rendering of relief images from digital contour
data

F. Hobbs

To cite this article: F. Hobbs (1995) The rendering of relief images from digital contour data,
The Cartographic Journal, 32:2, 111-116, DOI: 10.1179/caj.1995.32.2.111

To link to this article:  http://dx.doi.org/10.1179/caj.1995.32.2.111

Published online: 18 Jul 2013.

Submit your article to this journal 

Article views: 8

View related articles 

Citing articles: 2 View citing articles 

Full Terms & Conditions of access and use can be found at
http://www.tandfonline.com/action/journalInformation?journalCode=ycaj20

Download by: [Universite Laval]

Date: 06 May 2016, At: 02:07

THECARTOGRAPHICJOURNALVolume32number2December1995publishedbyTHEBRITISHCARTOGRAPHICSOCIETYContentsTherenderingofreliefimagesfromdigitalcontourdataF.HobbsDyscover:AworldofspecialmapsforspecialpeopleR.BirleyandN.TaskerAnExaminationofAlgorithmsfortheDetectionofCriticalPointsonDigitalCartographicLinesz.LiAstudyofpointsymboldesignforcomputerbasedlargescaletouristmapsC.MorrisonandD.ForrestGISmappingofLangstoneHarbourforanintegratedecologicalandarchaeologicalstudyP.Collier,D.FontanaandA.PearsonFeasibilitystudiesformappingprojectsindevelopingcountriesH.WatersSHORTERARTICLESAnalgebraicbasisfordigitalgeneralizationofarea-patchesbasedonmorphologicaltechniquesB.SuandZ.LiClarityandsenseofplaceinmapsI.BurtTheInternationalCartographicAssociation-Progressduring1991-95M.WoodICANewsletterSocietyRecordBCSAwards1995HintstoAuthorsBookReviewsShorterNoticesSoftwareReviewRecentLiteratureRecentMapsandAtlasesNewsItemsCombinedIndex111117121126137143148154159165179183186187188190191192193195EditorDavidR.GreenCentreforRemoteSensingandMappingScience,DepartmentofGeography,UniversityofAberdeen,ElphinstoneRoad,AberdeenAB92UF,ScotlandTel.(01224)272324Fax.(01224)272331Email.d.r.green@aberdeen.ac.ukChairman,PublicationsCommitteeRichardOliverDepartmentofGeography,UniversityofExeter,ExeterEX44RJSales&DistributionT.A.AdamsLaser-ScanLtd.,CambridgeSciencePark,MiltonRoad,CambridgeCB44FYAdvertisementsTheBritishCartographicSociety,c/oRoyalGeographicalSociety,1,KensingtonGore,LondonSW72ARReviewEditorP.CollierGeographyDepartment,UniversityofPortsmouth,LionTerrace,PortsmouthPOI3HEBooks,etc.forreviewshouldbesenttotheReviewEditorattheaboveaddress.Hon.LibrarianMiss1.M.WilkesAlljournalssentinEXCHANGEfortheCartographicJournalshouldbedirectedto:BritishCartographicSocietyLibraryc/oMapLibrary,NationalLibraryofScotland,CausewaysideBuilding,33SalisburyPlace,Edinburgh9.Telephone:0131-2264531TheJournalisFREEtomembersandisavailabletonon-membersonsubscription.Twoissues£25.00Singlecopies£12.50ForinformationaboutavailabilityandpriceofbacknumbersapplytotheSales&DistributionManager.TheSocietydoesnotacceptresponsibilityforstatementsmadebycontributors.Copyright©December1995TheBritishCartographicSocietyAllrightsreservedISSN0008-7041PrintedinGreatBritainatBPCBlackpoolLtd.StanleyRoad,BlackpoolFYI4QN109Downloaded by [Universite Laval] at 02:07 06 May 2016 TheBritishCartographicSocietySocietyOfficersandMembersofCouncil1995-96PresidentR.AnsonHonTreasurerF.BlakewayVice-PresidentR.W.HillHonSecretaryJ.K.AthertonMembersofCouncilDr.T.A.Adams,M.Ashworth,DrC.Board,Dr.S.Cassettari,D.Fairbairn,D.Forrest,D.R.Green,G.R.P.Lawrence,R.Oliver,W.Salmon,W.Shirreffs,MrsJ.Snook,Mrs.A.Sutherland,Dr.A.Tatham,MissJ.Tinsley,MissC.Tunks,Dr.M.Visvalingham.TheSocietywasformedon28thSeptember1963,anditsgeneralaimistopromotethedevelopmentofCartography.MembershipisopentoindividualsandorganizationsinterestedinCartography,inoneofthefollowingcategories:FellowEntitledtoattendallmeetings,tobeelectedtoCouncil,toreceivetheJournal,tovoteattheAnnualGeneralMeeting,andtousethelettersFBCartS.MemberEntitledtoattendallmeetings,tobeelectedtoCouncil,toreceivetheJournal,andtovoteattheAnnualGeneralMeeting.AssociateMemberUndertheageof21oraregisteredstudent,entitledtoattendallmeetings,toreceivetheJournal,andtocastonevoteattheAnnualGeneralMeeting.CorporateMemberEntitledtosenduptofivedelegatestoanymeeting,toreceivetheJournal,andtocastonevoteattheAnnualGeneralMeeting.SubscriptionFellow:£35.00perannum;Member:£25.00perannum;AssociateMember:£10.00perannum;CorporateMember:£165.00perannum.ApplicationsformembershipshouldbemadetotheHon.Secretary,J.K.Atherton,c/oRoyalGeographicalSociety,1KengsingtonGore,London,SW72AR,England.SubscriptionsshouldbepaidtotheBCSAdministration,53RownhamsRoad,Maybush,Southampton,SO16DX,England.EditorialDecember1995seesthesecondissueofTheCartographicJournalsportingitsnewcoverdesign.IgatherthatthedesignhasgenerallybeengreetedwithacceptancebytheBCSMem-bershipbothintheUKandabroad.ThesamebasicideaisalsousedforthenewBCSpostersandtheinformationandmem-bershipleaflets.TogetherwiththenewformatandlookfortheNewsletter,Maplines,Ithinkalltherevisionsundertakenhavebeenveryworthwhileandvisuallytheendresultsareverysmart,professional,andaestheticallyappealing.Agoodjoballround.ThedelayinmailingtheJuneissueoftheJournalwasduetoanunfortunatecombinationoffactors:firstandforemost,how-ever,theEditorisresponsible,andtheneedtogeteverythingplannedforintotheJournalwasalittlemorecomplicatedthanhadbeenanticipated.MysincereapologiesforthedelayandIwillendeavourtotightenupthescheduleoverthenextfewissueswiththeaim,wherepossible,tokeepthingsontime.Unfortunately,despiteallgoodintentions,anoldlistoftheBCSSocietyOfficersandMembersofCouncilsomehowfounditswayintotheJournal.Westillaren'tquitesurehow,butanerratumslipwassubsequentlyissuedfortheremainingcopies.Recentexperiencestryingtopersuadepeopletoreviewbooks,papers,softwareetc..,usuallywithinalimitedperiodoftime,hasrevealedjusthowmanypeoplearenowfindingit110verydifficulttodothis.Ifullysympathize.However,inordertotryandovercomesomeofthedifficultiesIhaveencounteredsofarandtoputthewholereviewingprocessonafirmerfoun-dationforthefuture,Ihaveincludedasingle-sheetformwiththisissueofTheCartographicJournaltohelpmeacquireaddi-tionalnamesandmoreup-to-dateinformationaboutthepeoplewillingtoundertakePaper/Book/SoftwareReviews,theircon-tactaddress(es),andgeneralareasofinterest.Iwill,ofcoursealsocirculatetheformtootherpeopleoutsidetheBCS.Theendresultshouldallowmetobuildupanew,up-to-date,andhopefullymuchmorecomprehensiveanddetailed"reviewersdatabase'touseinthefuture.Ifyoufeelyoucanhelp,pleasefillintheform,andreturnittomeassoonaspossible.Incidently,manythankstoallthosepeoplewhorespondedtothereadershipformImailedwiththeBCSGISSIGNewslet-ter.Thereturnshavebeenmosthelpfulandagainhaveallowedmetobuildupamoreup-to-datemailinglist.SomeminornewadditionstoTheJournalforDecemberareaNewsItemssectionwithsub-headingstodrawattentiontoBooks(Cartography,Mapping,AerialPhotographyetc...),andSoftware(Cartography,GIS,RemoteSensing,ImagePro-cessingetc...)AsIwouldliketoseethesesortsofheadingscontinue,inboththeformofnewsclipsanyoffersfromtheBCSMembershiptotakeontheresponsibilityforcoordinatingNewsItemsforeachissuewouldbeveryhelpful.Pleasecon-tacttheEditorassoonaspossibleifyouareabletohelp.DAVIDR.GREENDECEMBER1995Downloaded by [Universite Laval] at 02:07 06 May 2016 Existingmethodsofmodellingandrenderingrelieffromdigi-tisedcontoursadopteitherregulargridortriangulatedirreg-ularnetworkapproaches.Bothcanhavedisadvantageswhichincludeimpreciseterrainmodelling,ineffectivevisualisation,and/orheavycomputingoverheads.Analternativeapproachhasbeendevelopedwhichcalcu-latesprofilesacrossthecontourmodel,typicallyatabout1mmseparationatthevisualisationscale,inthedirectionofanassumedilluminationsource.Intensityvaluesarecalculatedfortheprofileswathesbyconsideringprofilegradientandlocalslopecharacteristics.Theresultingshadedmodelgivesaneffectivevisualisation,andoffersanumberofbenefitsforadditionalprocessingbecauseofcomputationaleconomyandefficiency.Singlelightsourceimagesofshadedreliefareoftenincom-pleteintheirrenderingbecausetheyfavourrelieftrendlinesincertaindirectionsonly.Atechniquehasbeendevelopedtooverlaygeneratedshadedimagesfromarangeofilluminationdirectionsusingamultibandapproach,whichhasbeenfoundtoenhancevisualisation.TherenderingofreliefimagesfromdigitalcontourdataF.HobbsGeographicInformationResearchUnit,SchoolofSurveying,UniversityofEastLondon,LongbridgeRoad,Dagenham,EssexINTRODUCTIONDigitalelevationdataisacquiredinthreemainforms-asaproductoforderedsamplingoftheterraininwhichxandypositionsarepredetermined,givingtheregulargriddigitalele-vationmodel(OEM);asasetofrandomlyspacedpointswhichrepresentcriticalbreaksintheterrainandinwhichx,yandzmustbemeasured;orasasemi-orderedsamplinginwhichx,yandzmustbemeasured;orasasemi-orderedsamplinginwhichoneofthecoordinatesispredetermined-thezinthecaseofcontourlines.Beforeanysurfacevisualisationandren-deringcanbeachieveditisnecessarytoreconstructthesurfacefromthedatasetwhichdescribesit-toquadrilateralfacetsfromthegrid,ortriangularfacetsusingtriangulatedirregularnetwork(TIN)algorithms,fromtherandompoints.Thegener-ationofrenderedimagesfromsemi-ordereddigitalcontourdatahaspresenteddifficulties.Theseariseessentiallyfromthenon-uniformstrong,whilebetweenthemitisnon-existent.Theproblemiscompoundedbytheusuallysharpcontrastpointsamplingdensityalonglineswithdensityacrossthem.However,asGittingsrevealinhisfrequentlyupdatedCata-logueofDigitalElevationData(Gittings,1994),thecontourformofelevationdatacontinuestobeverywidelyavailable,andistheonlysourceforsomepartsoftheworld.Theconver-sionofitsgraphicalcounterpartonexistingpapermapstodig-italformisamajoractivityofmappingorganisationsworldwide.Photogrammetricallyplottedcontours-themostwidespreadprimarysource-alsohaveintrinsicadvantagesinefficientlysamplingtheterrain.Clarkeetal.wrotein1982,"Contoursam-plingmaybedescribedashomogeneousasallpartsofthestereomodelareconsidered,andasprogressive,sincetheden-sityofthedataisincreasedinareasofroughterrain."Unfortu-natelycontoursalonedonotprovideagenerallyeffectivevisualisationtool,particularlyforlesspronouncedreliefandfortheuntrained.PapersbybothPhillips(1979)andCastnerandWheate(1979)reportedresultsoftestsdemonstratingthatsomeformofshadinggreatlyenhancedthevisualprocessingofthereliefimage.Henceanefficientmeansofautomaticallyren-deringasurfacemodelconstructedfromthisdatawouldclearlybeavaluabletoolfortopographicinterpretation.CURRENTMODELLINGSOLUTIONSExistingshadingmethodswhichstartwithcontourdatathenconverttooneoftheotherelevationmodels.Theyeitherinter-polatearegulargrid,typicallybysomeformofbi-linearinter-polation(Clarke,GriinandLoon,1982;OswaldandRaetzsch,1984;andHutchinson,1988),orbuildatriangulatedirregularnetwork(TIN)bytreatingtheverticlesofthecontourstringsasascatterofdiscreterandompoints(Christensen,1987).Theweaknessoftheinterpolationmethodarisesfromtheregularityofthepointsandtheirresultantfailuretorespondtothecomplexityoftheterrain,andtohonouritscriticalpointsandbreaklines(WeibelandHeller,1991).TominimisethisweaknessandtocreateasuccessfulvisualisationinwhichtheTheCartographicJournalVol32December1995111Downloaded by [Universite Laval] at 02:07 06 May 2016 1+PsP+qsq=------------[1+p2+q2]112[1+p;+q;]112withthecoordinatesystemorientedtowardsthelightsource-y-axisparalleltotheprofiles-thePscomponentbecomeszero,andthus:cos()=I_+_q_sq_[1+p2+q2]112[1+q;]l/2Toevaluatethisexpression:•Thetermqsisquantifiedwhentheangleofthelight'salti-tude,H,ischosen,from:qs=tan(H-7T/2)•Termqisthegradientalongtheprofilesegmentbetweensuccessivecontourintersections.makethemsmallenoughthattheyappeartoclosesmoothlywhenplottedbylinesofathicknessequaltotheprofilesepara-tionatthechosenrepresentationalscale,inthemannerofScanlines.Theorientationoftheprofileissuchthattheyhavethesameazimuthasahypotheticaldistantlightsource.Thisorientationgivestheadvantageofallowingthegradientcomponentstobereducedtoasinglevariable,thussimplifyingandspeedingvisualisationandrelatedcalculations(Figure1).Ifaperfectlydiffusereflectingsurfaceisassumed-thatis,allincidentlightisreflectedinalldirections(theso-calledLambertiansurface)-thentheradianceRfromasurfaceele-mentisdirectlyproportionaltotheorientationoftheelementwithrespecttothelightsourcedirection(Figure2).PROFILES*"ILLUMINATION\\SOURCEAZIMUTH\\\.•."Theradiancemaybeexpressedas:R=I.cosewhereIistheincidentirradianceandeistheanglebetweenthelightsourcedirectionandthesurfacenormal.ThesurfacenormalvectorNmaybeexpressedintermsofpandq,thegradientsinthexandydirectionsrespectively,intheform:N=(-p-q1)SimilarlyifthelightsourcevectorLisconsideredtobeper-pendiculartoanominalsurfacewithgradientsPsandqsthen:L=(-Ps-q;1)AsshowedbyHom(1981),thisallowstheangleetobeexpressedintermsofthedotproductofthetwovectors,hence:cosB=N.LFigure1.ConfigurationofProfiles.ANALTERNATIVESURFACERECONSTRUCTIONMODELThealgorithmoutlinedherehasbeendevelopedasanalterna-tivetoexistingmethods,withtheaimofimprovingtherepre-sentationallimitationsidentifiedabove,andwiththefurtherexpectationofachievinggreatercomputerefficiency.Themethodisbasedonthecalculationofprofilesacrossthecontourmodel,sothatprofilesegmentsoffinitebutsmallwidthandvariablelengthbecometheelementsofelevationmodelreconstructioninsteadofgridpatchesortriangles.Clearlyforoptimumreconstructionthedistanceseparatingtheprofilesshouldbeverysmall-thepracticalapproachhereistopixelfacetsmergetogivetheimpressionofasmoothlyshadedcontinuumtheymustbesmall-andcorrespondinglyvolumi-nous.Thisentailshighcomputingoverheadsforboththegen-erationofthegridandthecalculationoftheshadingparameters.Themoreaccuratetheinterpolationmethodadopted,themorecomputerdemandingtheprocessbecomes.Rea(1994)reportsconstructingadigitalelevationmodelof1900by3000cellsfromcontoursandstreamsonamodemhighpoweredUNIXworkstation,admittedlytomeetstringentconditionsofhydrologicalsoundness,whichtook27hours.Thecalculationofatriangulatedirregularnetworkfromthecontourstringspresentsanumberofdifficulties.Thecom-monlycloseproximityofpointsalonglinesincontrasttothedistancebetweenlinesmakessomefilteringofthepointdatanecessarytogenerateatriangulationwhichisnotoverloadedwithamassoffill-conditionedmicrofacets.Yetexcessivefil-teringmaytakeawaythecharacterofthetopographyitselfwherethemostequilateraltriangles,generatedfromthewidelyemployedDelaunaymethod,donotalwaysgivethemostaccu-ratedescriptionoftheterrain(Heller,1990).Flattrianglesboundedbyverticlesonthesamecontourlinemayappearinconvolutedcontourpatterns,orasflathill-topsandbasins.Computingtimeforthisapproachmayalsobeconsiderableforlargedatasets(Tsai,1993).Theresultingfacets,whethergrid-basedortriangular,areeachthenqueriedforslopeandaspectandareallocatedavalueonagreyscalewhichisderivedfromasimulatedilluminationmodelandareflectancemodel.Theformerverycommonlyreliesonasingle,distantlightsourceandthelatteronaper-fectlydiffusingreflectingsurface.Renderingofthetriangularnetworkinparticularisoftendisappointing,becausetheshad-ingofthefacetsfailstodisguisethetriangularstructure,leav-ingpolyhedralartefactsaccentuatedbythe'Machbanding'effect.1ThesolutionadoptedinsomewidelyusedcontemporaryGeographicInformationSystempackagessuchasARC/INFOandLaserScanisahybridofthetwoapproaches.Thefirstobjectiveisthecalculationofatriangulatedirregularnetwork,buttoimprovethenetworkthisstageiscommonlyprecededbyathinningofpointsalongcontourlines,togetherwiththeinter-activeidentificationofcharacteristicfeaturelinessuchasridgesandgulliestoensuretopographicconsistency.Asecondstagefollowsfortheshading.Aregulargridofelevations-alattice-isinterpolatedfromthetriangularsurfaceatauser-specifiedinterval,thusdecomposingandconcealingthetriangles.However,someresultsfromthisapproachhavebeenfoundtoproduceasofteningandgeneralisationofthetopog-raphymodelledbythecontours,evenwhenthelatticespacingissettoarelativelysmall1mmatthepresentationscale.Alsothelackoffullautomationdoesslowtheprocess.IMachBanding:thephenomenoninwhichdensitychangeacrossshadedpatchboundariesisapparentlyexaggerated.112Downloaded by [Universite Laval] at 02:07 06 May 2016 •Termpisafunctionoftheangleofintersectionofthecon-tourwiththenewy-axis.Ifchangeinelevationacrossasur-faceelementisgivenbydz=p.dx+q.dy,andalongthecontourtheelevationisconstant,thatis,dz=0,then:OUTPUTFILEOFPROFILESEGMENTSWlTHQGRADIENTSFILEOFREFORMATTEDO.S.(NTF)DATAINPUTAZIMUTHANDALTITUDEOFLIGHTINPUTPROFILESEPARATIONCALCULATEGRADIENTSANDMODIFYTOINCLUDECROSS·PROFILESLOPECOMPONENT.CALLED"QGRADIENTS"REALISAnONOFTHEALGORITHMThedatasetusedforexperimentationwasa20kmsquaretileofpartofNorthWalesprovidedbytheOrdnanceSurvey(OS)asconvertedfromtheir1:50,000topographicmapping.Itcom-prisesvectordatainintegerformat-to1metreprecision-comprisingatotaldatavolumeof4.1Mb,andlisting170,000pointsdefining3360linestrings.ThedatasetisinNTFformatanditscontentincludes:contoursat10mverticalintervalcoastlineswithheightof0mattachedlakeshorelinesgivenheight1mbelowsurroundinglandspotheights(rareonthistile)givento1mprecisionbreaklineswithnoheightattachedformlines(rareonthistile)withheightsattached.Thisparticulartileofferedarangeofrelieftypesfrommoun-tainousthroughbroadvalleytocoastalplain,withlakesandstretchesofsea.Itsvarietyandvolumewereexpectedtoplacearangeofdemandsonthevisualisationprocess.ProgrammemoduleswritteninTurboPascaltorunonanIBMPCwithfloatingpointco-processorhavebeendevelopedtoimplementthealgorithm.ThefirstreformatstheOSNTFdataintoasimplifiedASCIIfile.Thesecond(Figure4)acceptstheASCIIfileandcallsforlightsourceazimuthandaltitude,andspacingbetweenprofiles.Itsoutputisafileofcoordinatedprofilesegmentswithsmoothed"qgradients"attached.Ifapro-fileseparationof60metresonthegroundisselected,forexample(indicatingalinethicknessof1.2mmat1:50,000plottingscale),itcurrentlytakesabout20minutestorunona486processor,andthedatafileisintheorderof22Mb.TheprofilesdatasethasbeenimportedintoARC/INFO,whichrunsonanHP9000Series700UNIXworkstation,toutilisetheimprovedgraphicdisplaycapabilities,andtoconverttorastersothatthemanipulationandoverlaycapabilitiesofTheproblemthenarisesofhowtoincorporatethepcompo-nentsofthesurfacegradientwiththesesub-segments.Thetechniqueadoptedistorecalculateanew"gradient"forthesegmentfromtheevaluatedradianceRasifthegradientsinthexandydirectionswerebothcontainedintheqcomponent.Eachprofilesegmentgradientisexaggeratedaccordinglyanditisthesemodifiedsegmentswhichareusedforthefittingoftheinterpolatedsurface(Figure3).Thisofferstheadvantageofalsosimplifyingtheapplicationofanyverticalexaggerationfactorinthereliefvisualisation.NORMAL~/~~~~~-r;,("'-IItPROFILEMODIFICATIONSVIEWERR,I..,·······,····s···I·'··········..,.",I.....11.::..,,.,...."."."'001"".,INACCURAOESOFASIMPLEPROFILESWATHEFLATFACESBETWEENCONTOURINTERSECTIONSp=-q.dy/dxwheredy/dxistheslantofthecontourlineacrosstheprofile.Inpracticearepresentativevalueforpcanbefoundbytakingthemeanoftheintersectionanglesateachendoftheprofileseg-ment.HencetheradianceRreflectedfromtheslopesegmentbetweentwocontourorothertopographiclinescanbecalcu-lated.Thesesegmentshaveadvantagesoveraninterpolatedregulargridsincetheircentre-linesfitpreciselybetweenthetopographiclinesandareaslongorshortasthereliefvariationdictates(Figure1)-gridcelledgeshavenotieswithtopog-raphy.Dataeconomyfollowstheprincipleof'run-lengthen-coding'.Itisimportantthatthetermpisnotignoredbyconsideringthegradientfromcontourintersectionsalone.Thiswouldassumethatthesurfacenormalsoftheprofileswathealllieinthesameplane(Figure3),leadingtogenerallyinsufficientden-sityofshading.Itisalsoasignificantdeparturefromrealitytoassumethateachsegmentisflat.Amethodtoimproveaccu-racyadoptedhereistointerpolateintermediatesurfacenormalsatagivenseparation-convenientlytakenasequaltothepro-filespacing-basedonthePhongmethodof"Normal-vectorinterpolationshading"(Phong,1975).Interpolationisofcoursehaltedatrecognisedbreakssuchasshorelines.Figure2.IlluminationofaSurfaceElement.Figure3.Figure4.FlowChartof'Profiles'Programme.113Downloaded by [Universite Laval] at 02:07 06 May 2016 ARC/INFOcanbeused.A'coverage'oflinesegmentswith'qgradient'attributesisbultinARC/INFOrepresentingtheprofiles,andintensityvaluesarecalculatedforeachsegmentbasedonLambertianreflectance.Thesecanthenbeplottedanddisplayed(Plate1)aslinesofappropriatethicknessandgreylevelreadfromalook-uptableofperhaps200greysteps.PlateI-Itshouldbenotedthatthecolour"ramp"ofagivennumberofstepsbetweentwospecifiedcolours-blackandwhiteforinstance-whichsuchsoftwarepackagesfacilitate,iscom-monlyalineardifferenceofintensityandnottheconstantratioofintensitywhichhumanperceptionseesasaregularprogres-sion;andsotherelationshipbetweenreflectanceandgreystephasherebeenmodifiedtobelogarithmicratherthanlinear.Infacta"non-linear"optionisnowavailableonthelatestver-sionsofARC/INFO.Conversiontorasterisreadilyachievedbysavingthescreenplotasanimage,thusallowingtheshadedrelieftoactasaPlate2114backdropforoverlaidvectordata,ortobecombinedwithele-vationtints(Plate2).Robertson(1988)stated"Visualisationtechniquesattempttoprovokeintuitiveappreciationofthesalientcharacteristicsofadataset",andImhof(1982)wasemphaticthat"theplayoflightandshadow"manifeststhree-dimensionalitymosteffectively.Thisvisualisationmethodhasattemptedtoaccuratelysimulatethechiaroscurotechnique,and,incommonwithothershadingsystems,itpromotestheperceptionofasolidmodelwhenalightsourceinthenorthwestquadrantandatsuitableelevationisselected.AswithallLambertianreflectancemodelsthesur-faceappearsdull,andtheincorporationofspecularreflectance,hereeasilyachieved,iscurrentlybeingundertaken.Theprofilesapproachhasmadepossiblealevelofdetailforagiven"resolution"whichisgreaterthantheTIN/latticeapproach.Iftheresolutionoftheprofilesistakentobetheirspacing-perhaps1mmatdisplayscale-then,whencom-paredtothesamespacingforalattice,theinformationcontentisgreater.Sharpbreakssuchaslakeshorelinesaremaintainedandthelocalmorphologyisapparentlymorefinelyrepre-sented.Anotherimportantcontributiontosuccessfulrenderingisthesubduingoftheconstructionframeworkofthemodel,whichisaweaknessoftheTINapproach.If,againforthismethod,theprofileseparartioniskeptintheorderofImmatdisplayscalethentheprofileartefactsarebarelyvisibleonscreenandthesurfaceappearscontinuousacrossprofilesaswellasalongthem.Forhardcopyoutputtoarasterplotterasmallerspacing(about0.5mm)wouldbepreferredtoconcealtheprofilealignment.THEINCORPORAnONOFMULTIPLEUGHTSOURCESAnareaofdevelopmenthasarisenfromexperimentationwithvariousilluminationsourcepositions.Ithasbecomeevidentthatsubstantiallydifferentinterpretationsofthetopographycanresultfromdifferentlightsourceazimuths.Evenwhengener-allyremainingwithintheacceptednorth-westquadrant,thedivergencebetweentheimagefrom350°lightingandthatfrom280°(Plate3)issufficienttomakestrongmountainfeaturesintheonebecomealmostunnoticeableintheother.Plate3Traditionalmanualreliefshadingappliesalocaladjustmenttothelightsourcedirectiononfeatureswhichwouldotherwiseappearflatbecauseoftheirtrendperpendiculartothelight.DepiteattemptsbyBrassel(1974)andothers,thishasnotbeensuccefullyautomated.However,thesimulationofacombi-nationoflightsourcesindifferentpositionsholdsthepromiseofanimprovementinmodelling.RobertMark,forexample,asumedfourlightsatazimuthsof225°,270°,315°,and360°,forhihadedreliefimageoftheIslandofHawaii,andcalcu-Downloaded by [Universite Laval] at 02:07 06 May 2016 Plate4GREEN""III""•ACKOWLEDGEMETSProvisionofthedatasetbyOrdnanceSurveyisgratefullyreceived.StimulatingdiscussionandprogrammingadvicefromRickBaldwinweremuchappreciatedandaregratefullyacknowledged.Thereponibilityforanyerrorormisrepre-sentationsaremyown.Alltheseprocesesarefacilitatedbythebi-dimensionalqualityofthedatamodel.Figure6.SimplifiedColouringofaPyramidwithRed,GreenandBlueIllumination.BLUECONCLUDIGOBSERVAnONSItisrecognisedthattheprofile-basedelevationandvisualisa-tionmodelhaslimitations,amongotherthingsforthesolutionofsomesurfaceanalysisproblems.Intervisibilitycalculationsaremoreeasilyperformedonthegridmodel,forexample,andgeneralslopeandaspectcalculationsontheTI,However,forthisapplicationitisreasonablycomputerefficient,withpoten-tiallygreatersavingsintimeandmemorydemandifopti-mised,andithasbeenfoundtobeveryeffectiveaavisualisationtool.Thisispartlybecauseoftheimagequalityandretentionoftopographicdetail,butalsobecauseitlendsitselfverywelltoanumberoffurtherprocesses,amongwhicharethefollowing:•Theinclusionofadditionallineardatasuchasstreamorridgelinescanbedirectlyaccommodatedifavailable;•OtherreflectancemodelmorecloselymatchingrealitythantheLambertianarereadilyincorporated,uchastheinclu-sionofaspecularreflectancecomponent;•Theinclusionofcastshadowsinarepresentationcanbeeasilyachievedincethecalculationofurfaceconcealedfromthelightsourceconsidertwodimeniononly,theyandz;•Generalisationoftheshadedimage-whichotherwisepre-sentsparticulardifficulties-canbereadilycarriedoutbyapplyingtotheprofilesastandardlinesimplificationalgo-rithmsuchastheDouglas-Peuckerbeforecalculatinggradi-ents.REDBLUEGREENREDingleBandImagesfromThreeLight-SourceAzimuths.*-Figure5.Theselectionofazimuthsismadetostraddlethenorth-westsectorwhilenotaligningexactlywiththemapedges,andtheallocationoftherespectivebandtotheseazimuthsisguidedbyintuitiveconsiderationofawalmerweterlyredlightandacoldernortherlybluelight,whichappearstogivethemosteffectivecombination.ThesimplifieddistributionofthesecombinedcoloursisshowninFigure6.Wherethecolourcalevaluesofred,greenandblueareequalforapixelitofcoursedisplayasagreytone,andthiinfactappearsasthepredom-inantcolour.Whereradiancefromthethreelightourcedif-ferignificantly,huesemergeasshowntorevealmoreaboutlocalslope.latedaweighedvalueforthereflectanceofeachcellofaregu-largrid(Mark,1992).HeretheapproachhasbeentogeneratethreeimageswithinARC/INFOfromselectedlightazimuths(andtheirrespectiveprofilemodels)of280°,315°and350°,forinstance,followingtheproceduredescribedabove.Eachofthesehasthenbeenconvertedtoasingleimageforred,greenandblue,respec-tively.Thisallowscombindingoftheimagesfordisplayasacompositemultibandimage(Figure5andPlate4).Hom(1982),wheninvestigatingthereverseproblemofderivinghapefromshading,statedthatiftwoshadedimagecreatedfromdifferentlightsourcepositionswereprintedincombination,eachwithadifferentcolouredink,thenthelocalgradientcouldnotonlybevisualiedbutquantifiedbothitscomponentarerepreented.Heretheprimaryobjectiveremainstheenvisioningofthedata,butthemultibandtech-niquedoeappeartoofferenhancedinfonnationcontentandimproedinterpretation.REFERECESBrael,K.,1974.Amodelforautomatichill-shading,TheAmericanCar-tographer,1(I),15-27.Chritenen,A.H.J.,1987.Fittingatriangulationtocontourlines,Pro-ceedings,Autocarto8,57-67.larh.e..L.,Oriin,A,andLoon,J.c.,1982.Theapplicationofcontourdatafrgneratinghighfidelitygriddigitalelevationmodels.Proceedings.Ali/oCarto5,1982,213-222.Catnt:r.H.W.,andWheate,R.,1979.Re-assessingtheroleplayedby'had~dreliefintopographicscalemap.TheCartographicJournal,\'01.16.(2):77-85.115Downloaded by [Universite Laval] at 02:07 06 May 2016 Gittings,B.,1994.DigitalElevationDataCatalogueoninternet.UniversityofEdinburgh.E-mail<bruce@geovax.edinburgh.ac.uk>Heller,M.,1990.Triangulationalgorithmsforadaptiveterrainmodelling,Proceedings,FourthInternationalSymposiumonSpatialDataHandling,Columbus,Ohio.163-174.Horn,B.K.P.,1982.Hillshadingandthereflectancemap,Proceedings,IEEE,69(1),14-47.Hutchinson,M.F.,1988.Calculationofhydrologicallysounddigitalele-vationmodels.Proceedings,ThirdInternationalSymposiumonSpatialDataHandling,Sydney,Australia,1988.Imhof,E.,1982,CartographicReliefPresentation,WalterdeGruyter,Berlin,389pages.Mark,R.K.,1992.Amultidirectional,oblique-weighed,shaded-reliefimageoftheIslandofHawaii.Open-FileReport"92-422.U.S.DepartmentoftheInterior,1992.Oswald,M.,andRaetzscg,H.,1984.Asystemforgenerationanddisplayofdigitalelevationmodels.Geo-Processing,2(1984),Elsevier,Amster-116dam.197-218.Phillips,R.J.,1979.Anexperimentwithcontourlines.TheCartographicJournal,Vol.16,No.(2):72-76.PhongBui-Tong,1975.Illuminationforcomputergeneratedpictures.CACM,18(6),311-317.Rea,A.,1994.LookingforcomparisonofDEMmodels.ContributiontotheInternet"GeographicInformationSystemsDiscussionList"1994<GIS-L@UBVM.CC.BUFFALO.EDU>Robertson,P.K.,1988.Choosingdatarepresentationsfortheeffectivevisualisationofspatialdata,Proceedings-ThirdInternationalSymposiumonSpatialDataHandling,Sydney,Australia.243-252.Tsai,V.,1993.DelaunaytriangulationsinTINcreation:anoverviewandlinear-timealgorithm.InternationalJournalofGeographicalInformationSystems,1993,Vol.7,(6)501-524.Weibel,R.andHeller,M.,1991.DigitalTerrainModelling,inMaguire,Goodchild,andRhind,GeographicalInformationSystems,Vol.1.Long-man.1991.Downloaded by [Universite Laval] at 02:07 06 May 2016 