GeoInformatica, 1, 275–316 (1997)
c(cid:176) 1997 Kluwer Academic Publishers. Manufactured in The Netherlands.

Qualitative Spatial Representation and Reasoning
with the Region Connection Calculus

Division of Artiﬁcial Intelligence, School of Computer Studies, University of Leeds, Leeds LS2 9JT, England.

Received May 31, 1996; Revised July 9, 1997; Accepted July 10, 1997

agc@scs.leeds.ac.uk

brandon@scs.leeds.ac.uk

jgooday@ds.equifax.co.uk

nmg@aber.ac.uk

ANTHONY G. COHN

BRANDON BENNETT

JOHN GOODAY

NICHOLAS MARK GOTTS

Abstract

This paper surveys the work of the qualitative spatial reasoning group at the University of Leeds. The group
has developed a number of logical calculi for representing and reasoning with qualitative spatial relations over
regions. We motivate the use of regions as the primary spatial entity and show how a rich language can be built up
from surprisingly few primitives. This language can distinguish between convex and a variety of concave shapes
and there is also an extension which handles regions with uncertain boundaries. We also present a variety of
reasoning techniques, both for static and dynamic situations. A number of possible application areas are brieﬂy
mentioned.

Keywords: qualitative spatial reasoning, spatial logics, topology, shape, vague boundaries

1.

Introduction

Qualitative Reasoning (QR) has now become a mature subﬁeld of AI as its tenth annual
international workshop, several books (e.g. [112, 44]) and a wealth of conference and jour-
nal publications testify. QR tries to make explicit our everyday commonsense knowledge
about the physical world and also the underlying abstractions used by scientists and engi-
neers when they create models. Given this kind of knowledge and appropriate reasoning
methods, a computer could make predictions and diagnoses and explain the behaviour of
physical systems in a qualitative manner, even when a precise quantitative description is
not available or is computationally intractable. Note that a representation is not normally
deemed to be qualitative by the QR community simply because it is symbolic and utilizes
discrete quantity spaces but because the distinctions made in these discretisations are of
particular relevance to high-level descriptions of the system or behaviour being modeled.
In other words the distinctions are of a conceptual nature.

Most QR systems have reasoned about scalar quantities, whether they denote the height of
a bouncing ball, the amount of ﬂuid in a tank, the temperature of some body, or perhaps some
more abstract quantity. Although there have been spatial aspects to the systems reasoned
about, these have rarely been treated with any sophistication. In particular, the multidimen-
sional nature of space has been ill addressed until recently, despite some important early
forays such as [73, 48].

276

COHN, BENNETT, GOODAY AND GOTTS

The neglect of this topic within AI may be due to the poverty conjecture promulgated
by Forbus, Nielsen and Faltings [112, page 562]: “there is no purely qualitative, general
purpose kinematics”. Of course, qualitative kinematics is only a part of qualitative spatial
reasoning (QSR), but it is worth noticing their third (and strongest) reason for putting forward
the conjecture — “No total order: Quantity spaces don’t work in more than one dimension,
leaving little hope for concluding much about combining weak information about spatial
properties.” They point out that transitivity is a vital feature of a qualitative quantity space
but doubt that this can be exploited much in higher dimensions and conclude: “we suspect
the space of representations in higher dimensions is sparse; that for spatial reasoning almost
nothing weaker than numbers will do.” However, there is now a growing body of research
in the QR and, more generally, in the Knowledge Representation community and elsewhere
that, at least partly, refutes this conjecture. A rich space of qualitative spatial representations
is now being explored, and these can indeed exploit transitivity.

There are many possible applications of QSR; we have already mentioned reasoning about
physical systems, the traditional domain of QR systems. Other workers are motivated by the
necessity of giving a semantics to natural language spatial expressions, e.g., [110], which
tend to be predominantly qualitative rather than quantitative (consider prepositions such
as ‘in’, ‘on’ and ‘through’).1 Another large and growing application area is Geographical
Information Systems (GIS): there is a need for qualitative spatial query languages for
example [18] and for navigation [99]. Other applications include specifying the syntax and
semantics of Visual Programming languages [58, 57, 70].

This paper is devoted largely to presenting one particular formalism for QSR, the RCC2
calculus which has been developed at the University of Leeds over the last few years in a
series of papers3 including [96, 32, 31, 33, 6, 61, 25, 67, 21], and indeed is still the subject
of ongoing research. This current paper is substantially based on material published in
[27] but has been modiﬁed so as to be of more relevance to the geo-sciences. Some of the
technical detail given in the earlier paper has also been removed.

The rest of this paper is organised as follows. First we motivate the development of
spatial representations in which regions are the principal entities, and review previous work
in this area. Then we present the basic topological part of our Region Connection Calculus
(RCC) in some detail (although space precludes a full exposition). Following this we
extend the calculus with an additional ‘convex hull’ primitive to allow a much ﬁner-grained
representation than a purely topological representation allows. Then we turn to presenting
some basic reasoning techniques. Up to this point the representation is in a ﬁrst-order
logic but we explain how a large part of our spatial language can be re-expressed in a
zero-order logic to a computational beneﬁt. We also consider a form of temporal reasoning
concerning transitions between qualitative spatial relationships. We then describe possible
applications of RCC to: characterising geographical features, formulating and interpreting
queries within a GIS, simulation of spatial processes and specifying the semantics of a visual
programming language. This is followed by a consideration of the relationship between
qualitative and quantitative data and the presentation of an extension of RCC to handle
regions with uncertain boundaries. We conclude by mentioning some current and future
research and summarizing our work.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

277

2. Region-Based Approaches to Spatial Representation

Although the acronym ‘RCC’ was originally derived from the last name initials of the
authors of [96], the term ‘Region Connection Calculus’ is a very apt description of our
spatial formalism:4 the fundamental approach of RCC is that extended spatial entities,
i.e.regions of space, are taken as primary rather than the dimensionless points of traditional
geometry; and the primitive relation between regions — giving the language the ability to
represent the structure of spatial entities — is that of connection.

There are a number of reasons for eschewing a point-based approach to qualitative spatial
representation and indeed simply using the standard tools of mathematical topology. Firstly,
regions give a natural way to represent a kind of indeﬁniteness that is germane to qualitative
representations. Moreover the space occupied by any real physical body will always be
a region rather a point. Even in natural language, the word “point” is not usually used to
mean a mathematical point: a pencil with a sharp point still draws a line of ﬁnite thickness!
It also turns out that it is possible to reconstruct a notion of mathematical point from a
primitive notion of region.

The standard mathematical approaches to topology, general (point-set) topology and
algebraic topology, take points as the fundamental, primitive entities and construct extended
spatial entities as sets of points with additional structure imposed on them. However,
these approaches generalize the concept of a ‘space’ far beyond its intuitive meaning;
this is particularly true for point-set topology but even algebraic topology, which deals
with spaces constructed from ‘cells’ equivalent to the n-dimensional analogues of a (2-
dimensional) disc, concerns itself chieﬂy with rather abstract reasoning concerning the
association of algebraic structures such as groups and rings with such spaces, rather than
the kinds of topological reasoning required in everyday life, or those which might illuminate
the metaphorical use of topological concepts such as ‘connection’ and ‘boundary’. The case
against using these standard point based mathematical techniques for QSR is made in rather
more detail in [67], where it is argued that the distinction between intuitive and counter-
intuitive concepts is not easily captured and that the reasonable desire (for computational
reasons) to avoid higher order logics does not mesh well with quantifying over sets of points.
Of course, it might be possible to adapt the conventional mathematical formalisms for our
purposes, and indeed this strategy is sometimes adopted (see, for example [39, 41, 114]).
However, because we take the view that much if not all reasoning about the spaces occupied
by physical objects would not, a priori, seem to require points to appear in one’s ontology,
we do not follow this route but rather prefer to take regions as primitive and abandon the
traditional mathematical approaches.

In fact there is a minority tradition in the philosophical and logical literature that rejects
the treatment of space as consisting of an uncountably inﬁnite set of points and prefers to
take spatially extended entities as primitive. Works by logicians and philosophers who have
investigated such alternative approaches (‘mereology’5 or ‘calculus of individuals’) include
[113, 83, 82, 105, 35] and more recently [13, 14] — Clarke developed the the immediate
‘ancestor’ of RCC — [100, 12, 102]. Simons’ book contains a review of much of the earlier
work in this area.

Because RCC is closely based on Clarke’s system, it is worth brieﬂy presenting the
main features of this system. Clarke [13, 14] presents an extended account of a logical

278

COHN, BENNETT, GOODAY AND GOTTS

A < B
B > A

A m B
B mi A

A o B
B oi A

A si B
B s A

A di B
B d A

A fi B
B f A

A = B

A

A

A

A

B

A

A

A

B

B

B

B

B

B

‘A before B’
‘B after A’

‘A meets B’
‘B met-by A’

‘A overlaps B’
‘B overlapped-by A’

‘A started-by B’
‘B starts A’

‘A contains B’
‘B during A’

‘A ended-by B’
‘B ends A’

‘A equals B’

Figure 1. Allen’s thirteen interval-interval relations.

axiomatization for a region-based spatial (in fact Clarke’s intended interpretation was spatio-
temporal) calculus; he gives many theorems as well to illustrate the important features of
the theory. The basis of the system is one primitive dyadic relation C(x; y) read as “x
connects with y.”

If one thinks of regions as consisting of sets of points (although we have indicated above
that this is not our preferred interpretation), then in terms of points incident in regions,
C(x; y) holds when at least one point is incident in both x and y. There are various axioms
which characterize the intended meaning of C (for example, two such axioms state that C
is reﬂexive and that it is symmetric). In Clarke’s system it is possible to distinguish regions
having the properties of being (topologically) closed or open. A closed region is one that
contains all its boundary points (more correctly all its limit points), whereas an object is
open if it has no boundary points at all. Many topological relations (for example, regions
touching or being a tangential or non tangential part) are deﬁned in Clarke’s system and
many properties are proved of these relations. Clarke deﬁnes many other useful concepts
including quasi-Boolean functions, topological functions (interior and closure), and in his
second paper provides a construction for points in terms of regions following earlier work
by [113]. This, however, is faulty; a correction is provided by [11].

2.1.

Interval Temporal Logics

In placing our work in context, it is important to mention the work done on interval temporal
logics for two reasons; ﬁrst, because the region-based approach to spatial reasoning closely
mirrors the interval-based approach to temporal reasoning — they both take extended

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

279

entities, rather than points, as primitive; secondly, it is, of course, possible to use this work
directly by reinterpreting an interval calculus as a one-dimensional spatial calculus (though,
as we shall see, there are problems with this technique).

Allen’s interval calculus [2] is well known within AI; however, the credit for inventing
such calculi is not due to him; [107] describes an interval calculus, while [91, chapter 2]
is probably the earliest such system. Allen’s logic deﬁnes thirteen Jointly Exhaustive and
Pairwise Disjoint (JEPD) relations for convex (one-piece)6 temporal intervals (see Fig.1).
The fact that the relations are JEPD means that for any two intervals exactly one of the
relations holds, so they provide an exhaustive qualitative classiﬁcation of possible interval
relations. Various authors including [87] have used Allen’s system for spatial reasoning,
using a copy of the calculus for each dimension and associating a multi-dimensional object
with its projection onto each axis. However, although attractive in many ways, this has the
fundamental limitation that it only works correctly for rectangular objects aligned to ﬁxed
axes. Consider the conﬁguration in Fig.2: the two rectangles are not so aligned, and although
the smaller one is part of the larger one when projected to each axis individually, this is
not so in two dimensions; but this cannot be detected by comparing the one-dimensional
projections.

3. An Introduction to the Region Connection Calculus (RCC)

The original motivation for this work was an essay in Na¨ıve Physics [74, 73], We were inter-
ested in developing a theory for representing and ultimately reasoning about spatial entities;
the theory should be expressed in a language with a clean well-understood semantics. Our
desire was principally to create an epistemologically adequate formal theory (rather than
necessarily a cognitively valid na¨ıve theory).

We should make precise exactly what counts as a region. In our intended interpretation
the regions may be of arbitrary dimension, but they must all be the same dimension and
must not be of mixed dimension (for example, a region with a lower dimensional spike
missing or sticking out is not intended). Such regions are termed regular. Normally, of
course our intended interpretation will be 3D, though in many of the ﬁgures in this paper,
for ease of drawing, we will assume a 2D world (as is also usual in GIS applications). We

y

b

a

x

Figure 2. Illustration of the inadequacy of describing two-dimensional relationships in terms of Allen’s interval
relations in each dimension.

280

COHN, BENNETT, GOODAY AND GOTTS

will deal with the question of whether regions may be open, closed or both below. We also
intend regions to really be spatially extended, i.e. we rule out the possibility of a region
being null. Other than these restrictions, we will allow any kind of regions, in particular
they may be multi-piece regions, have interior holes and tunnels.

Our initial system was reported in [97], which followed Clarke’s system closely. However,
in [96] we presented a revised theory that deviates from Clarke’s theory in one important
respect, which has far-reaching implications. The change is to the interpretation of C(x; y):
Clarke’s interpretation was that the two regions x and y share at least one point whereas
our new interpretation is that the topological closures of the two regions share at least one
point. Because we consider two regions to be identical if they are connected to exactly the
same set of regions, so we could regard regions as equivalence classes of point-sets whose
closures are identical. We also, require regions to be of uniform dimension and in terms
of point-set topology this means that all the sets in these equivalence classes should have
regular closures. From within the RCC theory it is not possible to distinguish between
regions that are open, closed or neither but have the same closure, and we argue that these
distinctions are not necessary for qualitative spatial reasoning. Such regions occupy the
same amount of space and, moreover,there seems to be no reason to believe that some
physical objects occupy closed regions and others open, so why introduce these distinctions
as properties of regions? But Clarke’s system has the odd result that if a body maps to
a closed region of space then its complement is open and the two are disconnected and
not touching! Another peculiarity is that, if a body is broken into two parts, we must
decide how to split the regions so formed: one will have to have be open (at least along
the boundary where the split occurred) whilst the other must be closed and there seems to
be no principled reason for this asymmetry.7 Thus we argue that, from the standpoint of
our na¨ıve understanding of the world, the topological structure of Clarke’s system is too
rich for our purposes, and in any case appearing in this formal theory, it poses some deep
conceptual problems. Furthermore, is it necessary to understand sophisticated topological
notions such as interior and closure to create a theory of ‘commonsense’ qualitative space?

It should be noted that the absence of the open/closed distinction from our theory does
not make it incompatible with interpretations in terms of standard topology. A particularly
straightforward model is that the regions of our theory are the (non-null) elements of the
regular open Boolean algebra over the usual topology on <n. In such an algebra the Boolean
product operation is simply set intersection, while Boolean complement corresponds to the
interior of the set complement (hence, by DeMorgan, the (regular open) Boolean sum of
two (open) sets is the interior of the sum of their closures). Thus all regions are identiﬁed
with regular open sets.8 We may then say that two regions are connected if the closures of
the (regular open) sets identiﬁed with the regions share a point. So, although openness and
closure ﬁgure in the model theoretic interpretation of the theory, they are not properties of
regions and indeed have no meaning within the theory itself.

Hard-line critics of point-based theories of space might still argue that giving a point-set-
theoretic semantics for our theory of regions is unsatisfactory. However, classical topology
can be formulated in a purely algebraic framework,where the point-set interpretation is not
essential [86]. An alternative interpretation of C might be given informally by saying the
distance between the two regions is zero. To do this formally would obviously require

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

281

some (weak) notion of metric space deﬁnable on regions but we have not yet attempted to
formally specify a semantics of this kind.

Insofar as openness and closedness are not properties of our regions, our theory is simpler
than theories such as Clarke’s, and hence, we believe that it will also prove to be more suitable
for computational reasoning. Furthermore, we believe that the loss of expressive power
resulting from our simpliﬁcation does not restrict the utility of our theory as a language
for commonsense reasoning about spatial information.
It might be argued that without
the open/closed distinction, certain important types of relation between regions cannot be
differentiated. For example, [4] have distinguished ‘strong’ and ‘weak’ contact between
regions. In the former case the regions share a point, whereas in the latter they are disjoint
but the closure of the ‘topological neighbourhood’ of one region is connected to the other.
Two bodies may then said to be ‘joined’ if the regions they occupy are in strong contact
but merely ‘touching’ if their regions are in weak contact. Whilst we acknowledge that
the distinction between bodies being joined and merely touching is important, we believe
that these relations are not essentially spatial and therefore should not be embodied in a
theory of spatial regions. They should rather be modeled within a more general theory of
relationships among material substances, objects and the regions they occupy.

To formalize our theory we use a sorted ﬁrst-order logic based on the logic LLAMA [19],
but the details of the logic need not concern us here. The principal sorts we will use are
Region, NULL, and PhysOb. Notice that with this sort structure we distinguish the space
occupied by a physical object from the physical object itself, partly because it may vary
over time which we represent via a function space(x; t).9 The sort NULL is true of regions
that are not spatially extended and is used to model the intersections of disjoint regions or
the spatial extent of physical objects that do not exist at a particular time for example.

In fact, the axiomatic theory we have developed so far deals only with relationships
between entities of sorts Region and NULL. Axiomatization of relations involving physical
objects would be part of the more general theory of material substances in space, which
was mentioned above. So, at present, the sort PhysOb and the space(x; t) merely serve
to indicate how our theory would be incorporated into this much broader theory.

3.1. Axioms For C

Since our interpretation of C has changed, we need to re-axiomatize it and redeﬁne many
of the relations Clarke deﬁned which we still want to use. The two main axioms expressing
the reﬂexivity and symmetry of C in fact remain unchanged:

8x[C(x; x)]

8x8y[C(x; y) ! C(y; x)]

(1)

(2)

Using C(x; y), a basic set of dyadic relations are deﬁned [96, section 4]. Deﬁnitions and
intended meanings of those used here are given in table 1. Unless otherwise speciﬁed, the
all arguments to the functions and predicates we deﬁne are of sort Region. The relations P,
PP, TPP and NTPP being non-symmetrical support inverses. For the inverses we use the
notation 'i, where ' 2 fP, PP, TPP, NTPPg, for example, TPPi. Note that the deﬁnition
of overlap (equation (7)) ensures that connection and overlap are different: if two regions

282

COHN, BENNETT, GOODAY AND GOTTS

overlap then they share a common region, while this need not be the case for connecting
regions, which need only ‘touch’.

Table 1. Some relations deﬁnable in terms of C

Relation

interpretation

Deﬁnition of R(x; y)

(3) DC(x; y)
(4) P(x; y)
(5) PP(x; y)
(6) EQ(x; y)
(7) O(x; y)
(8) DR(x; y)
(9) PO(x; y)
(10) EC(x; y)
(11) TPP(x; y) x is a tangential proper part of y
(12) NTPP(x; y) x is a nontangential proper part of y PP(x; y) ^ :9z[EC(z; x) ^ EC(z; y)]

:C(x; y)
8z[C(z; x) ! C(z; y)]
P(x; y) ^ :P(y; x)
P(x; y) ^ P(y; x)
9z[P(z; x) ^ P(z; y)]
:O(x; y)
O(x; y) ^ :P(x; y) ^ :P(y; x)
C(x; y) ^ :O(x; y)
PP(x; y) ^ 9z[EC(z; x) ^ EC(z; y)]

x is disconnected from y
x is a part of y
x is a proper part of y
x is identical with y
x overlaps y
x is discrete from y
x partially overlaps y
x is externally connected to y

PO(x; y) ·def O(x; y) ^ :P(x; y) ^ :P(y; x)
Of the deﬁned relations, those in the set fDC, EC, PO, EQ, TPP, NTPP, TPPi and
NTPPig (illustrated in Fig.3) are provably JEPD (Jointly Exhaustive and Pairwise Disjoint).
We refer to this set of eight relations as RCC8. The complete set of relations described above
can be embedded in a relational lattice. This is given in Fig.4. The symbol > is interpreted
as tautology and the symbol ? as contradiction. The ordering of these relations is one of
subsumption with the weakest (most general) relations connected directly to top and the
strongest (most speciﬁc) to bottom. For example, TPP implies PP, and PP implies either
TPP or NTPP. A greatest lower bound of bottom indicates that the relations are mutually
disjoint. For example with TPP and NTPP, and P and DR. This lattice corresponds to
a set of theorems (such as 8xy[PP(x; y) $ [TPP(x; y) _ NTPP(x; y)]]) which we have
veriﬁed.

Clarke axiomatized a set of function symbols in terms of C; the topological ones (interior,
exterior, closure) we omit since (as already discussed) we do not wish to make these
distinctions. However, he also deﬁned a set of quasi-Boolean10 functions which we will
also require, though our deﬁnitions differ. The Boolean functions are: sum(x; y), the sum
of x and y; compl(x), the complement of x; prod(x; y), the product (intersection) of x and
y; and diff(x; y), the difference of x and y (that is the part of x that does not overlap y); and
the constant, u, the universal region. For brevity we will often use ⁄, + and ¡ rather than
prod, sum and diff. The functions: compl(x), prod(x; y) and diff(x; y) are partial but are

a

b

a

b

a

b

a

b

a

b

a

b

a

b

a b

DC(a,b)

EC(a,b)

PO(a,b)

TPP(a,b)

TPPi(a,b)

NTPP(a,b)

NTPPi(a,b)

EQ(a,b)

Figure 3. Illustrations of eight JEPD relations.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

283

C

DR

O

P

Pi

PP

Pi

PO

NTPP

TPP

EQ

TPPi

NTPPi

EC

DC

Figure 4. A subsumption lattice of dyadic relations deﬁned in terms of C .

made total in the sorted logic by specifying sort restrictions and by letting the result sort of
the partial functions be REGION t NULL. The quasi-Boolean functions obey appropriate
axioms which can be found in [96] and also in [27].

As already mentioned, and will be clear from the fact that we have introduced the sum
function, regions may consist of disconnected parts. We can easily deﬁne a predicate to
test for one-pieceness:11

CON(x) ·

def

8yz[sum(y; z) = x ! C(y; z)]

Clarke’s theory stipulates that every region has a nontangential part, and thus an interior
(remembering that in Clarke’s theory a topological interpretation is assumed) and is essential
to ensure that the deﬁnition of P(x; y) works as intended. Although RCC does not suffer
from this problem we do include the axiom

(13)

(14)

8x9y[NTPP(y; x)]

The consequences of not having this axiom are explored in [96] and further in [62] where
atomic multi-region models are shown not to exist. Alternatively, if an axiom is included
to rule out the model consisting of a single atomic region, then the formula above need not
be an axiom since it would follow as a theorem.

Clearly, if every region has a non-tangential proper part, then in every model there will
be an inﬁnite number of regions. However, this is not in itself a problem. In the logical
approach to spatial representation, we deal with formal expressions describing types of
spatial situation. We do not represent the structure of these situations directly. Thus
although our theory ensures that space is inﬁnitely divisible, this does not mean that an
implementation of our reasoning system would require inﬁnite data structures. On the
contrary, our representation of complex situations in terms of a set of high-level qualitative
facts will often be very concise.

284

COHN, BENNETT, GOODAY AND GOTTS

3.2. Theorems of RCC

(15)

(16)

(17)

In [96] we cite a number of important theorems which distinguish RCC8 from Clarke’s
system. First, note that for Clarke, two regions x and y are identical iff any region connecting
with x connects with y and vice-versa (this is an axiom of extensionality for C), that is

This is a theorem of RCC.12 In the new theory, an additional theorem concerning identity,

8xy[x = y $ 8z[C(z; x) $ C(z; y)]] :

8xy[x = y $ 8z[O(z; x) $ O(z; y)]] ;

(extensionality in terms of O) becomes provable, which is not a theorem in Clarke’s theory:
any region z which overlaps a closed region x will also overlap its open interior (and vice
versa), thus making them identical according to this axiom, but Clarke distinguishes open
and closed regions so they cannot be identical, thus providing a counterexample.

Perhaps the most compelling reason that led us to abandon Clarke’s semantics for C is
the following theorem expressing an everyday intuition about space, that, given one proper
part of a region, then there is another, discrete from the ﬁrst:

8xy[PP(x; y) ! 9z[P(z; y) ^ :O(z; x)]] :

This is provable in the new theory, but not in Clarke’s: the interior of a closed region is a
proper part of it, but there is no remaining proper part, since in Clarke’s (and our) system
the boundary of a region is not a region. A related theorem is the following:

8xy[PO(x; y) ! [9z[P(z; y) ^ :O(z; x)] ^ 9w[P(w; x) ^ :O(w; y)]]];

(18)

which again is a theorem in the new theory but not in Clarke’s. A counter-example arises
in Clarke’s theory where we have two semi-open spherical regions, x and y (with identical
radii), such that the northern hemisphere of x is open and the southern hemisphere is closed,
and the northern hemisphere of y is closed and the southern hemisphere open. If x and y
are superimposed so that their centers and equators coincide, then x and y will partially
overlap, but no part of x is discrete from y, and vice-versa.

Another key distinction between our theory and Clarke’s concerns the connection between
a region and its complement. In the new theory, 8x[EC(x; compl(x))] holds; that is, regions
are connected with their complements — which seems a very intuitive result — while in
Clarke, a region is disconnected from its complement: 8x[DC(x; compl(x))].

Some further theorems expressing other interesting and important properties of RCC can
be found in [96] as can a discussion about how to introduce atomic regions into RCC. In
the calculus as presented here, they are, of course, excluded because every region has a
non-tangential proper part.

4. Expressing Topological Shape in Terms of C

So far, we have principally concentrated on binary predicates relating pairs of regions.
Of course, there are also properties of a single region we would like to express, all of

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

285

Doughnut (or Solid Torus)

Torus

Cylinder-surface

Block minus block

Doughnut with gap

(topologically, a solid block)

Double doughnut

Loop

Two doughnuts with degenerate holes

A doughnut with a
degenerate hole-surround

Figure 5. It is possible to distinguish all these shapes using C(x; y) alone.

which, in some sense at least, characterize the shape of the region. Although we have only
developed topological notions there is still quite a bit that can be said about the topological
shape of a region. For example we have already introduced the predicate CON(x) which
expresses whether a region is one-piece or not. We can do much more than this however,
as [60, 61, 67, 64] demonstrates. The task set there is to be able to distinguish a ‘doughnut’
(a solid, one-piece region with a single hole). It is shown how (given certain assumptions
about the universe of discourse and the kinds of regions inhabiting it) all the shapes depicted
in Fig.5 can be distinguished. Here we just give a brief idea of how the task is accomplished,
as it also shows some of the range of predicates that can be further deﬁned using C alone
(and thus could form the basis of RCCn (for some n > 8)).13

Gotts deﬁnes several classes of predicate describing fundamental aspects of the topology
of regions. The separation-number (SEPNUM) of a region is the maximum number of
mutually disconnected parts it can be divided into. The ﬁnger-connectivity (FCON) of a
CON region is deﬁned14 in terms of its possible dissections, Fig.6 illustrates three different
ﬁnger connectivities. Making use of an easily deﬁnable predicate MAX P(x; y), asserting
that x is a maximal one-piece part of y, FCON can be deﬁned. Gotts goes on to deﬁne a
predicate SBNUM(x; y; n) to count the number of separate boundaries two regions have
in common. Using these deﬁnitions a doughnut can be deﬁned as a region with ﬁnger
connectivity of 2 and a single boundary with its own complement.15

Some of the initial assumptions made by Gotts can be weakened by introducing further
deﬁned predicates, which are interesting in their own right. For example, it is possible to
deﬁne the notion of intrinsic TPP, which we term ITPP. Intuitively, x is an ITPP of y iff

Figure 6. Dissection-graphs and dissections: ﬁnger-connectivities 1, 2 and 3.

286

COHN, BENNETT, GOODAY AND GOTTS

TPP & ITPP

NTPP & INTPP

NTPP & ITPP

NTPP

TPP but not FTPP

FTPP

Figure 7. TPPs and ITPPs (left); TPPs and FTPPs (right).

it is a PP of y that is not surrounded on all sides by the rest of y. Formula (11) deﬁnes
TPP(x; y) extrinsically since it makes reference to a third region, z, which is predicated
to be EC to both x and y. The deﬁnition of ITPP avoids this third region. This has the
result that u can have an ITPP but it cannot have a TPP: if u is 3-dimensional Euclidean
space, any region of inﬁnite diameter is an ITPP of u. ITPP is itself deﬁned in terms of
another predicates: FTPP(x; y) asserts that x is a ﬁrmly tangential proper part of y (not
just point-tangential), which in turn is deﬁned using ﬁnger connectivity. These predicates
are illustrated in Fig.7.

Fig.8 illustrates another range of topological distinctions between CON regions that can
be made (under certain assumptions) using C. A region, if it is connected, may or may
not also be interior-connected (INCON), meaning that the interior of the region is all one
piece. It is relatively easy to express this property (or its converse) in RCC terms. However,
INCON(r) does not rule out all regions with anomalous boundaries, and in particular does
not exclude the region at the right of Fig.8, nor any of the ﬁnal three cases illustrated in
Fig.5, which do have one-piece interiors, but which nevertheless have boundaries which
are not (respectively) simple curves or surfaces, having ‘anomalies’ in the form of points
which do not have line-like (or disc-like) neighbourhoods within the boundary. (A region
in which every boundary-point has such a neighbourhood is called locally Euclidean.)

It appears possible within RCC [61], using the intrinsic ITPP and a similarly intrinsic
INTPP, to deﬁne a predicate (WCON) that will rule out the INCON but anomalous cases
of Fig.8, but it is by no means straightforward,16 and it is not demonstrated conclusively
in [61] that the deﬁnitions do what is intended. One source of the difﬁculties arising is the
fact that within RCC, since all regions in a particular model of the axioms are of the same
dimensionality as u, assuming u itself to be of uniform dimensionality (this follows from
the fact that all regions have an NTPP), there is no way to refer directly to the boundary
of a region or to the dimensionality of the shared boundary of two EC regions, or to any
relations between entities of different dimensionalities.17 The distinction between intrinsic

CON, INCON and WCON

CON, not INCON or WCON

CON and INCON, not WCON

Figure 8. Types of CON Region.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

287

and extrinsic topological properties, which is found in conventional mathematical topology,
is of considerable interest. It demonstrates that at least in some cases, the distinction between
properties inherent in an entity and those dependent on its relation with its environment is
a real and fundamental one.

5.

Increasing Expressive Power: the Convex Hull Primitive

Although they are of fundamental importance, it is evident that, for many purposes, purely
topological relations are not sufﬁcient to express all signiﬁcant qualitative spatial proper-
ties. The abstraction of topology treats any 2D region bounded by a single continuous
and non-self-intersecting curve as equivalent to a disc. Thus, for example, an oval region
is topologically equivalent to a long thin wiggly region; but it is clear that, in geography
for example, distinguishing between such ‘discs’ is essential for many useful classiﬁcation
tasks.18 However it would clearly be very desirable to create more expressive languages for
qualitative spatial reasoning but which still fall short of a fully metric descriptive language.
An additional primitive (or primitives) clearly needs to be introduced since C is not sufﬁ-
ciently expressive to make such non-topological distinctions. There are many possibilities
for the choice of such primitive.

We introduce the notation RCfpig to refer to a Region Calculus based on the primitives
pi. Thus the simple RCC theory with just the C relation is denoted RCfCg. We use B to
refer to all the (quasi-)Boolean functions, so that the theory with C plus the Booleans is
RCfC; Bg. This notation allows easy reference to further extensions of the the theory with
additional primitives, or indeed to replace C with an alternative primitive (for example C
can be deﬁned in terms of the more powerful INCH primitive of [63]).

Apart from C and the Booleans, the primitive to which we have given most attention is
conv, a one-place function such that conv(x) denotes the the convex hull of region x. This
is the smallest convex region of which x is a part. In Fig.9, the dashed line bounds the
convex hull of an imaginary island, ‘Concavia’. A region is convex if it is equal to its own
convex hull, so a convexity predicate is easily deﬁned by

CONV(x) ·

def EQ(x; conv(x))

The notion of convex hull can itself be deﬁned mathematically in terms of points and lines
as the region resulting from including every point on every line joining any two points in
the region.

If the properties of convexity are to be adequately captured by inference within the
language RCfC; B; convg, we need to specify the logical properties of the new function,
conv(x). Since we have no notion of straight lines, the mathematical deﬁnition is not
directly applicable. Some important properties of conv can be axiomatized as follows:19

8x[conv(conv(x)) = conv(x)]
8x[TP(x; conv(x))]
8x8y[P(x; y) ! P(conv(x); conv(y))]
8x8y[P(conv(x) + conv(y); conv(x + y))]
8x8y[conv(x) = conv(y) ! C(x; y)]

(19)

(20)

(21)

(22)

(23)

(24)

288

COHN, BENNETT, GOODAY AND GOTTS

Concavia

a

b

c

Figure 9. The convex hull of an island.

8x8y[CONV(conv(x) ⁄ conv(y))]
8x8y[DC(x; y) ! :CONV(x + y)]

(25)

(26)
(27)
(28)

Further discussion of the properties of conv can be found in [27]. A complete axiomatisation
of convexity is the goal of ongoing research.20

5.1. Containment Relationships and ‘Insides’

Given our new primitive of the convex hull, we can now start deﬁning some new relations
that exploit this function symbol. Perhaps the most obvious and useful distinction to make
is to distinguish when one region is inside another, that is to say part of its convex hull
but not overlapping the region itself. This notion is easy to deﬁne. We introduce three
new predicates to test for a region being inside another (INSIDE), partly inside another
(P-INSIDE) and outside another (OUTSIDE):

INSIDE(x; y) ·
P-INSIDE(x; y) ·
OUTSIDE(x; y) ·

def DR(x; y) ^ P(x; conv(y))

def DR(x; y) ^ PO(x; conv(y))
def DR(x; conv(y))

Each of these relations is asymmetric so they have inverses, denoted INSIDEi, P-INSIDEi
and OUTSIDEi.
In terms of the deﬁned relations, the relationships between the small
islands in ﬁg 9 and the larger island of Concavia can be described by INSIDE(a; concavia),
P-INSIDE(b; concavia) and OUTSIDE(c; concavia).

Obviously we have now moved beyond RCC8, but how many JEPD relations do we now
have? It turns out that the above deﬁnitions naturally give rise to a set of twenty-three JEPD
relations, which we call RCC23. The RCC8 relations of DC and EC no longer form part of
the JEPD set; they are replaced by seventeen new relations nine of which are illustrated in
Fig.10. The other eight are simply the DC versions of the ﬁrst eight conﬁgurations. These
seventeen relations can be schematically deﬁned by

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

289

OUTSIDE_OUTSIDEi_EC

P-INSIDE_P-INSIDEi_EC

INSIDE_INSIDEi_EC

OUTSIDE_INSIDEi_EC

INSIDE_OUTSIDEi_EC

OUTSIDE_P-INSIDEi_EC

P-INSIDE_OUTSIDEi_EC

P-INSIDE_INSIDEi_EC

INSIDE_P-INSIDEi_EC

Figure 10. Nine of the new JEPD relations exploiting conv.

ﬁ ﬂ (cid:176)(x; y) ·

def ﬁ(x; y) ^ ﬂ(y; x) ^ (cid:176)(x; y)

(29)

where ﬁ; ﬂ 2 fINSIDE, P-INSIDE, OUTSIDEg and (cid:176) 2 fEC, DCg, excepting the case
where ﬁ = ﬂ = INSIDE, and (cid:176) = DC. This case is ruled out by axiom 24 above.21 If
we ignore the distinction between DC and EC, RCC23 collapses into a set of 15 relations
(RCC15) — we shall consider this set later in section 6.4.

Fig.11 depicts an example of how these new relations can be used to advantage when
describing the movement of one region from outside to inside and then overlapping another.
Region x might, for example, be an oil slick and y an island with a bay. The slick enters
the mouth of the bay and ends up partly covering the beach. However, labeling the ﬁnal
conﬁguration simply as PO seems a little unsatisfactory: if x were partially overlapping
y on the left-hand side, that is, if it were not within the convex hull of y, it would still
be PO. The obvious solution to this is to deﬁne PO versions of all the conﬁgurations in
Fig.10. To do this requires the deﬁnitions of INSIDE, P-INSIDE and OUTSIDE to be
changed slightly; the details are in [30]. With this modiﬁcation there are now thirty-two
base relations (the original eight, less DC, EC and PO, plus the EC, DC and PO versions
of the allowable combinations of INSIDE, OUTSIDE, P-INSIDE and their inverses).

There are many different reasons why a region may be concave. In particular, regions
might be multi-piece, or they may be missing an NTPP rather than having a simple depres-
sion in their surface; [12]22 is an excellent treatise on the different kinds of holes that might
exist.

Fig.12 shows some of the different kinds of non convex regions which can be distinguished
using C and conv. The principal distinction we make make is between one region, x, being

y

x

y

x

y

x

y

x

y

x

. . .

(i)

(ii)

(iii)

(iv)

(v)

. . .

Figure 11. One region moving inside another:
(ii): P- INSIDE OUTSIDEi DC(x; y),
(iv): INSIDE OUTSIDEi EC(x; y),

(i): OUTSIDE OUTSIDEi DC(x; y),
(iii): INSIDE OUTS IDEi DC(x; y),
(v): PO(x; y).

290

COHN, BENNETT, GOODAY AND GOTTS

In the former
geometrically inside another region, y, and being topologically inside y.
case, although x is within the convex hull of y it is not ‘surrounded’ by y — this can be
characterised by saying that that there is a one-piece region which overlaps both x and the
complement of conv(y). In the latter case x is completely surrounded by y and no such
region exists. This is a very useful distinction to make in many practical situations: for
example a frog contained in a jar with its lid on is topologically inside the jar and cannot
escape; but, when the lid is removed, it becomes merely geometrically inside and can hop
out. The notion of being geometrically inside can be further reﬁned to distinguish those
geometrical insides which could contain a liquid — ‘containable’ insides — and those
which are formed by being between components of a multi piece region — ‘scattered’
insides. Still other possible relationships expressing further reﬁnements could be deﬁned;
for example does one region completely ﬁll an inside of another region or does it only partly
ﬁll it? Again for many domains this may be a very useful distinction to be able to make
easily.

Returning to Fig. 12 we see that in (i) the darker region is geometrically inside the lighter
one; in (ii) it is topologically inside; in (iii) it’s in the scattered inside. In (iv) a ﬂy in position
3 would be in the containable inside; in position 2 it would be topologically inside (encased
in the stem during the manufacturing process!); in position 4 it would be in the ‘tunnel
inside’ (in the ‘handle’), while in position 1 it would be inside the glass in a very weak
sense: part of the convex hull but not any of the more specialized senses. [30] provides
deﬁnitions which distinguish all these kinds of inside and more.

5.2. Further Properties Deﬁnable with conv

In this section so far, we have concentrated on deﬁning relationships between two regions
that exploit the conv primitive. Of course, to a certain extent, these give rise to comple-
mentary techniques to describe the shape of one particular region. For example, if one
region is topologically inside another, then the second region must have an interior void.
In [21] we focus explicitly on deﬁning predicates which characterize the shape of a single
two-dimensional region. Techniques are developed, using C and conv alone, which can, for
example, distinguish all the different shapes in Fig.13. The principal idea is to distinguish
the concavities of a region (which are the maximal one-piece well-connected parts of its

x

(i)

(ii)

(iii)

Figure 12. Different kinds of inside that can be distinguished by RCC.

3

4

1

2

(iv)

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

291

inside) and then deﬁne predicates that are true of particular conﬁgurations of the concav-
ities. Adjacent and non adjacent concavities can easily be distinguished for example. A
particularly interesting idea (which turns out to have been long known about in the vision
community [101]) is to apply the technique recursively: if a concavity is itself concave,
then one describes the shape of its insides (this is how the ﬁrst two shapes in Fig.13 are
distinguished). Fig.14 illustrates this idea. It is also possible to deﬁne when a region is a
triangle using C and conv and thus when a region is an arbitrary polygon.

Figure 13. Qualitative predicates can be deﬁned to distinguish all these shapes.

As we have seen, a surprisingly rich and complex and expressive ontology for describing
qualitative spatial relationships can be logically deﬁned from just two primitives. It would
be easy to deﬁne a set of well over a hundred JEPD base relations from the above predi-
cates described above and many more could easily be deﬁned such as JUST INSIDE and
JUST OUTSIDE. In fact, [34] shows that the constraint language of RCC-8 together with
a monadic CONV(x) predicate (easily deﬁnable given conv(x)) yields a decision procedure
to distinguish (in 2D) any two regions which are not related by an afﬁne transformation.
The question arises: when to stop? In [30] we propose some criteria based on computa-
tional and predictive properties of the representation, but ultimately it must be a domain
speciﬁc question: certain distinctions will only be useful for certain domains, but for these
domains they may be crucial.23 As noted in the introduction, the signiﬁcance of qualitative
distinctions depends largely on their relevance to the behaviour being modeled.

6. Reasoning with the RCC Calculus

So far we have not discussed reasoning with the calculus at all. Of course, since it is
expressed in ﬁrst-order predicate calculus, a wide range of theorem provers are available
and indeed we have used these (for example to check the theorems expressed24 in the lattice
of Fig.4 and those in section 3.2 above). However, general 1st-order theorem proving is too
inefﬁcient to be useful for most purposes. For certain speciﬁc 1st-order theories, special

Figure 14. Finer shape descriptions can be obtained by recursively describing the shapes of the insides of a region.

292

COHN, BENNETT, GOODAY AND GOTTS

purpose decision procedures can be constructed; but, by reformulating the results of [69],
we can show that the full RCC theory must be undecidable [65]. Nevertheless, as we shall
see in the remainder of this section, it is possible to formulate decidable representations,
whose vocabulary includes quite expressive sub-languages of RCC.

6.1. Composition Tables

In his temporal calculus Allen introduced the idea of a transitivity table, which we term a
composition table (following [51]). Given a ﬁxed vocabulary of relations, fRig (normally
this will constitute a JEPD set), such a table enables one to answer the following question
by simple lookup: given R1(x; y) and R2(y; z), what are the possible relations (from the set
fRig) that can hold between x and z?25 This kind of computation is frequently very useful
— for example, one can check the integrity of a database of atomic assertions (involving
relations in some set for which we have a composition table) by testing whether every three
relations are consistent with the table. We call this ‘triangle checking’.26 Fig.2 gives the
composition table for RCC8.27 Where there are multiple entries this means that a disjunction
of relations are possible. We have veriﬁed this table by showing that each disjunction has a
possible model in the intended interpretation and by proving each entry is a theorem of the
form 8x8y8z[(R1(x; y) ^ R2(y; z)) ! R3(x; z)].

Table 2. Composition table for RCC8

.

H

H

R2(b,c)

R1(a,b)

H

H

DC

EC

PO

TPP

NTPP

TPPi

NTPPi

EQ

DC

DR,PO,PP

DR,PO,PP

DR,PO,PP

DR,PO,PP

DC

DC

DC

no.info

EC

DR,PO,PPi

DR,PO,PP

EC,PO,PP

PO,PP

DR

DC

EC

DR,PO

TPP,TPi

PO

DR,PO,PPi

DR,PO,PPi

PO,PP

PO,PP

DR,PO,PPi

PO

no.info

DR,PO

PPi

DR,PO

DR,PO

TPP,TPi

PPi

TPP

DC

DR

DR,PO,PP

PP

NTPP

TPP

NTPP

DC

DC

DR,PO,PP

NTPP

NTPP

DR,PO,PP

NTPP

no.info

TPPi

DR,PO,PPi

EC,PO,PPi

PO,PPi

PO,TPP,TPi

PO,PP

PPi

NTPPi

TPPi

NTPPi

DR,PO,PPi

PO,PPi

PO,PPi

PO,PPi

O

NTPPi

NTPPi

NTPPi

EQ

DC

EC

PO

TPP

NTPP

TPPi

NTPPi

EQ

Because of the extreme difﬁculty of general 1st-order reasoning, even verifying the com-
position table for RCC8 using the Otter theorem prover [85] was a hard task requiring
introducing various lemmas by hand [95]. It became clear that this approach would not
scale up to RCC23 or larger sets of relations and that more efﬁcient reasoning techniques
would be required. Initially, we experimented with a model-building program based on
bitmap representations of possible spatial situations but this was only partly successful and
was still fairly computationally intensive. We needed a more tractable logical representation
of our theory.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

293

6.2. A Zero-Order Encoding of RCC

The idea we pursued was to move from a ﬁrst-order representation to a zero-order logic,
which then provided a decision procedure [6]. Here we summarize this approach to RCC.
Zero-order logic is traditionally known as propositional logic; however, this is an inappro-
priate name for our purposes. We will not interpret the non-logical symbols as propositions
(having truth values) but rather as symbols having sets as their values. If these sets are
sets of spatial entities (points or atomic regions for example), then the non-logical symbols
denote spatial regions, and logical connectives correspond to certain functions from regions
to regions. Suppose we then assert that some formula denotes the universal region: this
means that the regions denoted by the ‘propositional’ constants occurring in the formula
must stand in some particular (spatial) relationship, determined by the logical structure of
the formula. The formula can thus be used to represent that relationship.

We say that such a spatial interpretation is faithful to a propositional logic if entailment
among formulas in the zero-order representation mirrors entailment among the correspond-
ing spatial relations. Such an interpretation can be used to reason about a certain class of
spatial relationships. For example, the classical formula A ! B can be used to represent
the relation P(a; b) and the entailment A ! B; B ! C j= A ! C reﬂects the fact that
P(a; b); P(b; c) j= P(a; c).

It turns out that classical zero-order logic is not sufﬁciently expressive to encode the RCC8
relations. Happily, this can be achieved in intuitionistic zero-order logic (an introduction
can be found in [90]), which we name I0. In fact, the idea of a topological interpretation of
this logic was ﬁrst introduced by [104], who gave a mapping from intuitionistic formulae
to open sets in a topological space, such that all intuitionistic theorems are mapped to the
universal set, U. Intuitionistic logic is weaker than classical logic in that certain classical
theorems do not hold. In particular, the law of the excluded middle, p _ » p does not hold
for all propositions. Under Tarski’s interpretation, p would denote some open set, P , and
» p, the interior of the complement of P . Disjunction is identiﬁed with set-theoretic union,
so that p _ » p denotes the set P [ interior (P ). Because this set does not include the
boundary of P , it is not equal to the universe.

This semantics associates each formula of I0 with a term involving constants denoting
open sets, the Boolean set-theoretic operators and the interior operator. We call this a set-
term . If regions are considered as open sets, a formula can be used to represent that spatial
relation which holds between regions just in case the corresponding set-term has the value
U. This is a faithful interpretation of I0, which means that a standard theorem prover for
I0 can be used to reason about spatial relations represented in this way. However, I0 is still
not quite sufﬁcient by itself to distinguish all the RCC8 relations. It turns out that we need
not only conditions expressible by asserting that some set-term equals U but also conditions
that require us to assert that some set-term does not equal U. For example, although the
part relation P(a; b) is straightforwardly represented by the relation A ) B, representing
the proper part relation PP(a; b) requires us, in addition, to ensure that the relation P(b; a)
does not hold. It turns out that this limitation can be overcome with a simple extension
of I0, which we term I +
0 , together with an appropriate meta-level reasoning algorithm.
0 are pairs of sets of I0 formulas, hM; Ei. One set represents (positive)
Expressions of I +
model constraints; the other (negative) entailment constraints. For example, PP(p; q) may

294

COHN, BENNETT, GOODAY AND GOTTS

Table 3. RCC relations deﬁned in I+
0

Relation

Model Constraint

Entailment Constraints

DC(X; Y )
EC(X; Y )
PO(X; Y )
TPP(X; Y )
TPPi(X; Y )
NTPP(X; Y )
NTPPi(X; Y )
EQ(X; Y )

» X _ » Y
»(X ^ Y )
—
X ) Y
Y ) X
» X _ Y
» Y _ X
X , Y

» X, » Y
» X _ » Y , » X, » Y
»(X ^ Y ), X ) Y , Y ) X, » X, » Y
» X _ Y , Y ) X, » X, » Y
» Y _ X, X ) Y , » X, » Y
Y ) X, » X, » Y
X ) Y , » X, » Y
» X, » Y

be represented as hfp ! qg; fq ! pgi.28 The I +
to be deﬁned as shown in table 3.

0 encoding enables all the RCC8 relations

[6] explains the I +

0 representation in detail and proves the correctness of the following

algorithm to determine the consistency of sets of spatial relations represented in I +
0 :
1. For each relation Ri(ﬁi; ﬂi) in the situation description ﬁnd the corresponding propo-

sitional representation hMi; Eii.

S

S

0 representation h
2. Construct the overall I +
S
3. For each formula F 2
the entailment29

Mi j= F holds.

S

i

i

Eii.
Ei use an intuitionistic theorem prover to determine whether

Mi;

i

i

4. If any of the entailments determined in the last step does hold, then the situation is

impossible.

A slightly more complicated algorithm will test entailment rather than consistency. [6] also
presents a method of capturing certain properties of the conv(x) function in the zero-order
representation.

It is worth pointing out that Bennett’s I +

0 representation gives us a true spatial logic
rather than simply a logical theory of space: the logical constants (^; _; ) etc.) all have a
spatial interpretation. We have also investigated other possible spatial logics, in particular
modal ones where the necessity operator is interpreted as an interior operator [7]. Another
investigation of the use of modal logics for RCC, interpreting C as the accessibility operator
can be found in [20].

6.3. The Complexity of Reasoning with RCC

We have noted that, since ﬁrst-order logic is undecidable, the original formulation of RCC
as a ﬁrst-order theory does not provide us with an effective inference mechanism for the
language. However, many highly expressive sub-languages of RCC can be speciﬁed as con-
straint languages consisting of sets of properties and relations deﬁnable in the RCC theory
or one of its extensions. Such a constraint language provides a ﬁxed vocabulary of spatial
predicates which may be chosen for its computational properties and/or its relevance to a
particular domain. The complexity of reasoning with various spatial constraint languages
is the subject of much current research.30

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

295

a

b

a

b

a

b

TPP

b

a

a

b

=

NTPP

a

b

b

a

DC

EC

PO

b

a

TPPi

NTPPi

Figure 15. The continuity network for RCC8

The RCC8 relations constitute a constraint language which is of fundamental importance.
[88] has shown that Bennett’s I +
0 reasoning algorithm, when applied to instances of the
RCC8 relations, has polynomial complexity in the number of instances.31 Some other
complexity results for reasoning with the RCC8 relations are given in [68]. This paper is
concerned with relational consistency and also with realisability of a set of relations by a
set of simply-connected planar regions. Drawing on results of [77] about the recognition
of realisable string graphs [68] conclude that testing realisability is NP-hard. Another
important result, that the constraint language of RCC-8 plus a predicate CONV(x) is
decidable but “at least as hard as determining whether a set of comparable size of algebraic
constraints over the real numbers is consistent” has been demonstrated in [34].

6.4. Reasoning about Continuous Change

So far we have concerned ourselves only with expressing the static properties of space
rather than with developing a calculus for expressing how conﬁgurations of spatial regions
evolve over times. However, such dynamic reasoning is clearly very important in many
In many domains, an assumption is made that change is continuous. The
situations.
QR community has exploited this notion repeatedly (see, for example, [112]).
In the
context of qualitative spatial reasoning, assuming continuity means assuming that shape
deformations are continuous in addition to assuming that movement is continuous. Fig.15
indicates possible state transitions among the RCC8 relations assuming continuity and
ﬁg. 16, which we call a continuity network indicates continuous transitions among the
RCC15 relations.32 Subgraphs of a continuity network turn out to coincide the notion of
conceptual neighbourhoods introduced by [51]. Galton, in his chapter in [103] and in
[55] has made a thorough analysis of continuity as it applies to RCC8. [40] builds similar
(though not identical) structures for his calculus (there are fewer links in general) using a
notion called closest topological distance. In section 7.3 we discuss how these kinds of
structures can be used to build qualitative spatial simulators.

We and others have noticed an interesting relationship between composition tables and
continuity networks. For a variety of calculi, every entry in a composition table forms
a connected subgraph of the continuity network.33 For example, an entry that included
DC and PO would also have to include EC. [51] exploited this to generate a compact

296

COHN, BENNETT, GOODAY AND GOTTS

composition table for Allen’s system. Freksa’s reduced table gives compositions for sets
of relations (conceptual neighbourhoods, in fact) rather than single relations. We have
explored this approach in the context of Allen’s calculus and the RCC system [28]. By
slightly relaxing Freksa’s conditions for choosing sets of relations upon which to base the
tables, we managed to ﬁnd compact representations for certain sets of RCC relations; for
example a 6£6 solution (44 per cent reduction in table size) for RCC8 and 8£8 solution
for RCC15 (75 per cent reduction in table size). We also investigated the construction of
neighbourhood graphs from information in composition tables and have had some success
in this venture using a constraint-based approach.

7. Some Applications of RCC

to design logical calculi for qualita-
The main focus of our work has been theoretical:
tive spatial reasoning. However, we have also worked on applying RCC to some speciﬁc
domains. In this section we describe applications of the calculus to: evaluating queries
within a geographical information system (GIS); describing geographical features; qualita-
tive simulation of physical changes; and specifying the semantics of a visual programming
language.34

7.1. RCC in Geographical Information Systems

An obvious application of RCC, to which we have given attention [29, 8], is geographical
information systems (GIS). In fact, a parallel development of a system very similar to RCC8
has taken place within this ﬁeld [39, 37, 42, 38, 41, 17, 72] but ﬁrmly based on a point-set
theoretic approach rather than our logic of regions approach.

The topological reasoning algorithm based on encoding RCC relations in I +

0 (described
in section 6.2 has been implemented as part of a larger ‘spatial AI’ system being developed
as part of EPSRC project GR/K65041 on ‘Logical Theories and Decision Procedures for

OUTSIDE_OUTSIDEi

P-INSIDE_OUTSIDEi

OUTSIDE_P-INSIDEi

INSIDE_OUTSIDEi

INSIDE_P-INSIDEi

OUTSIDE_INSIDEi

P-INSIDE_INSIDEi

PO

TPPi

INSIDE_INSIDEi

TPP

NTPP

EQ

NTPPi

Figure 16.
P-INSIDE P-INSIDEi. PO has links to this and every other node in the vertical plane.

The continuity network for RCC15.

The unlabelled central node of the vertical plane is

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

297

Figure 17. Our current GIS prototype.

Reasoning about Physical Systems’. The current system contains a database of geographical
information in the form of geometrical polygon data and also contains qualitative data in
the form of topological relations between named regions. Some of these named regions
are identiﬁed directly with polygons in the geometrical database, whereas for others the
geometry is not precisely known but only constrained by the qualitative topological relations.
The topological relationships determined by the quantitative geometrical data can also be
rapidly computed and accessed by the topological reasoning mechanism, allowing queries
to be addressed to the combined qualitative and quantitative database. This capability is (as
far as we know) not available in any other system. Work is also underway to demonstrate
the use of topological reasoning in the control of artiﬁcial agents operating in a virtual world
constituted by geographical data.

Fig.17 shows a screen-dump of the current prototype system. Most of the code is written
in (SICStus) Prolog but a Tcl/Tk sub-process is used to create the GUI. The window at the
top left shows a simple cartographical display, whose geometry is determined by a database
giving the coordinates and terrain type of a number of triangular regions. This data is
shown in the bottom left window. The top right window presents a database of qualitative
relations between regions. In the middle on the right is the Prolog top-level query window.
All functions of the system can be accessed by typing commands and queries at the Prolog

298

COHN, BENNETT, GOODAY AND GOTTS

prompt (although common operations are more conveniently accessed via the GUI). The
ﬁgure shows the Prolog interpreter being used for querying the qualitative database. Such
queries are answered by means of Bennett’s consistency checking algorithm which will
determine whether a relation given as a query is consistent with, inconsistent with or a
necessary consequence of the database. (The bottom right window is one of a number of
information screens which can be displayed via the system’s ‘help’ function.)

In developing our GIS prototype, we have become very much aware of the importance of
integrating qualitative and quantitative spatial information, if useful functionality is to be
obtained. This is an area upon which we intend to focus in future research.

7.2. Characterisation of Geographical Features

Figure 9 (section 5 above) illustrates the use of the convex-hull concept in distinguishing
among geographical relationships. We see a large island and three smaller islands — a, b
and c. Each island is disconnected with the others, so topologically the relation between
any two islands is the same. However, if we consider the relation between each of the three
small islands and the convex-hull of the large island, we see that: a is part of this convex-
hull; b overlaps the convex-hull; and, c is disconnected from the convex hull. Moreover,
this qualitative difference is signiﬁcant from a geo-physical point of view. The tidal and
weather conditions affecting a, lying within a bay of the larger island, are likely to be
different from those affecting c out in the open sea. Given a differentiation of regions into
land and sea, the concept of a ‘bay’ region can be deﬁned quite straightforwardly in terms
of convex-hull together with purely topological concepts. A bay is a maximal35 one-piece
sea region which is part of the convex-hull of a land region.

There is some scope for argument as to whether this really captures the concept of ‘bay’.
For instance if we have a long coastline whose curvature over its whole length is concave,
then this always creates a single ‘bay’ according to our deﬁnition and no smaller concavity
on this coastline is counted as forming a bay. One might contend that this rules out many
features that ought to be classiﬁed as bays. But this kind of problem does not count against
the value of the approach. It shows that either the concept of ‘bay’ is ambiguous or it requires
a more complex deﬁnition along the same lines or it cannot adequately be deﬁned purely
in terms of topology, convexity and the land/sea distinction. In the ﬁrst case the analysis
serves to disambiguate what is meant by a ‘bay’. The second possibility motivates further
investigation of the classiﬁcation of different kinds of concavity in terms of convex-hull (as
we discussed in sections 5.1 and 5.2). Similarly the third case motivates inquiry into what
other primitive concepts may be needed to deﬁne geographical features.

To further illustrate the power of RCC we consider how the spatial extension of the
geographical feature known as an ‘ox-bow lake’ might be characterised by means of a
predicate deﬁnition in the theory RCfC; B; convg. Fig. 18 depicts the formation of a
typical ox-bow lake. In the ﬁrst picture, a river is meandering across its ﬂood plain; in the
second picture erosion has caused the river to break through the meander; in time silting on
the slower ﬂowing original segment causes the separation of the original meander creating
an ox-bow lake. Thus an ox-bow is typically of a crescent like shape with the mouth of the
crescent towards the river.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

299

Figure 18. The formation of an ox-bow lake.

First we deﬁne a crescent using the concept of geometric inside. Recall that a region
x is geometrically inside region y if x is part of conv(x) but neither overlaps y nor is
completely surrounded by y (see Fig.12). We say that the maximal region x satisfying
these conditions is the geometrical inside of y and deﬁne a function geoinside(x) to map
regions to their geometric insides (in many cases geoinside(x) will, of course, be the null
region). Consider the following deﬁnition: x is crescent shaped iff it is concave and the
sum of x and geoinside(x) is convex (i.e. the whole inside of x is its geometric inside) and
its inside is in one piece. This essentially describes a single convex region but with a single
“bite” taken out of it. Since we will want to refer to the “mouth” of a crescent below, we
make Crescent dyadic so that Crescent(m; x) means that m is the mouth of a crescent,
x.

Crescent(m; x) ·

def

:CONV(x) ^ CONV(x + geoinside(x)) ^
CON(geoinside(x)) ^ m = geoinside(x)

(30)

This is only a ﬁrst attempt at deﬁning the shape of an ox-bow lake. It is inadequate on at
least two counts: ﬁrstly there might be more than one concavity because x has small local
curvatures around its perimeter; secondly because the perimeter x could be completely
made up of straight line segments. The ﬁrst problem is not so easy to ﬁx within the present
framework: it requires one to abstract overall shape from minor local boundary changes.
This could be achieved either by adding some shape abstraction operator to the language
or perhaps by adding a primitive which would allow one to compare the sizes of regions.36
If one concavity was much larger than any of the other concavities then it might identiﬁed
as the mouth of the crescent.

It is quite easy to ensure that a region has a completely curved boundary by means of the

following deﬁned predicate:

Curved(x) ·

def

8y[(PO(x; y) ^ CONV(y)) !

(:CONV(y ¡ x) _ :CONV(y ⁄ x))]

(31)

This ensures that for any convex region y partly overlapping x, either the part of y exterior
to x or the part interior to y are concave. Hence, x can have no straight lines, because a
convex region which partly overlaps by crossing a straight boundary segment would always
be divided into two convex parts. This requirement may not be precisely what is wanted
because an ox-bow lake might (up to a given precision of measurement) be straight along
some segment of its boundary.

300

COHN, BENNETT, GOODAY AND GOTTS

Assuming we are happy for the present with deﬁning the shape of an ox-bow lake as a
‘Curved Crescent’, we now need to ensure that it is appropriately oriented, i.e. with the
mouth of the crescent towards a river. The characterisation of a river is itself an interesting
problem leading to many further considerations, however, for the purpose of this example
we shall assume that a predicate River(x) has already been deﬁned. We can then achieve
our goal quite simply by requiring that a convex region can overlap both the mouth of the
lake and the river without overlapping the lake itself.

OxBowLake(x) ·

def

9m9r9c[Crescent(m; x) ^ River(r) ^ CONV(c) ^

DR(m; x) ^ O(c; m) ^ O(c; r)]

(32)

Our work on characterising geographical features is an early state. We realise that the
analysis given this section leaves many questions unanswered but hope that it illustrates
what we believe to be an important potential use of the RCC calculus.

7.3. Qualitative Simulation of Spatial Changes

It is not difﬁcult to build a qualitative spatial simulator based on composition tables and
conceptual neighbourhoods as described in [32].37 A state is a conjunction of ground atomic
atoms expressed in RCCn. Successor states are generated by forming the set of neighbouring
atoms (using the conceptual neighbourhood diagram) for each atom in the state and forming
the crossproduct of all these sets. Each successor state can then be checked for logical
consistency by ‘triangle checking’ using the composition table (see section 6.1 above). It is
useful to allow the user to specify domain-dependent inter- and intra-state constraints that
further ﬁlter which next states are indeed allowable. The implementation also allows users
to specify ‘add’ and ‘delete’ rules to introduce new regions under certain conditions, with
speciﬁed relationships to existing regions, or to delete speciﬁed regions. Fig.19 illustrates
two paths from envisionment generated by the program on a model of phago- and exco-
cytosis (an amoeba eating a food particle and expelling the waste matter).38 It should be

f

f

e

a

n

e

a

n

nt

a

n

f

e

a

n

e

a

n

f

e

fv

a

n

a

n

e
v

f

e
fv

a

n

fe

a

n

e

f

a

n

a

n

e f

a

n

e f

a

n

nt

v
w

a

n

a

n

e

v f

e

v f

w

a

nt

n

nt

w

a

n

w

nt

a

n

w

v

nt

a

n

w

v

nt

a

n

w

v

a

n

nt

v w

Figure 19. Two paths from the amoeba simulation; the amoeba is denoted ‘a’, its nucleus ‘n’, the food particle,
‘f’, an enzyme, ‘e’, the vacuole in which the food particle is trapped, ‘v’, the nutrient formed by digestion, ‘nt’
and the waste matter, ‘w’.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

301

clear that this approach can also be applied to modelling geographical processes — the
regions might correspond to terrain types or hydrological features.

We are now constructing a new qualitative simulation system using Transition Calculus
[59], an event-based nonmonotonic temporal reasoning formalism. This simulator has a
much more formal basis than our original qualitative spatial simulator described in section
7.3 above and has already been used to model a simple physical system. RCC continuity
networks can be directly represented as event types in Transition Calculus’ high-level
modeling language making it well-suited to our simulation tasks. We intend to encode
various continuity networks and explore a number of simulation problems with the new
system.

7.4. Semantics for a Visual Programming Language

Another application we are currently investigating is for the speciﬁcation of the syntax and
semantics of a visual programming language [58, 57]. Visual programming languages are
an important new weapon in the software engineer’s armory, but while textual languages
have beneﬁted from work on providing appropriate mathematical semantics, there has been
little work on providing suitable tools for visual languages. One visual language that can
be speciﬁed almost entirely using topological concepts is Pictorial Janus [76] and indeed
RCC turns out to be quite suitable for this task.39 Fig.20 illustrates some basic Pictorial
Janus elements and a program to append two lists.

A constant consists of a closed contour (the shape is irrelevant) containing a number
or string (what the constant represents) and a single internal port. The internal port is
represented by another closed contour abutting the constant but wholly inside it and acts
as a handle for the entire object. Ports cannot themselves contain any elements. Functions
are represented by closed contours containing a label and an internal port together with any
number of external ports. In this case we have illustrated a list-constructor function, cons,
which normally takes two arguments and thus requires two external ports. The ﬁnal part of
the ﬁgure shows how the cons function can be used to build up a list.

A Pictorial Janus agent is a closed contour containing rules, a call arrow to another agent
contour, or a label. It may have any number of external ports but no internal ports. A rule

Key: 

Internal port

External port

Overlapping internal and external ports

NIL

A

Label

cons

nil

cons

cons

append

Constant

Function

Function and arguments

B

A

CONS

CONS

Figure 20. Some basic Pictorial Janus concepts and an append agent (containing two rules).

302

COHN, BENNETT, GOODAY AND GOTTS

is deﬁned in exactly the same way as an agent but with the additional requirement that it
must be contained within an agent. Agents may communicate via channels: directed curves
linking two ports (an arrow is used to indicate directionality). Finally, links are undirected
curves joining two ports. There is not space to fully specify Pictorial Janus here, but as a
simple example we will give the deﬁnitions for internal and external ports that are deﬁned
in terms of ports, to show how RCC can be exploited in this domain:

Iport(port; x) ·
Eport(port; x) ·

def Port(port) ^ TPP(port; x)
def Port(port) ^ EC(port; w)

(33)
(34)

Using RCC we have successfully captured the full syntax of Pictorial Janus and are now
working on completing our description of the procedural semantics.
It is intended that
these RCC descriptions will be used in conjunction with our spatial simulator to model the
execution of Pictorial Janus programs.

Another application we have investigated is the application of RCC to help with the
problem of integrating two different databases. In this case we are using a spatial metaphor:
we think of a database class as a region, and the prototypical members as another region
which is always a PP of the complete class.40 The question addressed in this work is how
can we obtain a measure of the reliability of the merge of two data-types? For example,
supposing ﬁrm A takes over ﬁrm B and they merge their employee databases. They may
have different deﬁnitions of employee. We use a spatial metaphor to develop a ranking to
rate the relative goodness of ﬁt in such cases. The ﬁnal ranking we developed is a reﬁnement
of the run of our qualitative simulator. Further details can be found in [81].

8. Spatial Regions with Uncertain Boundaries

Much work in qualitative spatial reasoning is based exclusively on crisp regions and lines.
But many domains, particularly GIS, have objects with indeterminate boundaries, such as
clouds, urban areas, areas of a certain soil or vegetation type, marshlands, habitats and so
on. The question is whether RCC theory as developed so far can be used or extended to
model these kinds of entities.41 In a series of papers [25, 24, 23, 66, 26] we have tackled
this problem42 from two sides: ﬁrstly we have added a further primitive and developed an
axiomatisation and a series of deﬁnitions to help model such indeterminate spatial entities;
secondly, we have applied the egg-yolk calculus, mentioned above, to represent such regions.

8.1. A Primitive for Reasoning about Indeterminacy

We need to say at least some of the same sorts of things about vague regions as about
crisp ones, with precise boundaries: that one contains another (southern England contains
London, even if both are thought of as vague regions), that two overlap (the Sahara desert
and West Africa), or that two are disjoint (the Sahara and Gobi deserts). In these cases, the
two vague regions represent the space occupied by distinct entities, and we are interested in
deﬁning a vague area corresponding to the space occupied by either, by both, or by one but
not the other. We may also want to say that one vague region is a crisper version of another.
For example, we might have an initial (vague) idea of the extent of a mineral deposit, then

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

303

receive information reducing the imprecision in our knowledge. Here, the vagueness of
the vague region is a matter of our ignorance:
the entity concerned actually occupies a
fairly well-deﬁned region — though perhaps any entity’s limits will be imprecise to some
degree. In other cases, vagueness appears intrinsic: consider an informal geographical term
like ‘southern England’. The uncertainty about whether particular places (north of London
but south of Birmingham) are included cannot be resolved deﬁnitively: it is a matter of
interpretational context. A contrasting example is the region occupied by a cloud of gas from
an industrial accident. Here we have two sources of intrinsic vagueness: the concentration
of the gas is likely to fall off gradually as we move out of the cloud; and its extent will
also vary over time, so any temporal vagueness (for example, if we are asked about the
cloud’s extent at ‘around noon’) will result in increased spatial vagueness. In these cases of
intrinsic vagueness, there is a degree of arbitrariness about any particular choice of an exact
boundary, and often, none is required. But if we decide to deﬁne a more precise version
(either completely precise, or less vague but still imprecise), our choice of version is by
no means wholly arbitrary: we can distinguish more and less reasonable choices of more
precise description. Distinguishing ignorance-based from intrinsic vagueness is important,
but many of the same problems of representation and reasoning arise for both.

This then motivates introducing an additional primitive: a binary predicate X ` Y ,43
read as “X is crisper than Y”, which is axiomatized to be asymmetric and transitive and
hence irreﬂexive. Various useful predicates can easily be deﬁned in terms of X ` Y . For
example, Crisp(X), which is true when no region is crisper than X, MA(X,Y), which is
true when X and Y are mutually approximate; that is, they have a common crisping, and
X `` Y which is true when X is crisper than Y and is itself crisp.

def

Crisp(X) ·
MA(X; Y ) ·
X `` Y ·

def

:9Y [Y ` X]
9Z[Z ` X ^ Z ` Y ]

def X ` Y ^ Crisp(X):

(35)
(36)
(37)

Further axioms postulate the existence of a complete crisping of any region, and also of
alternative ways to crisp and decrisp a region (for if this were not so, then one could hardly
claim that indeterminacy existed about the region). Another possible axiom asserts the
denseness of crisping: if X ` Y , then there must be another region crisper than Y but less
crisp than X. An interesting parallel can be drawn between this theory and the axiom-sets
for mereology (theory of part-whole relations) discussed by [100]; we will return to this
below.

The question arises: how many JEPD relations are there between non crisp regions?
For the sake of simplicity, we consider a calculus for spatial regions with indeterminate
boundaries based on the fairly coarse-grained relation set which we call RCC5, consisting
of the relations DR, PO, PP, PPi and EQ.44 Fig.21 depicts the RCC5 relations and their
continuity network. Consider two non-crisp regions. Depending on the initial conﬁgura-
tions, there may be different possible RCC5 relations between complete crispings of the
two regions. We make the assumption that any set of complete crisping relations will be
a conceptual neighbourhood (a connected subgraph of the continuity network). Although
there are twenty-three such conceptual neighbourhoods for RCC5, (see Fig.21) it is possi-
ble to argue that only thirteen45 of these can form a set representing the possible complete

304

COHN, BENNETT, GOODAY AND GOTTS

PP(A,B)

PPi(A,B)

DR(A,B)

PO(A,B)

EQ(A,B)

Figure 21. The RCC5 continuity network.

crispings a pair of vague regions. However, in the next section we suggest that more than
thirteen distinctions are, in fact, possible.

8.2. The Egg-Yolk Theory

We have already mentioned the egg-yolk theory above when discussing the application of
RCC theory to database integration. Fig.22 depicts this representation. The egg is the
maximal extent of a vague region and the yolk is its minimal extent, while the white is the
area of indeterminacy. Note that since RCC allows non connected regions, so yolks (and
indeed eggs themselves) could be multi-piece. Fig.23 shows the forty-six possible relations
between two non-crisp regions (assuming that RCC5 calculus is used to relate eggs and
yolks and that yolks are never null).46

These forty six relations can be naturally clustered into thirteen groups as shown in Fig.24;
this may be achieved either by considering the equivalence classes of conﬁgurations that
have the same set of relationships between their complete crispings or by grouping together
all conﬁgurations which may be transformed into each other by crisping.

At ﬁrst glance, there is an apparent problem with the egg-yolk approach: the most obvious
interpretation is that it replaces the precise dichotomy assumed in the basic RCC theory,
where space is divided into what is in a region and what is outside a region, by an equally
precise trichotomy of yolk, white and outside. This appears contrary to a key intuition
about vagueness: that not only is there a doubtful zone around the edges of a vague region

White

Yolk

Egg

Figure 22. The egg/yolk interpretation.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

305

1

2

3

4

5

6

7

8

9

10

11

12

13

14

15

16

17

18

19

27

35

20

21

22

23

24

25

26

28

29

30

33

34

36

37

38

41

42

31

39

32

40

43

44

45

46

Figure 23. Forty six egg-yolk relations between two eggs.

13 Clusters

DR

DR,PO

Clusters

RCC5 complete
crispings

Arrows

subset

4

3

Mutual crispings

‘Crisper than’

1

2

9

DR,PO,PP

8

11

10

7

DR,PO,PPi

6

13

16

18

5

12

15

17

21

25

14

PO

19

28 34 42

20

43

35

27

40

29

32

41

DR,PO,PP, PPi,EQ

PO,PPi

PPi

23

30

EQ,PPi

33 38

39

31 36

45

46

44

EQ,PO,PP,PPi

22

26

PO,PP

PP

24

37

EQ,PP

Figure 24. Clustering the forty six relations into thirteen groups.

306

COHN, BENNETT, GOODAY AND GOTTS

but that this zone itself has no precise boundaries. [66] suggest a way of using the egg-yolk
formalism that is consistent with this.

We link the OCregions of Section 8.1 (and the corresponding theory), with ordered pairs
of RCC5 regions, the ﬁrst of the pair being a part, but not necessarily a proper part, of the
second. If it is a PP, then the pair is an egg-yolk pair in the sense of [81], and the OCregion
is NonCrisp. If not, the OCregion is Crisp. We now link the CR predicate of OCregion
theory with the egg-yolk approach. We deﬁne a function ey to map an OCregion to an
egg-yolk pair, and two functions eggof and yolkof, to map such egg-yolk pairs to the RCC5
region comprising its egg and yolk, respectively. We will normally write ey(X) as ^X for
notational convenience. We have the following axiom for egg-yolk pairs:

8XP(yolkof( ^X); eggof( ^X)) :

(38)

We then assert the following additional axiom concerning CR:

8X; Y [X ` Y !

[[PP(eggof( ^X); eggof( ^Y )) ^ P(yolkof( ^Y ); yolkof( ^X))] _
[P(eggof( ^X); eggof(Y )) ^ PP(yolkof( ^Y ); yolkof( ^X))]]] :

(39)

This axiom links CR to the predeﬁned RCC5 relations by an implication, not an equiv-
alence: we do not specify that if the speciﬁed RCC relations hold between eggof( ^X),
yolkof( ^X), eggof( ^Y ) and yolkof( ^Y ), the CR relation holds between X and Y , but these
relations must hold for the CR relation to do so. We leave undeﬁned what additional
conditions, if any, must be met. This gives us the kind of indeﬁniteness in the extent of
vagueness, or higher-order vagueness, that intuition demands. Consider the vague region
“beside Nick’s desk.” This can be regarded in OCregion theory as a NonCrisp region.
There are some precisely deﬁned regions, such as a cube 10cm on a side, 5cm from the
right-hand end of Nick’s desk, and 50cm from the ﬂoor, that are undoubtedly contained
within any reasonable complete crisping of this NonCrisp region. Others, such as a cube
50m on a side centred at the front, top right-hand corner of the desk, contain any such
reasonable crisping. These two could correspond to the yolk and egg of an egg-yolk pair
constituting the NonCrisp region “beside Nick’s desk,” forming a very conservative inner
and outer boundary on its possible range of indeﬁniteness. However, some OCregions
(Crisp and NonCrisp) lying between this pair would not make a reasonable crisping of this
region: consider a volume including the ‘yolk’ of the pair, plus a layer one centimeter deep
at the very top of the white. This meets all the conditions for a crisping of the speciﬁed
OCregion, but is an absurd interpretation of “beside Nick’s desk.” In general, we need not
precisely specify the limits of acceptability. For speciﬁc applications, we could add further
conditions on acceptable crispings (such as preserving particular topological features or
relative proportions in different dimensions), and perhaps assert that (for that application)
these conditions are sufﬁcient.

Conﬁguration 1 in Fig.23, given the interpretation of OCregion region theory in terms
of egg-yolk pairs of RCC5 regions outlined here, clearly shows a pair of NonCrisp regions
such that any pair of complete crispings of the two must be DR . Taking the left egg-yolk
pair as representing NonCrisp region X, and the right one NonCrisp region Y :

307

(40)

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

8V; W [[V `` X ^ W `` Y ] ! DR(eggof( ^V ); eggof( ^W ))]

Similarly, conﬁguration 2 represents a pair of NonCrisp regions such that, for any complete
crisping of either, we can choose a complete crisping of the other that is DR from it, and
there are also some complete crisping pairs of the two that are PO. [24] shows how each of
the forty-six conﬁgurations can be distinguished in terms of the possible results of replacing
one or both of the egg-yolk pairs with a single region-boundary lying within the white of
the egg, a complete crisping of the vague region represented by the egg-yolk.

This way of interpreting OCregion theory explains why we found so many parallels
with Simons’ mereology. Under the egg-yolk interpretation, an OCregion amounts to a
three-way division of u into yolk, white, and non-egg. If we consider a set of all such
divisions where no part of space is in the yolk of one division and the non-egg of another,
we have a mereological system with all the possible precise boundaries as atoms. Crisping
expands yolk and/or non-egg at the expense of the white. One OCregion being a crisping
of another is like one individual being a proper part of another because the white of the
ﬁrst is a proper part of the white of the second. We have a plausible candidate for the VCC
(Vaguest Common Crisping) of two MA OCregions: the VCC ’s yolk could be the sum
of the yolks of its two blurrings, its egg the prod of the two blurrings’ eggs (which, if the
two are MA , must exist as a region). Similarly, the yolk of the CCB (Crispest Common
Blurring) of any two OCregions might be deﬁned as the prod of their yolks; its egg as the
sum of their eggs.

The implications of these identiﬁcations remain to be explored. However, the egg-yolk
model of the OCregion axioms does appear to provide a straightforward way to deﬁne
OCregion extensions of the compl, sum, prod and diff functions deﬁned within RCC.
Moreover, egg-yolk theory gives us a way to reason with vague regions using the existing
mechanism of the RCC calculus.

9. Final Comments

Work is still continuing on RCC and related formalisms, both at Leeds and elsewhere. We
are still working on the formal semantics of RCC [62].47 RCC, as presented here, does
not have sufﬁcient existential axioms. In [9] some progress is made towards addressing
this deﬁciency and [92] present a system which is closely related to RCC and shown to be
complete with respect to a Euclidean planar model.

There is still further work to do with the axiomatization of conv and indeed in investigating
other primitives that would enhance the expressiveness of RCC. We also hope to work further
on our approaches to reasoning about indeterminate boundaries. The work on using zero-
order logics seems promising, but there is still further work to do on the larger RCC calculi
and in formally relating the zero and ﬁrst-order representations. We are also looking to
various applications to drive our work forward.

Although we have mentioned quite a lot of related work, QSR is a growing ﬁeld and there
is not space to do it justice here. [75] provides a slightly dated review in a ﬁnal chapter;
also see the survey in [22]. The proceedings of COSIT (such as [50, 49]) contain many
related papers. A spatial reasoning web site including a pointer to an online interactive
bibliography can be found at:

308

COHN, BENNETT, GOODAY AND GOTTS

http://www.cs.albany.edu/»amit/spatsites.html
In summary, we have presented a logical calculus for qualitative reasoning about spatial
regions, with both a ﬁrst-order and propositional sub-variant. The system has remarkably
few primitives, which is desirable not only from a theoretical viewpoint, but also from
an implementational one: one need only implement these few primitives to interface to a
perceptual component. RCC provides a rich vocabulary of qualitative shape descriptions
and has extensions to handle uncertainty. We have provided some special-purpose reasoning
techniques (composition tables and conceptual neighbourhoods) that can be exploited in
a qualitative spatial simulator. We have also sketched some possible application areas for
RCC.

Acknowledgments

The support of the EPSRC under grants GR/G36852, GR/H78955 and GR/K65041 is grate-
fully acknowledged. This work has also been partially supported by a CEC ESPRIT basic
research action, MEDLAR II, 6471, and by an HCM network. We gratefully acknowl-
edge many discussions on qualitative spatial reasoning with many people, in particular
the “Spacenet” HCM Network community. Special thanks are also due to two previous
research fellows at Leeds, Zhan Cui and in particular David Randell who were involved in
much of the earlier work reported in this article. John Gooday is now working at Equifax,
London and Nicholas Gotts at the Department of Computer Science, University of Wales,
Aberystwyth.

Notes

1. Less formal investigations of the semantics of natural language spatial expressions have been conducted by a

number of researchers — see e.g. Herskovits’ chapter in [103].
2. This name is recent and is not used in many of our earlier papers.

3. These and other papers can be obtained via the World Wide Web from:

http://www.scs.leeds.ac.uk/spacenet/publications.html.

4. The acronym RCC and both possible interpretations are due to Antony Galton.

5.

6.

‘Mereology’ is a term (ﬁrst used by Le´sniewski) to describe the formal theory of part, whole and related
concepts.
[78] has investigated temporal non convex interval logics. The spatial logic we present below will also allow
non-convex spatial entities.

7. This problem has already been noted in a temporal context [54].

8. Alternatively, non empty regular closed sets of connected T3-spaces have been proved to be models for the

RCC axiom set [62].

9. The argument sorts for space are Region and Period, respectively, while the result sort is Spatial t NULL.

Period is a sort denoting temporal intervals.

10. Quasi, because the lack of a null region means the functions do not form a Boolean algebra.

11. For notational convenience we will sometimes write x = y rather than EQ(x; y); technically the latter
is preferable, since EQ is a relation deﬁned in terms of C rather than true logical equality. However, for
readability’s sake we will ignore this distinction here.

12. It follows from our deﬁnition of the sum function as x = sum(y; z) $ 8w[C(w; x) $ (C(w; y) _

C(w; z))] — consider the case where y = z.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

309

13. An interesting question arises: what is so special about RCC8? One answer might be that it is essentially
the system that arises (in 1D) if one takes Allen’s calculus and ignores the before/after ordering: the thirteen
relations collapse to eight, which mirror those of RCC8. However, note that Allen’s calculus assumes that all
intervals are one piece and further relationships would exist if this were not the case [78]. The 4-intersection
model of [39] also gives rise to exactly eight analogous relations under certain assumptions (such as zero
co-dimension). In fact [36] shows that the interpretation of the RCC8 relations is slightly more general.

14. The corresponding deﬁnition in [61] is faulty.

15. To be

full generality,

employed in their

the predicates SEPNUM(x; n), FCON(x; n)

and
SBNUM(x; y; n) require the introduction of natural numbers into the system; however, if we only want
to use instances of these predicates in cases where n is some given ﬁxed number (as is the case in deﬁn-
ing a doughnut) they can always be cashed out, in terms of their (recursive) deﬁnitions, to yield complex
predicates not containing numbers. Thus the numbers can be regarded as meta-level syntax used to refer to
denumerable sequences of predicates. This could be indicated by writing SEPNUMn(x), FCONn(x) and
SBNUMn(x; y).

16. Note, however, that this task becomes almost trivial once the conv(x) primitive is introduced in Section 5.

17. In cases where reasoning about dimensionality becomes important, the RCC system is not very powerful. To
remedy this we have proposed a new primitive INCH(x; y), whose intended interpretation is that spatial entity
x includes a chunk of y, where the included chunk is of the same dimension as x. The two entities may be of
differing (though uniform) dimension. Thus if x is line crossing a 2D region y, then INCH(x; y) is true, but
not vice versa. It is easy to deﬁne C(x; y) in terms of INCH, but not vice versa, so the previous RCC system
can be deﬁned as a sub theory. An initial exposition of this theory can be found in [63]. Interestingly, a similar
proposal was subsequently made independently by [53].

18. As mentioned above when outlining how to deﬁne a doughnut, it is possible to describe some non-convex
regions using C alone, but it is impossible to describe the holes themselves as regions. Moreover, not all
kinds of concave shapes can be distinguished using C alone (for example, depressions in a surface cannot
[12] distinguish between hole-realism in which holes are ﬁrst class objects and hole-
be distinguished).
adverbialism in which reference to holes is just a ”fa¸con-de-parler” and all one really says is that an object
is holed (in such and such a way). This is all RCfC; Bg can do. RCfC; B; convg can take a hole-realist
position.

19. It should be noted that these axioms are not all independent.

It is quite easy to prove that axiom 20 is a
consequence of axiom 25 and that axiom 22 is entailed by axiom 23; and it is probable that there are further
dependencies.

20. One possible line of attack would be to introduce an alternative primitive, “region y is between regions x
and z” (see Tarski’s axiomatisation of geometry which uses a point based betweenness primitive [106]) and
deﬁne conv in terms of this primitive. Linking this primitive to Tarski’s point based betweenness relation may
provide a way to verify the completeness of the axiomatization.

21. In fact if we were allow regions which are neither ﬁnite nor co-ﬁnite (having a ﬁnite complement) this axiom

does not hold, so we get 18 possible reﬁnements of DR.

22. See also their chapter in [103] and [109, 108].

23. In his chapter of [103], Frank discusses the general question of ontologies from a consumer’s viewpoint.

24. Of course, this lattice allows certain kinds of reasoning involving subsumption and disjointness of relations to

be performed efﬁciently as noted in [94].

25. Use of the composition table can easily be generalised to handle the case where R1 and R2 are disjunctions of
relations taken from the set fRig — we just look up the compositions for all possible pairwise combinations
of the disjuncts involved in R1 and R2. [5] discusses various other uses and aspects of composition tables.
26. An interesting question is raised here: under what circumstances is this local consistency checking procedure
complete for determining the overall consistency of a set of ground facts, whose relations are constrained by
some axiomatic theory? It can be shown that, if a set of RCC8 relations is consistent wrt the RCC8 composition
table, then there is a topological model of the set of facts. However, [68] observe that if we constrain regions
to be planar and bounded by Jordan curves, an RCC relation set may have no such model, even though it is
consistent with the composition table. We have explored question of completeness of composition tables in
[10].

27. Our table coincides with that of [37], who built an eight relation calculus, which, although based on point set

topology, has many similarities to RCC8.

310

COHN, BENNETT, GOODAY AND GOTTS

28. Actually, in representing RCC relations in this way it is important to add for each region r an additional

entailment constraint » r which ensures that the region is non-null (see [6]).

29. This explains the term entailment constraint.

30. Complexity of reasoning about spatial relations is currently far less understood than the (at least superﬁcially)
similar domain of temporal relations. Allen’s set of thirteen (JEPD) qualitative relations between temporal
intervals [1, 2, 3] and the algebra generated from these relations have been quite extensively explored. The
NP-hardness of reasoning about arbitrary disjunctions of the temporal intervals was demonstrated by [111].
Ladkin has investigated the model theory of the relations and their representation within the framework of
relation algebra [79, 80]. A maximal tractable sub-algebra over the Allen relations has been identiﬁed by
[89].

31. A maximal tractable subset of disjunctive combinations of the RCC8 relations is identiﬁed in [98].

32. Note that the assumptions about what is continuous behaviour are quite sophisticated here:

imagine two
regions, one that is two piece and has one component that is an NTPP of the other region and a second
component which is DC from the other regions; thus the two regions are PO. If the component which was an
NTPP disappeared (a puddle drying in the sun?), then there would be an instantaneous transition from PO to
DC! However, we argue that becoming NULL is discontinuous.

33. Exceptions to this are pointed out and considered in [5].

34. We have also done some work on real time event recognition from image sequences, by means of qualitative

event descriptions; our initial work in this area is reported in [45, 47, 46].

35. Here ‘maximal’ can be stated in qualitative terms by saying that the region is not a proper-part of another sea

region which is also part of the convex-hull of the land region.

36. E.g. one might add an order of magnitude representation such as that in [93] or [84].

37. A newer, more principled implementation based on the transition calculus is described in [56].

38. Fig.19 reveals a subtle difﬁculty with our analysis of state transition. In the ﬁrst transition on the second row
the food particle crosses the boundary and touches the enzyme all in one step but in fact since the crossing of the
boundary happens instantaneously it must precede the coming together of enzyme and food. The distinction
between instantaneous and durative changes has been examined by [52]. One should also realise that because
the modelling is done in RCC8 without using conv, the model is not a very accurate representation of reality.

39. [71] has also presented a spatial calculus for similar purposes.

40. We termed this representation the the ‘egg-yolk’ calculus, for obvious reasons, and will meet it again when

describing an extension to RCC to handle regions with indeterminate boundaries below.

41. We are sceptical about the merits of ‘fuzzy’ approaches to indeterminacy, believing that their use of real
number indices of degrees of membership and truth are both counterintuitive and logically problematic. We
have no space to argue this controversial viewpoint here; see [43] and responses for arguments on both sides.
42. Note that we have addressed only the question of modelling indeterminate boundaries rather than indeterminate

43. We will use upper-case italic letters for variables ranging over OCregions. These are optionally crisp regions,

position.

which may be crisp or not.

44. The case of RCC8 is addressed in [26].

45. Each cluster of Fig.24 represents one of these conceptual neighbourhoods.

46. [15] have also produced a very similar analysis based on Egenhofer’s 9-intersection method, though they omit
two of the forty six relations, which they do not believe are possible in their domain. They apply their calculus
of regions with broad boundaries to a number of situations [16] including reasoning about discrete spaces,
convex hulls and minimum bounding rectangles.

47. [4] have provided a formal semantics for Clarke’s system.

References

1981.

1. Allen, J. F. “An interval-based representation of temporal knowledge,” Proceedings 7th IJCAI, pp. 221–226,

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

311

2. Allen, J. F. “Maintaining knowledge about temporal intervals,” Communications of the ACM, Vol. 26(11):

832–843, 1983.

3. Allen, J. F. “Towards a general theory of action and time,” Artiﬁcial Intelligence, Vol. 23(2): 123–154, 1984.
4. Asher, N. and Vieu, L. “Toward a geometry of common sense: A semantics and a complete axiomatization
of mereotopology,” Proceedings of the International Joint Conference on Artiﬁcial Intelligence (IJCAI-95),
Montreal,, 1995.

5. Bennett, B. “Some observations and puzzles about composing spatial and temporal relations,” in R. Rodr´iguez

(ed.), Proceedings ECAI-94 Workshop on Spatial and Temporal Reasoning, 1994a.

6. Bennett, B. Spatial reasoning with propositional logics, in J. Doyle, E. Sandewall and P. Torasso (eds),
Principles of Knowledge Representation and Reasoning: Proceedings of the 4th International Conference
(KR94), Morgan Kaufmann: San Francisco, CA, 1994b.

7. Bennett, B. “Modal logics for qualitative spatial reasoning,” Bulletin of the Interest Group on Propositional

and Predicate Logics (IGPL), 1995.

8. Bennett, B. The application of qualitative spatial reasoning to GIS, in R. Abrahart (ed.), Proc First Int. Conf.

on GeoComputation, Vol. I, Leeds, pp. 44–47, 1996a.

9. Bennett, B. Carving up space: steps towards construction of an absolutely complete theory of spatial regions,

in L. P. J.J. Alfres and E. Orlowska (eds), Proceedings of JELIA’96, pp. 337–353, 1996b.

10. Bennett, B., Isli, A. and Cohn, A. G. “When does a composition table provide a complete and tractable
proof procedure for a relational constraint language?” Proceedings of the IJCAI-97 workshop on Spatial
and Temporal Reasoning, Nagoya, Japan, 1997.

11. Biacino, L. and Gerla, G. “Connection structures,” Notre Dame Journal of Formal Logic, 1991.
12. Casati, R. and Varzi, A. Holes and Other Superﬁcialities, MIT Press: Cambridge, MA, 1994.
13. Clarke, B. L. “A calculus of individuals based on ‘connection’,” Notre Dame Journal of Formal Logic, Vol.

23(3): 204–218, 1981.

14. Clarke, B. L. “Individuals and points,” Notre Dame Journal of Formal Logic, Vol. 26(1): 61–75, 1985.
15. Clementini, E. and Di Felice, P. An algebraic model for spatial objects with undetermined boundaries, in
P. Burrough and A. M. Frank (eds), Proceedings, GISDATA Specialist Meeting on Geographical Entities
with Undetermined Boundaries,, Taylor Francis, 1994.

16. Clementini, E. and Di Felice, P. “Approximate topological relations,” International Journal of Approximate

Reasoning, 1997.

17. Clementini, E., Di Felice, P. and Oosterom, P. A small set of formal topological relationships suitable for
end user interatction, in D. Abel and B. C. Ooi (eds), Proc. 3rd Int. Symp. on Large Spatial Databases, SSD,
number 692 in LNCS, Springer, pp. 277–295, 1994.

18. Clementini, E., Sharma, J. and Egenhofer, M. J. “Modeling topological spatial relations: strategies for query

processing,” Computers and Graphics, Vol. 18(6): 815–822, 1994.

19. Cohn, A. G. “A more expressive formulation of many sorted logic,” Journal of Automated Reasoning, Vol.

3: 113–200, 1987.

20. Cohn, A. G. Modal and non-modal qualitative spatial logics, in F. D. Anger, H. W. Guesgen and J. van
Benthem (eds), Proceedings of the Workshop on Spatial and Temporal Reasoning, IJCAI-93, IJCAI, 1993.
21. Cohn, A. G.A hierarchcial representation of qualitative shape based on connection and convexity, in A. Frank

(ed.), Proc COSIT95, LNCS, Springer Verlag, pp. 311–326, 1995.

22. Cohn, A. G. Calculi for qualitative spatial reasoning, in J. P. J Calmet, J A Campbell (ed.), Artiﬁcial
Intelligence and Symbolic Mathematical Computation, Vol. 1138 of LNCS, Springer Verlag, pp. 124–143,
1996.

23. Cohn, A. G. and Gotts, N. M. “Spatial regions with undetermined boundaries,” Proceedings of Gaithesburg

Workshop on GIS, ACM, 1994a.

24. Cohn, A. G. and Gotts, N. M. A theory of spatial regions with indeterminate boundaries, in C. Eschenbach,

C. Habel and B. Smith (eds), Topological Foundations of Cognitive Science, 1994b.

25. Cohn, A. G. and Gotts, N. M. The ‘egg-yolk’ representation of regions with indeterminate boundaries, in
P. Burrough and A. M. Frank (eds), Proceedings, GISDATA Specialist Meeting on Geographical Objects
with Undetermined Boundaries, Francis Taylor, pp. 171–187, 1996a.

26. Cohn, A. G. and Gotts, N. M. A mereological approach to representing spatial vagueness, in J. D. L C Aiello
and S. Shapiro (eds), Principles of Knowledge Representation and Reasoning, Pro 5th Conference, Morgan
Kaufmann, pp. 230–241, 1996b.

27. Cohn, A. G., Bennett, B., Gooday, J. and Gotts, N. “Representing and reasoning with qualitative spatial

relations about regions,” in O. Stock (ed.), Temporal and spatial reasoning, Kluwer, 1997.

312

COHN, BENNETT, GOODAY AND GOTTS

28. Cohn, A. G., Gooday, J. M. and Bennett, B. A comparison of structures in spatial and temporal logics, in
R. Casati, B. Smith and G. White (eds), Philosophy and the Cognitive Sciences: Proceedings of the 16th
International Wittgenstein Symposium, H¨older-Pichler-Tempsky, Vienna, 1994.

29. Cohn, A. G., Gotts, N. M., Randell, D. A., Cui, Z., Bennett, B. and Gooday, J. M. “Exploiting temporal
continuity in temporal calculi,” in R. G. Golledge and M. J. Egenhofer (eds), Spatial and Temporal Reasoning
in Geographical Information Systems, Elsevier, 1997. To appear.

30. Cohn, A. G., Randell, D. A. and Cui, Z. “Taxonomies of logically deﬁned qualitative spatial relations,” Int.

J of Human-Computer Studies, Vol. 43: 831–846, 1995.

31. Cohn, A. G., Randell, D. A., Cui, Z. and Bennett, B. “Qualitative spatial reasoning and representation,” in
N. P. Carret´e and M. G. Singh (eds), Qualitative Reasoning and Decision Technologies, CIMNE, Barcelona,
pp. 513–522, 1993.

32. Cui, Z., Cohn, A. G. and Randell, D. A. Qualitative simulation based on a logical formalism of space and

time, Proceedings AAAI-92, AAAI Press, Menlo Park, California, pp. 679–684, 1992.

33. Cui, Z., Cohn, A. G. and Randell, D. A. “Qualitative and topological relationships in spatial databases,” in
D. Abel and B. C. Ooi (eds), Advances in Spatial Databases, Vol. 692 of Lecture Notes in Computer Science,
Springer Verlag, Berlin, pp. 293–315, 1993.

34. Davis, E., Gotts, N. M. and Cohn, A. G. “Constraint networks of topological relations and convexity,”

Technical report, Courant Institute, New York University, 1997.

35. de Laguna, T. “Point, line and surface as sets of solids,” The Journal of Philosophy, Vol. 19: 449–461, 1922.
36. Dornheim, C. “Vergleichende analyse topologischer ansaetze des qualitativen raeumlichen siessens,” Stu-

dienarbeit, fachereich informatik, Universitaet Hamburg, 1995.

37. Egenhofer, M. Reasoning about binary topological relations, in O. Gunther and H. J. Schek (eds), Proceedings
of the Second Symposium on Large Spatial Databases, SSD’91 (Zurich, Switzerland). Lecture Notes in
Computer Science 525, pp. 143–160, 1991.

38. Egenhofer, M. Topological similarity, Proc FISI workshop on the Toplogical Foundations of Cognitive
Science, Vol. 37 of Reports of the Doctoral Series in Cognitive Science, University of Hamburg, 1994.
39. Egenhofer, M. and Franzosa, R. “Point-set topological spatial relations,” International Journal of Geograph-

ical Information Systems Voo. 5(2): 161–174, 1991.

40. Egenhofer, M. J. and Al-Taha, K. K. Reasoning about gradual changes of topological relationships, in
A. U. Frank, I. Campari and U. Formentini (eds), Theories and Methods of Spatio-temporal Reasoning in
Geographic Space, Vol. 639 of Lecture Notes in Computer Science, Springer-Verlag, Berlin, pp. 196–219,
1992.

41. Egenhofer, M. J. and Franzosa, R. D. “On the equivalence of topological relations,” International Journal

of Geographical Information Systems, Vol. 9(2): 133–152, 1995.

42. Egenhofer, M. J., Clementini, E. and Di Felice, P. “Toplogical relations between regions with holes,” Int.

Journal of Geographical Information Systems, Vol. 8(2), 129–144, 1994.

43. Elkan, C. The paradoxical success of fuzzy logic, IEEE Expert, Vol. 9(4): 3–8, 1994. Followed by responses

and a reply.

44. Faltings, B. and Struss, P. (eds). Recent Advances in Qualitative Physics, MIT Press: Cambridge, Ma, 1992.
45. Fernyhough, J., Cohn, A. G. and Hogg, D. C. “Real time generation of semantic regions from video se-

quences,” Proc. ECCV96, LNCS, Springer Verlag, 1996.

46. Fernyhough, J., Cohn, A. G. and Hogg, D. C. Event recognition using qualitative reasoning on automatically

generated spatio-temporal models from visual input, 1997.

47. Fernyhough, J. H. Generation of qualitative spatio-temporal representations from visual input, PhD Thesis,

1997.

pp. 430–436, 1987.

48. Forbus, K., Nielsen, P. and Faltings, B. “Qualitative kinematics: A framework,” Proceedings IJCAI-87,

49. Frank, A. and Kuhn, W. (eds). Spatial Information Theory: a theoretical basis for GIS, Vol. 988 of Lecture

Notes in Computer Science, Springer Verlag, Berlin, 1995.

50. Frank, A. U. and Campari, I. (eds). Spatial Information Theory: A Theoretical Basis for GIS: Proceedigns

of COSIT’93, Vol. 716 of Lecture Notes in Computer Science, Springer-Verlag, 1993.

51. Freksa, C. “Temporal reasoning based on semi-intervals,” Artiﬁcial Intelligence, Vol. 54: 199–227, 1992.
52. Galton, A. “Towards a qualitative theory of movement,” in A. Frank and W. Kuhn (eds), Spatial Information
Theory — Proceedings of the international conference COSIT’95, number 998 in LNCS, Sorubger, Austria,
pp. 377–396, 1995a.

53. Galton, A. Taking dimension seriously in qualitative spatial reasoning, in W. Wahlster (ed.), Proceedings of

the 12th European Conference on Artiﬁcial Intelligence, John Wiley and Sons, pp. 501–505, 1996.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

313

54. Galton, A. P. “A critical examination of Allen’s theory of action and time,” Artiﬁcial Intelligence, Vol. 42(2):

55. Galton, A. P. A qualitative approach to continuity, Proc. Time, Space and Movement, Ch. Bonas, France,

159–188, 1990.

1995b.

56. Gooday, J. and Cohn, A. G. “Transition-based qualitative simulation,” Proceeding of the 10th International

Workshop on Qualitative Reasoning, AAAI press, pp. 74 – 82, 1996a.

57. Gooday, J. and Cohn, A. G. Visual language syntax and semantics: A spatial logic approach, in K. Marriott

and B. Meyer (eds), Proc Workshop on Theory of Visual Languages, Gubbio, Italy, 1996b.

58. Gooday, J. M. and Cohn, A. G. “Using spatial logic to describe visual languages,” Artiﬁcial Intelligence
Review, 1995. This paper will also appear in Integration of Natural Language and Vision Processing (Vol.
IV), ed P MckEvitt, Kluwer, 1996.

59. Gooday, J. M. and Galton, A. P. “The transition calculus: A high-level formalism for reasoning about action

and change,” Journal of Theoretical and Experimental Artiﬁcial Intelligence, 1996.

60. Gotts, N. M. Deﬁning a ‘doughnut’ made difﬁcult, in C. Eschenbach, C. Habel and B. Smith (eds), Topolog-
ical Foundations of Cognitive Science, Vol. 37 of Reports of the Doctoral programme in Cognitive Science,
University of Hamburg, 1994a.

61. Gotts, N. M. How far can we ‘C’? deﬁning a ‘doughnut’ using connection alone, in J. Doyle, E. Sande-
wall and P. Torasso (eds), Principles of Knowledge Representation and Reasoning: Proceedings of the 4th
International Conference (KR94), Morgan Kaufmann, 1994b.

62. Gotts, N. M. An axiomatic approach to topology for spatial information systems, Technical report, Report

96.25, School of Computer Studies, University of Leeds, 1996a.

63. Gotts, N. M. “Formalising commonsense topology: The INCH calculus,” Proc. Fourth International Sym-

posium on Artiﬁcial Intelligence and Mathematics, 1996b.

64. Gotts, N. M. Toplogy from a single primitive relation: deﬁning topological properties and relations in terms

of connection, Technical report, Report 96.23, School of Computer Studies, University of Leeds, 1996c.

65. Gotts, N. M. Using the RCC formalism to describe the topology of spherical regions, Technical report,

Report 96.24, School of Computer Studies, University of Leeds, 1996d.

66. Gotts, N. M. and Cohn, A. G., “A mereological approach to spatial vagueness,” Proceedings, Qualitative

Reasoning Workshop 1995 (QR-95), 1995.

67. Gotts, N. M., Gooday, J. M. and Cohn, A. G. A connection based approach to common-sense topological

description and reasoning, The Monist, Vol. 79(1): 51–75, 1996.

68. Grigni, M., Papadias, D. and Papadimitriou, C. Topological inference, in C. Mellish (ed.), proceedings of
the fourteenth international joint conference on artiﬁcial intelligence (IJCAI-95), Vol. I, Morgan Kaufmann,
pp. 901–906, 1995.

69. Grzegorczyk, “A. Undecidability of some topological theories,” Fundamenta Mathematicae, Vol. 38: 137–

70. Haarslev, V. “Formal semantics of visual languages using spatial reasoning,” Proceedings of the 11th IEEE

152, 1951.

Symposium on Visual Languages, 1995.

71. Haarslev, V. “A fully formalized theory for describing visual notations,” Proceedings of the AVI’96 post-

conference Workshop on Theory of Visual Languages, Gubbio, Italy, 1996.

72. Haarslev, V. and M¨oller, R. A qualitative spatial reasoner: progress report, in L. Ironi (ed.), Proceedings of

the 11th Symposium on Qualitative Reasoning, Tuscany, Italy, 1997.

73. Hayes, P. J. “Naive physics I: Ontology for liquids,” in J. R. Hobbs and B. Moore (eds), Formal Theories of

74. Hayes, P. J. “The second naive physics manifesto,” in J. R. Hobbs and B. Moore (eds), Formal Theories of

the Commonsense World, Ablex, pp. 71–89, 1985a.

the Commonsense World, Ablex, pp. 1–36, 1985b.

Intelligence, Springer-Verlag, 1994.

75. Hern´andez, D. Qualitative Representation of Spatial Knowledge, Vol. 804 of Lecture Notes in Artiﬁcial

76. Kahn, K. M. and Saraswat, V. A. Complete visualizations of concurrent programs and their executions,
Technical Report Tech. Rpt. SSL-90-38 [P90-00099], Xerox Palo Alto Research Centre, Palo Alto, California,
1990.

77. Kratochv´ıl, J. “String graphs ii: recognizing string graphs is NP-hard,” Journal of Combinatorial Theory,

78. Ladkin, P. “Time representation: A taxonomy of interval relations,” Proceedings AAAI-86, Morgan Kauf-

79. Ladkin, P. The Logic of Time Representation, PhD thesis, University of California, Berkeley. Kestrel Institute

Series B, Vol. 52: 67–78, 1991.

mann: Los Altos, pp. 360–366, 1986.

report KES.U.87.13, 1987.

COHN, BENNETT, GOODAY AND GOTTS

314

1994.

80. Ladkin, P. and Maddux, R. “On binary constraint problems,” Journal of the ACM, Vol. 41(3): 435–469,

81. Lehmann, F. and Cohn, A. G. “The EGG/YOLK reliability hierarchy: Semantic data integration using sorts
with prototypes,” Proc. Conf. on Information Knowledge Management, ACM Press, pp. 272–279, 1994.
82. Leonard, H. S. and Goodman, N. “The calculus of individuals and its uses,” Journal of Symbolic Logic, Vol.

5: 45–55, 1940.

83. Le´sniewski, S. O podstawack matematyki, Prezeglad Filosoﬁczny, 1927-1931.
84. Mavrovouniotis, M. and Stephanopoulos, G. “Formal order-of-magnitude reasoning in process engineering,”

Computers and Chemical Engineering, Vol. 12: 867–881, 1988.

85. McCune, W. Otter 2.0 users guide, Technical report, Argonne National Laboratory, Argonne, Illinois, 1990.
86. McKinsey, J. and Tarski, A. “The algebra of topology,” Annals of Methematics, Vol. 45: 141–191, 1944.
87. Mukerjee, A. and Joe, G. “ A qualitative model for space,” Proceedings AAAI-90, Morgan Kaufmann: Los

88. Nebel, B. “Computational properties of qualitative spatial reasoning: First results,” Procedings of the 19th

Altos, pp. 721–727, 1990.

German AI Conference, 1995a.

89. Nebel, B. “Reasoning about temporal relations: a maximal tractable subset of Allen’s interval algebra,”

Journal of the Association for Computing Machinery, Vol. 42(1): 43–66, 1995b.

90. Nerode, A. Some letcures on intuitionistic logic, in S. Homer, A. Nerode, R. Platek, , G. Sacks and A. Scedrov
(eds), Logic and Computer Science, Vol. 1429 of Lecture Notes in Mathematics, Springer-Verlag, pp. 12–59,
1990.

91. Nicod, J. Geometry in the Sensible World, Doctoral thesis, Sorbonne, 1924. English translation in Geometry

and Induction, Routledge and Kegan Paul, 1969.

92. Pratt, I. and Schoop, D. A complete axiom system for polygonal mereotopology of the plane, Technical

Report UMCS-97-2-2, University of Manchester, 1997.

93. Raiman, O. “Order of magnitude reasoning,” AAAI-86: Proceedings of the National Conference on AI,

pp. 100–104, 1986.

94. Randell, D. A. and Cohn, A. G. “Exploiting lattices in a theory of space and time,” Computers and Mathemat-
ics with Applications, Vol. 23(6-9): 459–476, 1992. Also appears in “Semantic Networks”, ed. F. Lehmann,
Pergamon Press, Oxford, pp. 459-476, 1992.

95. Randell, D. A., Cohn, A. G. and Cui, Z. “Computing transitivity tables: A challenge for automated theorem

provers,” Proceedings CADE 11, Springer Verlag, Berlin, 1992.

96. Randell, D. A., Cui, Z. and Cohn, A. G. “A spatial logic based on regions and connection,” Proc. 3rd Int.

Conf. on Knowledge Representation and Reasoning, Morgan Kaufmann, San Mateo, pp. 165–176, 1992.

97. Randell, D. and Cohn, A. Modelling topological and metrical properties of physical processes, in R. Brach-
man, H. Levesque and R. Reiter (eds), Proceedings 1st International Conference on the Principles of
Knowledge Representation and Reasoning, Morgan Kaufmann, Los Altos, pp. 55–66, 1989.

98. Renz, J. and Nebel, B. On the complexity of qualitative spatial reasoning: a maximal tractable fragment of

the Region Connection Calculus, in M. E. Pollak (ed.), Proceedings of IJCAI-97, 1997.

99. Schlieder, C. “Representing visible locations for qualitative navigation,” in N. P. Carret´e and M. G. Singh

(eds), Qualitative Reasoning and Decision Technologies, CIMNE: Barcelona, pp. 523–532, 1993.

100. Simons, P. Parts: A Study In Ontology, Clarendon Press: Oxford 1987.
101. Sklansky, J. “Measuring concavity on a rectangular mosaic,” IEEE Trans. on Computers, Vol. C-21(12):

1355–1364, 1972.

102. Smith, B. Ontology and the logistic analysis of reality, in Analytic Phenomenology, G. Haeﬂiger and P.M.

Simons, (Eds.), Kluwer Academic Publsihers: The Netherlands, 1994.

103. Stock, O. (ed.) Temporal and spatial reasoning, Kluwer, 1997.
104. Tarski, A. “Der aussagenkalk¨ul und die topologie [sentential calculus and topology],” Fundamenta Math-
ematicae, Vol. 31: 103–134, 1938. English translation in A. Tarski, Logic, Semantics, Metamathematics,
Oxford Clarendon Press, 1956.

105. Tarski, A. Foundations of the geometry of solids, Logic, Semantics, Metamathematics, Oxford Clarendon

Press, chapter 2. trans. J.H. Woodger, 1956.

106. Tarski, A. “What is elementary geometry?” in L. Brouwer, E. Beth and A. Heyting (eds), The Axiomatic

Method (with special reference to geometry and physics), North-Holland, Amsterdam, pp. 16–29, 1959.
107. Van Benthem, J. F. A. K. The Logic of Time, D. Reidel Publishing Company: Dordrecht, Holland, 1983.
108. Varzi, A. “Reasoning about space: the hole story,” Logic and Logical Philosophy, Vol. 4: 3–39, 1996a.

QUALITATIVE SPATIAL REPRESENTATION AND REASONING

315

109. Varzi, A. “Spatial reasoning in a holey world,” in P. Torasso (ed.), Advances in Artiﬁcial Intelligence,
Proceedings of the 3rd Congress of the Italian Association for Artiﬁcial Intelligence, number 728 in Lecture
Notes in Artiﬁcial Intelligence, Springer-Verlag, Berlin and Heidelberg, 326–336, 1996b.

110. Vieu, L. S´emantique des relations spatiales et inf´erences spatio-temporelles, PhD thesis, Universit´e Paul

Sabatier, Toulouse, 1991.

111. Vilain, M. and Kautz, H. “Constraint propagation algorithms for temporal reasoning,” Proceedings of the

5th AAAI conference, Philadelphia, 377–382, 1986.

112. Weld, D. S. and De Kleer, J. (eds). Readings in Qualitative Reasoning About Physical Systems, Morgan

Kaufman: San Mateo, Ca, 1990.

113. Whitehead, A. N. Process and Reality, The MacMillan Company: New York, 1929.
114. Worboys, M. F. and Bofakos, P. “A canonical model for a class of areal spatial objects,” in D. Abel and B. C.
Ooi (eds), Advances in Spatial Databases: Third International Symposium, SSD’93, Vol. 692 of Lecture
Notes in Computer Science, Springer-Verlag, 1993.

Anthony G. Cohn is Professor of Automated Reasoning the University of Leeds and leads a research
group with a particular focus on qualitative spatial reasoning. He holds B.Sc. and Ph.D. degrees from
the University of Essex where he studied under Pat Hayes. He now holds a number of grants in the
area, and has published widely. He has been Chairman of the UK AI Society AISB and also of the
European Coordinating Committee on AI.

Brandon Bennett is a Research Ofﬁcer at the School of Computer Studies at the University of Leeds.
He is a member of the Qualitative Spatial Reasoning group and is currently conducting researching
into representations and efﬁcient proof procedures for reasoning about spatial relations. Applications
of this work include Geographical Information Systems, speciﬁcation of the behavior of intelligent
artiﬁcial agents and Virtual World simulation. His ﬁrst degree was in Computer Science and Physics
and he has and MA in Philosophy.

John Gooday read Physics at University College London and studied Computing at Imperial College,
where he gained an M.Sc. After completing his Ph.D. in nonmonotonic reasoning about action and

COHN.  BENNETT,  GOODAY   AND  GOTTS

Nicoholas   Mark  Gotts,  a

3
1
6
c
h
a
n
g
e
 
a
t
 
t
h
e
 
U
n
i
v
e
r
s
i
t
y
 
o
f
 
E
x
e
t
e
r
,
 
h
e
 
j
o
i
n
e
d
 
t
h
e
 
Q
u
a
l
i
t
a
t
i
v
e
 
S
p
a
t
i
a
l
 
R
e
a
s
o
n
i
n
g
 
G
r
o
u
p
 
a
t
 
t
h
e
 
U
n
i
v
e
r
s
i
t
y
o
f
 
L
e
e
d
s
.
 
H
e
r
e
 
h
e
w
o
r
k
e
d
 
o
n
 
q
u
a
l
i
t
a
t
i
v
e
 
s
p
a
t
i
a
l
 
m
o
d
e
l
i
n
g
,
 
p
i
c
t
o
r
i
a
l
 
l
a
n
g
u
a
g
e
 
s
e
m
a
n
t
i
c
s
 
a
n
d
g
e
n
e
r
a
l
r
e
s
e
a
r
c
h
 
r
e
l
a
t
e
d
 
t
o
t
h
e
 
R
C
C
 
s
p
a
t
i
a
l
 
l
o
g
i
c
.
 
H
e
 
c
u
r
r
e
n
t
l
y
 
h
e
a
d
s
 
t
h
e
 
r
e
s
e
a
r
c
h
 
a
n
d
 
d
e
v
e
l
o
p
m
e
n
t
t
e
a
m
 
o
f
E
q
u
i
f
a
x
 
D
e
c
i
s
i
o
n
p
r
o
b
l
e
m
s
.
S
o
l
u
t
i
o
n
s
,
a
p
p
l
y
i
n
g
A
l
t
e
c
h
n
i
q
u
e
s
t
o
c
r
e
d
i
t
r
i
s
k
m
a
n
a
g
e
m
e
n
t
,
f
r
a
u
d
a
n
d
m
a
r
k
e
t
i
n
g
f
t
e
r
 
a
 
f
i
r
s
t
d
e
g
r
e
e
i
n
p
s
y
c
h
o
l
o
g
y
,
 
h
e
 
m
o
v
e
d
 
i
n
t
o
 
a
r
t
i
f
i
c
i
a
l
i
n
t
e
l
l
i
g
e
n
c
e
,
c
o
n
c
e
n
t
r
a
t
i
n
g
 
o
f
 
s
p
a
t
i
a
l
 
r
e
a
s
o
n
i
n
g
 
a
n
d
s
p
a
t
i
a
l
s
k
i
1
1
s
.
 
H
e
 
h
a
s
 
w
o
r
k
e
d
 
o
n
 
h
u
m
a
n
 
w
a
y
f
i
n
d
.
i
n
g
,
 
m
e
d
i
c
a
l
e
x
p
e
r
t
 
s
y
s
t
e
m
s
,
 
m
o
d
e
l
l
i
n
g
 
s
p
i
d
e
r
s
’
 
w
e
b
-
b
u
i
l
d
i
n
g
 
p
r
o
c
e
d
u
r
e
s
,
 
a
u
t
o
m
a
t
i
c
 
r
o
u
t
e
-
g
u
i
d
a
n
c
e
 
s
y
s
t
e
m
s
,
 
a
n
d
l
o
g
i
c
a
l
 
a
n
d
 
c
o
m
p
u
t
a
t
i
o
n
a
l
 
a
s
p
e
c
t
s
 
o
f
q
u
a
l
i
t
a
t
i
v
e
 
s
p
a
t
i
a
l
 
r
e
a
s
o
n
i
n
g
.
 
H
e
 
r
e
c
e
n
t
l
y
 
m
o
v
e
d
 
t
o
 
t
h
e
 
U
n
i
v
e
r
s
i
t
y
o
f
 
W
a
l
e
s
 
A
b
e
r
y
s
t
w
y
t
h
 
a
s
 
l
e
c
t
u
r
e
r
 
i
n
 
C
o
m
p
u
t
e
r
 
S
c
i
e
n
c
e
.
 
H
i
s
 
m
a
i
n
 
r
e
s
e
a
r
c
h
 
i
n
t
e
r
e
s
t
s
 
a
r
e
 
n
o
w
 
i
n
 
t
h
e
a
r
e
a
 
o
f
 
a
r
t
i
f
i
c
i
a
l
 
l
i
f
e
 
a
n
d
 
c
o
m
p
l
e
x
,
 
s
y
s
t
e
m
s
,
 
p
a
r
t
i
c
u
l
a
r
l
y
 
c
e
l
l
u
l
a
r
 
a
u
t
o
m
a
t
a
.
