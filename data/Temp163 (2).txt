Geoinformatica (2011) 15:417–434
DOI 10.1007/s10707-010-0108-1

The elements of probabilistic time geography

Stephan Winter · Zhang-Cai Yin

Received: 17 January 2010 / Revised: 7 March 2010 /
Accepted: 25 March 2010 / Published online: 13 April 2010
© Springer Science+Business Media, LLC 2010

Abstract Time geography uses space–time volumes to represent the possible lo-
cations of a mobile agent over time in a x–y–t space. A volume is a qualitative
representation of the fact that the agent is at a particular time ti inside of the
volume’s base at ti. Space–time volumes enable qualitative analysis such as poten-
tial encounters between agents. In this paper the qualitative statements of time
geography will be quantified. For this purpose an agent’s possible locations are
modeled from a stochastic perspective. It is shown that probability is not equally
distributed in a space–time volume, i.e., a quantitative analysis cannot be based
simply on proportions of intersections. The actual probability distribution depends
on the degree of a priori knowledge about the agent’s behavior. This paper starts with
the standard assumption of time geography (no further knowledge), and develops
the appropriate probability distribution by three equivalent approaches. With such a
model any analysis of the location of an agent, or relations between the locations of
two agents, can be improved in expressiveness as well as accuracy.

S. Winter (B)
Department of Geomatics, The University of Melbourne,
Victoria 3010, Australia
e-mail: winter@unimelb.edu.au

Z.-C. Yin
School of Resources and Environmental Engineering,
Wuhan University of Technology, Wuhan, Hubei, China
e-mail: yinzhangcai@163.com

Present Address:
Z.-C. Yin
Department of Geomatics, The University of Melbourne,
Victoria 3010, Australia

418

Geoinformatica (2011) 15:417–434

Keywords Time geography · Space–time–cone · Topological relations

1 Introduction

Tracking systems log sequences of discrete locations of mobile agents, technically be-
cause observations are always discrete, but more practically due to limited bandwidth
or database limitations. Locations of the mobile agents in between two consecutive
logged locations are frequently modeled by interpolation [14]. This approach leaves
some uncertainty about the location of agents between the logged locations, depend-
ing on the interpolation method, the degree of constraint movement, and the time
interval between two observations. A more rigorous approach to model the possible
locations of mobile agents is provided by time geography [15, 23, 24, 41], representing
and analyzing all possible locations of an agent in space and time in form of space–
time volumes. One of these volumes, the space–time cone, describes the potential
locations of an agent if its location is known only at one time. The other volume, a
space–time prism, describes the potential locations of an agent if its location is known
at two times. The space–time path describes the (known) locations of an agent over
time in form of a linear trajectory. Lifelines [18, 25] consist of any combination of
these volumes for tracking an agent over time. This means time geography analyzes
discrete (countable) geometries that can be volumetric.

Interesting operations in time geography are intersections of these volumetric
geometries. Since these operations are computationally expensive [8, 18, 25], they
are usually replaced by intersections of the projected geometries on the x–y-plane.
By this way time geography facilitates qualitative statements such as about potential
locations at a particular time, and potential encounters of agents. A quantification
of the results was, to our knowledge, never tried. Quantifications based on the
relative size of the intersections would be misleading, as such an approach ignores
the likelihoods of finding the agent at particular locations at particular times within
these intersections. We will demonstrate that these likelihoods do not follow an equal
probability distribution, hence proportions of intersections are meaningless. Instead,
the probability of finding an agent somewhere at a particular time ti depends on
factors such as their goal-orientation, or the regularity of their behavior. But even
a completely undirected random movement does not lead to an equal probability
distribution. As Pearson has summarized early findings on random walks: “The
lesson of Lord Rayleigh’s solution is that in open country the most probable place
to find a drunken man who is at all capable of keeping on his feet is somewhere
near his starting point!” [33, p. 342]. Thus, the hypothesis of this paper is three-fold:
(1) A probability distribution of agent locations in space–time volumes is non-equal,
(2) can be determined from a priori knowledge about the agent’s behavior, and (3)
knowing the probability distribution of an agent’s location over time can facilitate
quantitative analysis in time geography.

To prove this hypothesis this paper concentrates on space–time cones. Space–time
cones represent the case of a space–time modeler knowing nothing more about an
agent’s movements than a start location and a maximum speed. Drawing on a discrete
space–time aquarium [10], a probabilistic space–time cone will be introduced (Fig. 1).
Without loss of generality, the discrete probabilistic space–time cone approximates
the continuous probability distribution of the location of a mobile agent by any

Geoinformatica (2011) 15:417–434

419

Fig. 1 The probabilistic
space–time cone showing
different probability densities
of an agent’s locations over
time

appropriate resolution. Within this discrete volumetric model probability distribu-
tions will be derived by three approaches: (1) from a random walk simulation, (2)
from combinatorics, and (3) from convolution. All three approaches come to equiv-
alent results, supporting the hypothesis, part 1, for the limited case of space–time
cones (part 2). What is demonstrated here for a limited modeler’s knowledge, who
can only assume undirected movements, can be extended for directed movements,
which will be demonstrated for probabilistic space–time prisms in another paper.

Addressing the hypothesis, part 3, Section 4 develops the formula for quantitative
analysis with probabilistic space–time cones, and discusses their behavior. Questions
involving a quantification of likelihoods in time geography were not addressed
before, except a suggestion of fuzzy space–time volumes [30], an idea that was not
further developed in that paper. These questions would be of the kind: What is
the most probable arrival time of an agent A at a particular location B? Or what
is the probability that two agents A and B have met by ti? Or, if A searches at
t0 for a collision-free path in a populated environment, what is the safest path
alternative? These questions are relevant for applications such as search in rescue
and criminology, collision avoidance, or the estimation of arrival time of individual
agents.

Probabilistic time geography is based on several areas, among them (classical) time
geography and random walks.

2 Background

2.1 Time geography

Time geography [15, 24] addresses questions like: Given a location of a mobile agent
at t0, where is the agent at a later time ti > t0, or where was the agent at a previous
time ti < t0? Assuming the agent can move in any direction and is limited only by
a maximum speed vmax, time geography represents the reachable locations of this
agent by a right cone in x–y–t-space. The cone apex represents the agent’s location

420

Geoinformatica (2011) 15:417–434

at t0, and the aperture the maximum speed of the agent, such that a cone base b i
represents the set of locations the agent may settle at a time ti > t0 (Fig. 2a), or may
have settled at ti < t0 (Fig. 2b). If the agent’s location is known at t0 and then again
at tn, the possibly reachable volume is described by a cone with apex in t0, reduced
by the intersection with an inverse cone with an apex at tn. This space–time prism
[15] (sometimes called bead [18]) is straight if the agent returns at tn to the location
of the origin at t0 (Fig. 2c); otherwise it is oblique (Fig. 2d). The space–time path
is a degenerated space–time prism in form of a linear trajectory, and a stationary
space–time path as in Fig. 3b is called a space–time station. A parallel projection of a
space–time volume on the x–y-plane describes all places a moving agent can possibly
have reached and is called their potential path area. If the fundamental assumption of
isotropic space is limited by constraining movements along networks, Miller [24] has
shown how to map space–time volumes to network spaces, and extended this later to
anisotropic network space by including velocity fields [27].

To allow for temporal uncertainty—i.e., uncertainty on departure or arrival
time—or spatial uncertainty—i.e., uncertainty on departure or arrival location—
Neutens et al. [31] introduced rough space–time prisms. In this model based on
rough set theory [32], uncertainty defines a lower volume V and upper volume V
such that V is describing the space–time volume certainly accessible, and (cid:2)V =
V − V the volume possibly accessible. While this model is still qualitative, it already
differentiates three values at a base b i: true, false, and maybe. In this paper we will
further differentiate, and do so based on probability rather than on logic. Note that
Neutens et al. model the uncertainty of departure or arrival (time and location), while
we model the uncertainty about the agent’s movement decisions.

All such space–time volumes facilitate qualitative analysis, be it Boolean or
three-valued logic. Time geography is typically interested in the possible topological
relations of two agents a1 and a2 with known locations at t0 and a2 either a mobile
agent or a static object. Questions are, for example, whether a1 has possibly met by ti
the mobile agent a2 (Fig. 3a), or reached the static location a2 (Fig. 3b), respectively.
Such qualitative questions can be answered by testing whether the intersection of
their corresponding space–time volumes is empty or not. Computationally cheaper
is the evaluation of projections, such as the analysis at the particular time ti. The
cone base b i at ti represents the uncertainty about an agent’s location at ti, hence,
for the analysis at ti one can apply the usual relational calculi for extended objects:
the 4-intersection model [9], or the region connection calculus [36]. Even extensions
of these calculi for uncertain objects exist [6, 7, 31, 47]. The qualitative statements
derived from these calculi have to consider the point-like nature of the agents, such
that 2-dimensional topological relationships of space–time volume bases have to be
mapped onto qualitative likelihoods (impossible, possible) of the only distinguishable
0-dimensional relationship, meet.

Fig. 2 Traditional space–time
volumes

Geoinformatica (2011) 15:417–434

421

Fig. 3 Time geographic
analysis: potential meetings

Uncertain locations gain interest in moving object databases research. Typically
these uncertain locations are modeled by discrete bases of space–time volumes. For
example, [34] calculates the elliptic base of a space–time prism to model uncertainty,
and others formulate the constraints of time geography to enable queries to dis-
tinguish between conditions that must hold and those that may hold in movement
uncertainty [17, 40]. The latter is particularly useful to manage the uncertainty in
updating policies [48]. With uncertain object locations analysis based on distances
from moving objects is affected, such as nearest-neighbor queries [19, 21, 45].
We will introduce later basic analysis operators considering the quantification by
probabilities to meet agents at certain locations.

2.2 Location prediction of moving agents

The basic argument in this paper is that unknown movements of agents can be
modeled as random walks. Then a large number of random walks would provide
probability distributions of an agent being at a particular time at a particular location.
The related work is discussed here.

A random walk is a sequence of random steps. Unbiased random walks ap-
proximate for example continuous diffusion processes such as Brownian motion.
Biased random walks follow a trend, a direction superimposed by random decisions.
Biased random walks have not found much attention in the literature. Human agents
move less randomly assuming rational behavior (Pearson’s drunken person men-
tioned above might be an exception). Rational behavior typically comes with goal
orientation, heuristics in wayfinding, and optimization of paths, although people’s
wayfinding behavior is also regular and habitual [4, 13, 38]. Human wayfinding may
appear more random when people stroll, i.e., move without a particular goal in
mind, and also as the average behavior of a large number of goal-oriented agents,
or perhaps even the goal-directed behavior of an agent over large time spans.

This paper starts out to design a probabilistic time geography with unbiased
random movements. In this respect, it does not assume a goal orientation (a bias)
of the agents, or it simply does not know about a bias and cannot assume anything
better than an unbiased movement. Goal orientation, or modeling the movement by
biased random walks, will be developed in another paper. A bias can easily brought
in by biased transition probabilities, say, towards the destination of a space–time
prism.

It is broadly accepted to model the behavior of large numbers of mobile agents by
random walks. For example, random walks can be used to simulate large numbers
of mobile agents to study higher order patterns such as flocking behavior, crowding,
queuing or congestions of agents [3, 20, 22]. Note that, depending on the amount
of a priori knowledge about the individuals and their behavior, simulation can also

422

Geoinformatica (2011) 15:417–434

go beyond random walking models; traffic simulation, for example, takes origin–
destination matrices or activity-based destination models and assumes shortest path
travels [2, 28, 46]. In turn, sensor network research deploys random walks to establish
a population of mobile sensor nodes that then can be studied for their ad hoc
communication behavior [5].

In contrast to studying large numbers of agents, the present paper simulates by
random walks the many wayfinding options a single agent has during a period of time.
Large numbers of random walk simulations provide frequencies of visited places at
particular times, which can be normalized to probabilities of finding an individual
agent at a particular time at a particular location. An alternative approach to derive
this spatial and temporal probability distribution would be by machine learning from
collected travel data [16].

Random walks are treated in this paper in discrete space and time. Only then one
can expect probabilities of agents at particular locations larger than zero (the integral
of a probability distribution over a point is always zero). Polya has shown for infinite
random walks in one- and two-dimensional discrete space that the likelihood of an
agent returning to the origin (or, equivalently, reaching any other particular point in
space) is one [35]. In contrast, this paper is interested in finite time spans only, as they
occur in time geography, and hence, we will get probabilities of an agent reaching a
particular location that are smaller than one.

While this paper concentrates on motion prediction over longer time periods (or
larger time budgets), short term motion prediction is bound to physical constraints.
A popular method for short term motion prediction is Kalman filtering [12]. The
Kalman filter is a recursive estimation procedure based on the recent observations
of location, bearing, and speed of the agent, and assuming that an agent is moving
with linear change of speed. In contrast, in this paper we do not limit ourselves to
short term predictions. Also, with coarser temporal resolution one can no longer
assume linear extrapolation. Accordingly, we will allow any jump in direction and
speed between two time instances for our agent.

3 Uncertainty of location

This section will introduce a random walk in a discrete space–time aquarium, and
then develop three approaches of computing probabilistic space–time cones from
random walks.

Assume an isotropic discrete space–time aquarium that is regularly partitioned
into voxels of (cid:2)x, (cid:2)y and (cid:2)t. Assume an agent moving in this aquarium, starting
at t0 from a known location (x0, y0), and ending at tn after n time steps of a priori
unknown movements. The discrete steps of the agent are limited by its maximum
speed vmax. Assume a discrete vmax, which can be realized for example by choosing a
suited temporal resolution (cid:2)t. For simplicity, let us assume vmax = 1, and a distance
measure in the x–y-plane realized by 4-neighborhood (von Neumann neighborhood).
Thus, in one step the agent can move to the South, North, West, or East neighbor of
its actual location, or it can stay where it is (Fig. 4). Then a random walk consists of a
sequence of a pair of actions: a move according to the actual heading, and a random
assignment of a new heading. This random assignment should be unbiased because
no prior knowledge of the agent’s goal, preferences or behavior exists (Fig. 2a).

Geoinformatica (2011) 15:417–434

423

Fig. 4 One random walk of
vmax = 1 in discrete
space–time between t0 and t3

In the following sections three approaches will be discussed to calculate the
probability distribution of the location of an agent at any time t0 ≤ ti ≤ tn: by
simulation, by combinatorics, and by convolution. All these approaches provide
equivalent models of a probabilistic space–time volume (such as Fig. 1), but differ
in their computational complexity.

3.1 Simulation approach

Random walks can easily be constructed in the discrete space and time of cellular
automata [39], essentially forming a discrete Markov chain with state space and
transition probabilities. Cellular automata are nonlinear dynamical systems [29].
According to [44], a cellular automaton a can be represented by a set of states S,
a set of transition rules T, and a set of neighboring automata N, a ∼ (S, T, N). The
transition rules define the automaton’s state sa
i at a time instance ti based on the
i−1, n ∈ N. Basic cellular automata
previous states of itself, sa
are defined on a regular square partition of space, and choose a fix neighborhood,
such as 4-neighborhood (von Neumann) or 8-neighborhood (Moore).

, and its neighbors, sn

i−1

Adopting [11, 39] for our purpose, basic cellular automata applying the 4-
neighborhood realize a random walk by a set of states S = {0 . . . 5}, such that s = 0
means the cell is empty; s = 1 means the cell is settled by an agent that is heading
towards North; s = 2 means the cell is settled by an agent that is heading towards
East; and so on, until s = 5 means the cell is settled by an agent that is planning to
stay in the next time interval. The corresponding set of transition rules T is: (1) If at
ti a cell is empty (s = 0) do nothing; (2) if at ti a cell is settled with an agent of state
s = 5, then update its status by assigning randomly a new heading from {1 . . . 5}; (3) if
at ti a cell is settled with an agent of state 1–4, then relocate the agent to the cell it is
heading to and update its status by assigning randomly a new heading from {1 . . . 5}.
To initialize a random walk simulation at t0, all cells are set empty except the one in
the center of the space that has a random status between 1 and 5.

For example, Fig. 5 presents the base of a space–time cone created by 100
concurrent random walkers (black spots) over 200 iterations, who all started in
the apex of the cone. The total explored area is shown in grey. The figure was

424

Geoinformatica (2011) 15:417–434

Fig. 5 100 random walks of
200 steps; black cells show the
end locations of the agents,
gray cells show previously
visited locations

computed by a Swarm simulation provided online by the Complexity Virtual Lab,
Monash University. This tool allows to set a probability of the agents changing their
directions. This probability was set here to 80%, according to the five possible states
of which one is the current one. Unfortunately the simulation shows us only visited
places, but no frequencies of visits.—Note that the radius of the cone base after 200
iterations is 200, and is much larger than the total explored area in Fig. 5. This means
it is unlikely that an agent reaches outer areas of the base. Even in the explored area
the density of agents varies, with the highest probability to find an agent in the center.
To find frequencies, let us again consider m random walks of length n of an agent
in this space–time aquarium, m (cid:5) n. Now for each cell in the aquarium, register
the frequency of being visited. These frequencies provide a discrete probability
distribution for each time ti by norming the frequencies in the base b i = b (ti).
For continuous movements (Brownian motion, Wiener process) the distribution
is expected to be normal. In the present discrete version the distribution is 2-
dimensional multinomial with k = 5 possible outcomes.

Simulation with basic cellular automata yields a physical explanation for a prob-
ability distribution. For example, it is impossible ( p = 0) that an agent is outside
its space–time cone base at any time, and for t (cid:5) t0 it is unlikely that an agent is
somewhere on the boundary of the base.

Such a simulation is a rigid abstraction of reality. It is restricted in the number
of directions to move, in the speed to move, in the space to move, and it assumes
that the directions are all alike (isotropy). The first restriction can be overcome by
introducing more states and transition rules. The second one is interesting only if the
agent can move with various speeds, and this again can be included by more states
and rules. Movement can actually be constrained to network space, which again can
be reflected in a modification of the model. The last point can be addressed by a
modification of the random function, bringing in a bias, a case we referred to another
paper.

Geoinformatica (2011) 15:417–434

425

3.2 Combinatorial approach

Another approach to think about random walks and probabilities of settling at parti-
cular places comes from combinatorics, studying the number of possible paths to
reach each cell at tn. The number of possible paths provides a frequency distribution.
Figure 6 shows an agent at a particular location at time t0. This agent is able to
move maximally one grid position within one time interval (vmax = 1). This means
the agent can take only one path from its actual location to p1 at t2. In contrast, a
total of five paths exist to p2 at t2, i.e., the probability of finding the agent at t2 at p2
if five times higher than at p1.

For a formalization, it is useful to start with one-dimensional space over time
(Fig. 7). Here the number of possible paths is given by the trinomial triangle: For
level i, the values represent the coefficients of (1 + x + x2)i. The triangle can be
determined by summing the values of the direct predecessor, and its left and right
neighbor. Among the multiple ways of computing the trinomial coefficients there
are direct and recursive formulas [1].

Extended to the two-dimensional discrete space–time aquarium, the result is a
pyramid. A value at level ti of the pyramid is determined by summing the values
of five predecessors at ti−1: the value itself and its four neighbors. Figure 8 shows
quarters of the pyramid levels of t0 to t3. To our knowledge this pyramid has not
been considered in combinatorics so far, although we expect that again a recursive
computation can be formulated.

The values, normalized for each level, are equivalent the probability that a random
walk passes this location. A recursive computation is of order n3 for the frequencies,
and linear for normalization, hence, O(n3).

3.3 Computation by convolution

Another approach that computes only the distribution, but not the individual random
walks, is by convolution. Convolution, or discrete linear spatial filtering of a field a
by a kernel h, can be expressed by:

b x,y = ax,y ⊗ h =

hi, j ax−i,y− j

(1)

∞(cid:2)

∞(cid:2)

i=−∞

j=−∞

Fig. 6 Over two time steps, a
mobile agent can travel only
one route to p1, but five routes
to p2

426

Geoinformatica (2011) 15:417–434

Fig. 7 The number of possible
paths in a one-dimensional
discrete space over three time
intervals

with b the resulting filtered spatial field. In this most general expression, the neigh-
borhood of a focal point (x, y) is unlimited (−∞ . . . ∞), but in practical applications
its area of influence can be limited to a small neighborhood, supported by Tobler’s
law: “Everything is related to everything else, but near things are more related than
distant things.” [42, p. 236]. A typical size of a kernel is only 3 × 3, describing the
neighborhood from (x − 1, y − 1) to (x + 1, y + 1). This kernel has a radius of d = 1.
In the present context the neighborhood is even physically limited to d = 1, by the
maximum speed vmax of the agent. The kernel reflecting the above described discrete
random walk is:

Applied recursively on a unit impulse function at (x0, y0) (the agent’s location at t0)
one gets directly the results of Fig. 8: frequencies of visits. Using instead a normalized
kernel:

⎡

⎣

⎤

⎦

0 1 0
1 1 1
0 1 0

h =

h(cid:8) = 1
5

h =

⎡

⎣

⎤

⎦

0.0 0.2 0.0
0.2 0.2 0.2
0.0 0.2 0.0

(2)

(3)

provides probabilities directly. For example, the probability for an agent to stay
between t0 and t1 in (x0, y0) is 0.2. Figure 9 shows the first two convolution steps,
where the intensity in grey is proportional to the probability value.

In contrast to typical applications in signal processing, the convolution has to
be computed here only locally, in the neighborhood of the moving agent, and not
for the full space considered. For this purpose time geography allows to compute a

Fig. 8 The levels of the possible route pyramid from t0 (left) until t3 (right)

Geoinformatica (2011) 15:417–434

427

Fig. 9 The probability
distribution of locations of a
mobile agent at two sequential
time steps

priori the volume to be convoluted [37]. The space–time volume of a moving agent
can be approximated by a discrete cylinder of n temporal layers and a radius of
n vmax. In fact, this cylinder approximating a space–time cone contains still about
75% empty cells. Thus, a recursive formulation of the convolution is applied to avoid
computations for empty cells. For an agent at t0 being located at (x0, y0) the space–
time cone between t0 and tn consists of n + 1 layers computed by:

(cid:7)

cx,y,k =

0
cx,y,k−1 ⊗ h(cid:8) else

if |x − x0| > k ∨ |y − y0| > k

(4)

This means computational complexity is a function of time only, more precisely,
of the n time intervals for which a cone is computed. For each time step k the
convolution computes (2k + 1)2 new values, i.e., O(n2). Also biased convolutions
can be formulated, which requires adaptations to Eqs. 3 and 4; we refer to the other
paper for details. Overall, compared to the simulation or combinatorial approach,
convolution turns out to be more transparent with respect to normalization and
biasing.

3.4 Learning from collected travel data

While the theoretically derivations of probability distributions for the locations of a
mobile agent (Sections 3.1–3.3) all lead to equivalent results, the applicability of the
assumptions made, especially the random movement behavior, can only be tested
from large scale travel data. Since such a test is always dependent on the context of
the collected travel data, no general insights can be found from testing other than
that remaining differences must be the result of the particular context of the data.
The most relevant aspect of context is intentionality: (most) collected travel data
concerns directed movements, and hence, should be discussed together with biased
random walks.

4 Reasoning with uncertain location

Up to now time geography makes binary statements. For example, at a time ti > t0
a moving agent is within a space–time cone originating in its position at t0; it is not
outside. Or if space–time cones of two moving agents intersect from ti < tn these

428

Geoinformatica (2011) 15:417–434

two agents can have met between ti and tn; otherwise they cannot [26]. With rough
space–time volumes, Neutens et al. [31] have extended the binary to a three-valued
reasoning (‘certainly accessible’, ‘possibly accessible’, ‘certainly not accessible’).
However, the probabilistic extension of time geography enables to revisit the analysis
operations of time geography, facilitating a refinement of queries as well as results.
This section will explore this potential exemplarily; a thorough design of an algebra
with probabilistic space–time cones is beyond the scope of this paper.

4.1 Meetings at time tk

Queries regarding the likelihood that two agents meet at a time tk, 0 ≤ k ≤ n, have
to be based on an agreed semantics of ‘meeting’. We say two agents meet if they are
both found at a time tk at the same location lx,y, which can be written in short as a cell
in the discrete space–time aquarium: lx,y,k. I.e., the semantics of ‘meeting’ depends
on the granularity of locations, or the spatial and temporal extensions of the cells.
We also do know that two agents C and D can only meet in the overlapping area
of their two space–time cones c and d (Fig. 12). These areas cover multiple possible
meeting locations at tk, Lk, such that:
(cid:8)

Lk =

(lx,y,k ∈ ck ∩ dk)

The trivial query with a probabilistic cone is: “What is the probability of an agent
C being at the location lx,y at time tk?” In terms of map algebra [43], this query can
be answered by a local operation, extracting cx,y,k from the cone:

P(C ∈ (x, y, k)) = cx,y,k

For example, Fig. 10 (left) illustrates the probability of the agent to be at (x0, y0)
over time, from t0 to t10 (at t0 the probability is 1 since we know that agent started
from here). Note that the values were actually computed by a continuous normal
distribution, hence, small deviations from the discrete convolution are visible, but the
overall behavior is present. On the right, the probability is shown for an ex-center
space–time station. In both cases, values converge quickly towards 0, according to
expectations.

(5)

(6)

Fig. 10 Probabilities over time to be at the space–time station (x0, y0) (left, starting with 1 because
this is the known origin of the agent), and to be at an ex-center space–time station (right)

Geoinformatica (2011) 15:417–434

429

(7)

Generalizing to a zonal query, we can also ask: “What is the probability of an
agent C being in locations Z at time tk, with Z k being any subset of the cone base at
tk?” This query can be answered by a zonal operation, the integral over all locations
l ∈ Z k:

P(C ∈ (Z k)) =

cx,y,k

(cid:2)

l∈Z

Also reasoning between the movements of two agents can be considered, e.g.:
“What is the probability of the mobile agents C and D meeting in lx,y at tk?” This
query corresponds to the joint probability P(C ∈ (x, y, k) ∩ D ∈ (x, y, k)), which
for independent movements of C and D can be computed by the product P(C ∈
(x, y, k)) · P(D ∈ (x, y, k)), or simply cx,y,k · dx,y,k if c represents the space–time cone
for C and d for D:

P(C ∈ (x, y, k) ∩ D ∈ (x, y, k)) = cx,y,k · dx,y,k

(8)

Similarly, a zonal query based on the movements of two agents can be considered,
e.g.: “What is the probability of the mobile agents C and D meeting somewhere in
Z , Z ⊆ Lk at time tk?” The zone Lk where the two agents can meet at tk is shown in
Fig. 11 (Eq. 5). Let us denote the number of locations in Z by m, m = |Z |, and call
the event of a meeting E, such that:

E(C ∈ (xi, yi, k) ∩ D ∈ (xi, yi, k), 1 ≤ i ≤ m) =

E(xi, yi, k)

(9)

According to probability theory, the probability of the meeting event for two agents
follows just as:

P(E(C ∈ (xi, yi, k) ∩ D ∈ (xi, yi, k), 1 ≤ i ≤ m)) = P(

E(xi, yi, k))

(10)

(cid:8)

i=1...m

(cid:8)

i=1...m

which in turn computes as:

(cid:9)

(cid:8)

i=1...m

P

E(xi, yi, k)

=

P(E(xi, yi, k))

(cid:10)

m(cid:2)

i=1
m(cid:2)

i=1

=

(cxi,yi,k · dxi,yi,k)

(11)

(12)

Fig. 11 Two agents, shown by
their cone bases at tk, can meet
in the cells of the intersecting
area

430

Geoinformatica (2011) 15:417–434

Fig. 12 Meeting probabilities
over time. The agents have a
maximum speed of 1 unit per
time interval, and are initially
20 units apart, so the first 10
seconds they do not meet at
all. Small values are a result of
joint probabilities

The following example is based on two agents’ movements represented by identical
kernels with 4-neighborhood according to Eq. 3, over 200 time steps, and with an
initial situation of the two agents being 20 units apart. Figure 12 illustrates the
probability of the agents meeting at each time step. Since the agents, traveling with a
maximum speed of 1 unit per time interval, and initially being 20 units apart, cannot
meet the first 10 time intervals, the probability is 0 in the beginning, but then rises
quickly. However, after some time the probability decreases again.

4.2 Meetings by time tk

Questions about temporal ranges, such as: “What is the probability of an agent
having reached location lx,y by tk?”, can be answered by cumulative probabilities,
or
t=0...k cx,y,t. Figure 13 shows the cumulative probability of Fig. 12, i.e., of the

(cid:11)

Fig. 13 The (cumulative)
probability of two agents
meeting by time tk

Geoinformatica (2011) 15:417–434

431

probability of a meeting at each time step. Basically it computes the sum of the
meeting probabilities over the whole intersection of the two space–time cones.

5 Discussion and conclusions

This paper has presented first steps into a probabilistic time geography, or more
generally into a quantitative time geography. It addresses questions such as how
likely it is to find an agent in a particular area, or how likely it is that two agents
meet. The paper has clearly shown that the probability distribution of finding an
agent within a space–time volume is non-equal. This is an important result, because
it disqualifies any attempt to quantify by relative sizes of intersections.

The paper also discusses the importance of sufficient a priori knowledge about the
agent’s behavior. Different behavior forms significantly different probability distrib-
utions. For this paper, an agent’s movement behavior was assumed to be unbiased.
Unbiased movement can be assumed for example for an average behavior from a
large number of independently moving agents, but also for a strolling agent without
a particular goal, or perhaps even for an agent with goal-directed movements over
longer time spans. Unbiased movement is well captured by the a priori knowledge
expressed by the parameters of classic space–time cones: known is only the location
of an agent at a time t0, and their maximal speed vmax (and nothing else needs to be
known).

In general, however, goal-directed behavior violates these assumptions, and
hence, goal-directed movements are not well described by the presented probability
distribution. If the modeler knows about the goals, this additional a priori knowledge
can be brought in by biasing the transition probabilities and changing by that way
the probability distribution. These extensions are mentioned, but their development
are beyond the scope of the paper. One particular additional knowledge well-known
in classical time geography is the space–time prism, adding to the knowledge of a
modeler a (at least intermediate) goal of an agent, and the time when the agent was
observed at this goal. In another paper we will study the form of the probability
distribution for such a biased movement. It is clear that any of these extensions leads
also to non-equal probability distributions.

The presented method is derived from theory. While it does not need an experi-
mental validation, the paper refers to some experimental evidence of its applicability.
The presented model lays the foundations for a large number of future questions.
Among these are a further refinement of the probabilistic cone model for different
types of environments or different agent behaviors, the completion of the cone
to a probabilistic space–time prism, and the further development of reasoning
mechanisms with these probabilistic space–time volumes.

Ref inement of the probabilistic cone model The current model is based on a regular
isotropic grid-shaped network. It is clearly worth to overcome these simplifying
assumptions. First, the grid can be anisotropic. With clutter in the environment, some
nodes may be impossible to be visited. Other nodes (‘space–time stations’) may form
attractions and have higher probabilities of being visited. Second, the network to be
modeled can have irregular shape instead of a regular grid. Then the combinatorial

432

Geoinformatica (2011) 15:417–434

node-based computation of probabilities has to be changed to one that considers true
lengths of edges, and is capable of dynamically segmenting the irregular network.

Completion of the cone to a space–time prism Up to now all directions are consid-
ered equally likely for an agent’s move (Eq. 2), due to no better previous knowledge.
Thus, the computations so far are sufficient to replace traditional space–time cones
by probabilistic ones. But if a general heading of the agent is known, i.e., if an
adequate tracking frequency reveals a (traditional) space–time prism, the assignment
of assignment of values to the convolution kernel k has to be adapted to this
knowledge. The reasoning behind, and the theory for probabilistic space–time prisms
will be developed in a future paper.

Development of probabilistic reasoning mechanisms The above demonstrated po-
tential for probabilistic reasoning needs to be explored in depth. Especially the
reasoning methods Neutens et al. apply [30] for fuzzy space–time volumes can be
investigated. With fuzzy representations being rather a (semantic) generalization of
probabilistic representations, their algorithm should be applicable in a probabilistic
environment, and get more meaningful.

Acknowledgements This work has been supported by grants of the Australian Academy of Science
and the Australian Research Council (DP0878119).

References

1. Andrews GE (1990) Euler’s “exemplum memorabile inductionis fallacis” and q-trinomial

coefficients. J Am Math Soc 3(3):653–669

2. Axhausen KW, Frei A, Ohnmacht T (2006) Networks, biographies and travel: ﬁrst empirical and
methodological results. In: 11th international conference on travel behaviour research, Kyoto,
Japan, p session 4.8

3. Batty M (2003) Agent-based pedestrian modelling. In: Longley PA, Batty M (eds) Advanced

spatial analysis. ESRI Press, Redlands, pp 81–106

4. Bovy PHL, Stern E (1990) Route choice: wayfinding in transport networks. Kluwer, Dordrecht
5. Camp T, Boleng J, Davies V (2002) A survey of mobility models for ad hoc network research.

Wirel Commun Mob Comput 2(5):483–502

6. Clementini E, Di Felice P (1996) An algebraic model for spatial objects with indeterminate
boundaries. In: Burrough PA, Frank AU (eds) Geographic objects with indeterminate bound-
aries, ESF GISDATA, vol 2. Taylor & Francis, pp 155–169

7. Cohn AG, Gotts NM (1996) The ‘egg-yolk’ representation of regions with indeterminite bound-
aries. In: Burrough PA, Frank AU (eds) Geographic objects with indeterminate boundaries,
vol 2. Taylor & Francis, London, pp 171–187

8. Egenhofer M (2003) Approximations of geospatial lifelines. In: Bertino E, Floriani Ld (eds)

SpaDaGIS workshop on spatial data and geographic information systems, Milano, Italy

9. Egenhofer MJ, Herring JR (1991) Categorizing binary topological relationships between regions,
lines, and points in geographic databases. Technical report, Department of Surveying Engineer-
ing, University of Maine

10. Forer P (1998) Geometric approaches to the nexus of time, space, and microprocess. In:
Egenhofer M, Golledge RG (eds) Spatial and temporal reasoning in geographic information
systems. Oxford University Press, New York, pp 171–190

11. Gaylord RJ, Nishidate K (1996) Modeling nature – cellular automata simulations with mathe-

12. Gelb A (ed) (1974) Applied optimal estimation. MIT Press, Cambridge
13. Golledge RG, Stimson RJ (1997) Spatial behavior: a geographic perspective. The Guildford

matica. Springer, New York

Press, New York

14. Güting RH, Schneider M (2005) Moving objects databases. Elsevier, Amsterdam

Geoinformatica (2011) 15:417–434

433

15. Hägerstrand T (1970) What about people in regional science? In: Papers of the regional science

association, vol 24, pp 7–21

16. Handley S, Langley P, Rauscher F (1998) Learning to predict the duration of an automobile trip.
In: Proceedings of the fourth international conference on knowledge discovery and data mining.
AAAI Press, New York, pp 219–22

17. Hendricks M, Egenhofer M, Hornsby K (2003) Structuring a Wayfinder’s dynamic space-time
environment. In: Kuhn W, Worboys M, Timpf S (eds) Spatial information theory. Lecture notes
in computer science, vol 2825. Springer, Berlin, pp 75–92

18. Hornsby K, Egenhofer M (2002) Modeling moving objects over multiple granularities. Ann Math

Artif Intell 36(1–2):177–194

19. Huang YK, Chen CC, Lee C (2009) Continuous k-nearest neighbor query for moving objects

with uncertain velocity. GeoInformatica 13(1):1–25

20. Jeanson R, Blanco S, Fournier R, Deneubourg JL, Fourcassie V, Theraulaz G (2003) A model

of animal movements in a bounded space. J Theor Biol 225(4):443–451

21. Kriegel HP, Kunath P, Renz M (2007) Probabilistic nearest-neighbor query on uncertain ob-
jects. In: Kotagiri R, Krishna PR, Mohania M, Natajeewarawat E (eds) Advances in databases:
concepts, systems and applications, vol 4443. Springer, Berlin, pp 337–348

22. Laube P, Dennis T, Forer P, Walker M (2007) Movement beyond the snapshot: dynamic analysis

of geospatial lifelines. Comput Environ Urban Syst 31(5):481–501

23. Lenntorp B (1976) Paths in space–time environments. A time-geographic study of movement
possibilities of individuals. Lund studies in geography, vol 44. Institutionen för Kulturgeografi
och Ekonomisk Geografi, Lund University, Lund, Sweden

24. Miller HJ (1991) Modeling accessibility using space–time prism concepts within geographical

information systems. Int J Geogr Inf Sci 5(3):287–301

25. Miller HJ (2005) A measurement theory for time geography. Geogr Anal 37(1):17–45
26. Miller HJ (2005) Necessary space-time conditions for human interaction. Environ Plan B

32(3):381–401

99(1):49–75

27. Miller HJ, Bridwell SA (2009) A field-based theory for time geography. Ann Assoc Am Geogr

28. Nagel K (2003) Multi-agent transportation simulations. Draft of a book. Institute for Scientific

Computing, Department of Computer Science, ETHZ

29. von Neumann J (1966) Theory of self-reproducing automata. University of Illinois Press, Urbana
30. Neutens T, Witlox F, Demaeyer P (2007) Individual accessibility and travel possibilities: a
literature review on time geography. European Journal of Transport and Infrastructure Research
7(4):335–352

31. Neutens T, Witlox F, Van de Weghe N, De Maeyer P (2007) Human interaction spaces under

uncertainty. Transp Res Rec 2021:28–35

32. Pawlak Z (1982) Rough sets. Int J Comput Inf Sci 11(5):341–356
33. Pearson K (1905) The problem of the random walk. Nature 72(1866):342
34. Pfoser D, Jensen CS (1999) Capturing the uncertainty of moving-object representations. In:
Güting RH, Papadias D, Lochovsky F (eds) Advances in spatial databases. Lecture notes in
computer science, vol 1651. Springer, Berlin, pp 111–131

35. Polya G (1921) Über eine Aufgabe der Wahrscheinlichkeitsrechnung betreffend die Irrfahrt im

Straßennetz. Math Ann 84:149–160

36. Randell DA, Cui Z, Cohn A (1992) A spatial logic based on regions and connection. In:
Brachmann R, Levesque H, Reiter R (eds) Third international conference on the principles of
knowledge representation and reasoning. Morgan-Kaufmann, Los Altos, CA, pp 165–176

37. Raubal M, Winter S, Tessmann S, Gaisbauer C (2007) Time geography for ad hoc shared-ride

trip planning in mobile geosensor networks. ISPRS J Photogramm Remote Sens 62(5):366–381

38. Seamon D (1979) A geography of the lifeworld. Thesis, St. Martin’s Press, New York
39. Shlesinger MF (1992) New paths for random walkers. Nature 355:396–397
40. Sistla AP, Wolfson O, Chamberlain S, Dao S (1998) Querying the uncertain position of moving
objects. In: Etzion O, Jajodia S, Sripada S (eds) Temporal databases: research and practice.
Lecture notes in computer science, vol 1399. Springer, Berlin, pp 310–337

41. Thrift N (1977) An introduction to time-geography, concepts and techniques in modern geogra-

phy, vol 13. Geo Abstracts Ltd., Norwich

42. Tobler W (1970) A computer movie simulating urban growth in the Detroit region. Econ Geogr

43. Tomlin CD (1989) Geographic information systems and cartographic modeling. Prentice Hall,

46(2):234–240

New York

434

Geoinformatica (2011) 15:417–434

44. Torrens PM, Benenson I (2005) Geographic automata systems. Int J Geogr Inf Sci 19(4):385–412
45. Trajcevski G, Tamassia R, Ding H, Scheuermann P, Cruz IF (2009) Moving convolutions and
continuous probabilistic nearest-neighbor queries for uncertain trajectories. In: Kersten M,
Novikov B, Teubner J, Polutin V, Manegold S (eds) Proceedings of the 12th international
conference on extending database technology. ACM Press, St Petersburg, Russia, pp 874–885
46. Wang MZ, Kulik L, Kotagiri R (2009) Robust traffic merging strategies for sensor-enabled cars
using time geography. In: Wolfson O, Agrawal D, Lu CT (eds) Proceedings of the 17th ACM
SIGSPATIAL international conference on advances in geographic information systems. ACM
Press, Seattle, WA, pp 362–371

47. Winter S, Bittner T (2002) Hierarchical topological reasoning with vague regions. In: Shi W,

Fisher P, Goodchild MF (eds) Spatial data quality. Taylor & Francis, London, pp 35–49

48. Wolfson O, Sistla AP, Chamberlain S, Yesha Y (1999) Updating and querying databases that

track mobile units. Distributed and Parallel Databases 7(3):257–387

is Associate Professor at the Department of Geomatics, The University of
Stephan Winter
Melbourne, Australia. He holds a PhD from the University of Bonn, and a habilitation from the
Technical University Vienna. His research interests are in human wayﬁnding and navigation, down
to intelligent transportation systems.

Zhang-Cai Yin is Associate Professor of Geographic Information Science and the associate director
at Department of Geographic Information Engineering, Wuhan University of Technology. He
graduated from Wuhan University and got his PhD degree in 2005. This paper was written as visiting
researcher at the University of Melbourne.

