Geoinformatica (2006) 10: 177–196
DOI: 10.1007/s10707-006-7578-1

A Quantitative Description Model for Direction Relations
Based on Direction Groups

Haowen Yan & Yandong Chu & Zhilin Li & Renzhong Guo

Received: 4 October 2004 / Revised: 23 March 2005 /
Accepted: 27 September 2005
# Springer Science + Business Media, LLC 2006

Abstract The description models for spatial relations, especially those for direction
relations, have gained increasing attention in GIS and Cartography community in
recent decades. In this paper, such a quantitative model for spatial direction
relations is discussed. It has been suggested that people often describe directions
between two objects using multiple directions but not a single one; therefore a
i.e.,
description model for direction relations should use multiple directions,
direction group. A direction group consists of two components: the azimuths of
the normals of direction Voronoi edges between two objects and the corresponding
weights of the azimuths. The former can be calculated by means of Delaunay
triangulation of the vertices and the points of intersection of the two objects; the
latter can be calculated using the common areas of the two objects or the lengths of
their direction Voronoi diagram (DVD) edges.The advantages of this model exist in
four aspects: (1) direction computations are converted into a 1-dimension space
problem and use lines (DVDs) to solve it, therefore direction computation process
is simpliﬁed; (2) once Dir(A,B), the directions from A to B, is obtained, Dir(B,A)
can be got without complex computations; (3) a quantitative direction group can be
transformed into a qualitative one easily; (4) quantitative direction relations
between objects can be recorded in 2-dimension tables, which is very useful in
spatial reasoning.

H. Yan (*) : Y. Chu
School of Math-Physics and Software Engineering,
Lanzhou Jiaotong University, Lanzhou, Gansu province, P.R. China
e-mail: dlkc@mail.lzjtu.cn

Z. Li
Land Surveying and Geo-informatics Department of Hongkong
Polytechnical University, Hongkong, China
e-mail: lszlli@polyu.edu.hk

R. Guo
Shenzhen Bureau of Municipal Planning and Land Resource,
Shenzhen, China
e-mail: rzguo@sohu.com

Springer

178

Geoinformatica (2006) 10: 177–196

Keywords Direction relations . Quantitative models . Direction voronoi diagrams .
Direction groups

1. Introduction

Spatial relations have gained increasing attention in GIS and Cartography
community. In recent years, some achievements have been made on description
models of topological relations [6], [7], [18], [23], [26] – [28] distance relations [15],
[20], direction relations [1], [3], [11], [13] – [15], [24], [25], [28], [34], [35], and
qualitative spatial reasoning [2], [5], [8], [10], [12], [15] – [17], [19], [21], [22], [29],
[30], [36]. As far as direction relations are concerned, many qualitative models have
been discussed. They include the cone-based model [1], [9], [13], [25], [31] the 2D
projection model [8], [24], [28] and direction-relation matrix model [11], etc. The
existing models are very useful and work efﬁciently in qualitative spatial reasoning
in deed. However, most of them, except for the direction-relation matrix model,
ignore the quantitative characteristics of direction relations and lead to errors or
even mistakes in spatial reasoning in many cases. Consequently a model that may
describe direction relations quantitatively is needed.

This paper is organized as follows: after the introduction (Section 1) is a critical
discussion and analysis of the existing description models for direction relations
(Section 2); then the cognitive aspects of direction relations are discussed (Section
3); and the new model is presented in detail (Section 4); after that, many examples
are shown to demonstrate the correctness of the new model (Section 5); ﬁnally,
some conclusions are made (Section 6).

2. An Analysis of Existing Models for Direction Relations

The cone-based model, 2D projection model and direction-relation matrix model
are very good paradigms among existing models for direction relations. In order to
introduce the new model, a critical examination of these models seems appropriate.
To facilitate the discussion,

(1) Dir(A,B) is used to denote the directions from object A to object B in following

sections. Where, A is the reference object; B the target object.

(2) Extrinsic reference frame is employed in direction relations in following

sections.

2.1. Cone-based Model

The cone-based model has been discussed for years by many researchers [1], [9],
[13], [15], [25], [31]. This model partitions the space around the centroid of the
reference object into four (Fig. 1) or eight mutually exclusive partitions of 90- or 45-
respectively. If the four-direction system is used, the model distinguishes among ﬁve
directions (i.e., four cardinal directions N, E, S, W, and same). The direction of the
target object with respect to the reference object is determined by the target’s
presence in a direction partition for the reference object. If the target object coincides
with the reference object, the direction between them is called Bsame.’’ In Fig. 1,
Dir(A,B) = N in the four-direction system, for B is in the north partition.

Springer

Geoinformatica (2006) 10: 177–196

179

Fig. 1 The principles of cone-base
model

This model is developed primarily to detect whether a target object exists in a
given direction or not. If the distance between objects is much larger than their size,
the model works well; otherwise special method must be used to adjust the area of
acceptance (e.g., Fig. 2). If objects are overlapping, intertwined, or horseshoe-
shaped, this model uses centroids to judge directions [25] and the results are
misleading sometimes (e.g., Fig. 3). In addition, if a target object is in multiple
directions, such as {N, NE, E}, this model does not provide a knowledge structure to
represent such multiple directions [11]. In sum, this model
is computationally
cumbersome and informal, due to overlapping direction triangles and special
methods for computing directions for special cases; therefore, it is not suitable for
direction queries in spatial databases.

2.2. 2D Projection Model

Because the 2D projection model [8], [9], [24], [28] uses MBRs (Minimum bounding
rectangles) to represent spatial relations between objects, it is also named MBR-
based model. The MBR of an object is a minimum rectangle that encloses the object
and whose four edges are horizontal or vertical respectively.

x ) is before projA

Reasoning between projections of MBRs on the x- and y-axes is performed
using 1-D interval relations. For example, in Fig. 4, the projection of B on the x-axis
(projB
is before projA
y ; therefore, the relation between
MBRs of objects B and A is (before, before). Using this method, one can
characterize relations between MBRs of objects uniquely. There are thirteen
possible relations on an axis [12] in 1-D space; therefore, this model distinguishes
13*13 = 169 relations in 2-D space.

x and projB
y

This model approximates objects by their minimum bounding rectangles;
therefore, the spatial relation may not necessarily be the same as the relation
between exact representations of the objects (see Fig. 5), for the model can’t capture

Fig. 2 The cone-based model is
used for extended objects if dis-
tance between two objects is
smaller than their sizes. (a) B is
visually to east of A, but it does
not fall in the east partition;
(b) by adjusting the area of ac-
ceptance of east partition, B is
to east of A

Springer

180

Geoinformatica (2006) 10: 177–196

Fig. 3 Errors in the cone-based model. (a) The centroid of B is north of the centroid of A, but B is
not north of A; (b) When A and B are intertwined, the answer is misleading

the details of objects in direction descriptions [11]. So this model is only for the
qualitative description of qualitative direction relations.

2.3. Direction-Relation Matrix Model

The direction-relation matrix model [11] partitions space around the MBR of the
reference object into nine direction tilts (Fig. 6), i.e., N, NE, E, SE, S, SW, W, NW,
and O (same direction). A direction-relation matrix is constructed to record if a
section of the target object falls into a speciﬁc tilt [expression (1)].

Dir A;Bð

Þ ¼

2

4

NWA \ B NA \ B NEA \ B
EA \ B
SWA \ B SA \ B SEA \ B

WA \ B OA \ B

3

5

ð1Þ

It is obvious that express (1) is too coarse to express quantitative direction
relations, for it only using some 1s and 0s to record directions. To improve the
reliability of the model, a detailed direction-relation matrix capturing more details

Fig. 4 The principle of 2D pro-
jection model

Springer

Geoinformatica (2006) 10: 177–196

181

Fig. 5 Potential errors in 2D
projection model. In
(a) Dir(A,B) = {NW} and in
(b) Dir(A,B) = {NE} intuitively,
but by 2D projection model,
they both are Fstrong-bounded-
north_

by recording the area ratio of the target object in each tilt is employed [expression
(2)].

Dir A;Bð

Þ ¼

2

6
6
4

Þ

ð

Area NWA \ B
ð
Area Bð Þ
Area WA \ B
Area Bð Þ
Area SWA \ B
ð
Area Bð Þ

Þ

Þ

Area NA \ B
ð
Area Bð Þ
Area OA \ B
ð
Area Bð Þ
Area SA \ B
ð
Area Bð Þ

Þ

Þ

Þ

ð

Area NEA \ B
Þ
Area Bð Þ
Area EA \ B
Þ
ð
Area Bð Þ
Area SEA \ B
Area Bð Þ

ð

Þ

3

7
7
5

ð2Þ

The direction-relation matrix model is a good quantitative model; it provides
knowledge structure for recording multilevel directions. However, this model has
such a disadvantage that can’t be corrected easily: Dir(A,B) can’t be inferred from
Dir(B,A) and vice versa [34], for Dir(A,B) and Dir(B,A) use different direction
tilts, therefore the area ratios in expression (2) for Dir(A,B) can’t be directly used to
compute Dir(B,A).

2.4. A Comparison and an Analysis of Existing Models

Table 1 gives a clear comparison of advantages and disadvantages of existing models
in light of above discussion. From Table 1, it is obvious that the cone-based model
and the 2D projection model are both qualitative, so they are out of the scope of this
research issue; the direction-relation matrix model is quantitative, but it lacks the
ability to compute Dir(B,A) from Dir(A,B).

3. Cognitive Aspects of Multi-Directions

After the imperfections of existing models have been pointed out, it seems logic to
ﬁnd out a solution if possible. The discussion in this section lays a cognitive
foundation for the new model.

Fig. 6 The principles of
direction-relation matrix model

Springer

182

Geoinformatica (2006) 10: 177–196

Table 1 A comparison of existing models

Model names

Correctness

Qualitative or
quantitative
model

Formal or
informal
model

Computations of
Dir(B,A) from
Dir(A,B)

Recording
knowledge

Cone-based
model

2D projection

model
Direction-
relation
matrix model

Quantitative
but not
qualitative

Qualitative

Informal

Wrong

Wrong

Difﬁcult

Qualitative

Formal

Wrong

Wrong

sometimes

sometimes

sometimes

sometimes

Formal

Correct

Impossible

Easy

Easy

3.1. Practical Examples of Multi-Directions

The cases of multiple directions between two objects are very common in deed. For
example, if objects are overlapping, intertwined, or horseshoe-shaped, the descrip-
tion of direction relations by means of multiple directions becomes unavoidable.

Example 1: Road B passes through grassland A (Fig. 7). A single cardinal
direction can’t describe the direction relations correctly in this case; but BB1 is to the
west of A; B2 is within A (same direction); B3 is to the east of A’’ is a commonly
acceptable answer in daily life.

Example 2: Pavilion B is half closed by a horseshoe-shaped building A (Fig. 8a).
If using the cone-based model, the answer is a single direction Dir (A,B) = W.
However, this case is very different from that in (Fig. 8b), though the answers by
the cone-based model are same. To ﬁnd the pavilion in (Fig. 8a), we may say: Bthe
pavilion is to the north of the south section of the building, to the west of the east
section of the building, and to the south of the north section of the building,’’ i.e.,
Dir(A,B) = {N, W, S}.

Example 3: Road B runs approximately parallel with river A (Fig. 9). Such cases
are very common on maps. A man at P may say: Bthe road is to the northeast of the
river.’’ His answer changes when he is at Q: Bthe road is to the north of the river.’’
If he walks to R, he may answers: Bthe road is to the east of the river.’’ Nevertheless,
the three answers are partial and unacceptable. To give a whole description, their
combination is a good choice, i.e., Dir(A,B) = {NE, N, E}.

It may be concluded from the above discussion that using multiple directions to
express direction relations is a more general method, though a single direction can

Fig. 7 Multiple directions be-
tween overlapping objects:
Dir(A, B) = {W, Same, E}

Springer

Geoinformatica (2006) 10: 177–196

183

Fig. 8 Multiple directions are needed if an object is half closed by a horseshoe-shaped object.
(a): Dir(A,B) = {N, W, S}; B: Dir(A,B) = {W}

also work well in some simple cases. In this paper, the aggregation of multiple
directions along with their weights (each direction has a Bweight,’’ which will be
introduced in next section) between two objects is called a direction group. It is
obvious that a single direction can be also regarded as a direction group.

3.2. Cognitive Foundation of Multi-Directions: Gestalt Principles

It has been noted that Gestalt principles has been applied in cartography for many
years [32]. From the perception point of view, in any case, the following two
principles [33] remain unquestionable:
& Relations between the sum of the whole and its parts: BThe sum of the whole is
greater than its parts’’ [33] is the idea behind the principle of Gestalt. It’s the
perception of a composition as a whole. Our perception of the piece is based on
our understanding of all the bits and pieces working in unison.

& Proximity: The principle of proximity or contiguity states that things which are

closer together will be seen as belonging together.

The two principles are accord with the two processes of people’s direction
judgments, i.e., cartographic generalization before direction judgments and direc-
tion judgments by proximal sections.
& Cartographic generalization before direction judgments: In deed, people usually
ignore the trivial of spatial objects but get the sketches of the whole before they
judge directions. The judgments they made are based on the sketches but not on
individuals. This process implies the idea of cartographic generalization. The
generalization methods here are a little different from that used in traditional
map generalization. The generalization scale depends on the size of the ﬁeld
formed by the two objects. The larger the distance between the two objects, the
larger the objects are generalized.

Fig. 9 Multiple directions be-
tween two intertwined
objects: Dir(A,B) = {NE, N, E}

Springer

184

Geoinformatica (2006) 10: 177–196

& Direction judgments by proximal sections: Such examples are almost everywhere
in daily life. In Fig. 9, the three directions are gotten by the three pairs of
proximal sections of the road and the river. Figs. 7 and 8 are also such cases.
BJudging directions by proximal sections^ is a very important principle in the
new model, which will be realized by means of Delaunay triangulation in next
section.

3.3. The Rays for Indicating Directions

In daily life, when one describes that Fthe building is to the east of the pavilion,_
there must be an imaginary ray (here, ray is directly borrowed from its mathematical
concept) in his brain, pointing from the building to the pavilion to indicate the
direction. So it is a natural thought to ﬁnd out such rays, so that directions can be
computed. In order to obtain the goal, a psychological experiment has been made by
the authors. In the experiment, 50 undergraduates in Wuhan University of China
were asked to draw the ray pointing from the reference object to the target object in
each ﬁgure (Fig. 10) and to make selections in attached table for each ﬁgure.

For Fig. 10a, b and c, the given choices are: the ray pointing from point A to line

BC is:

(1) midline AD;
(2) bisector of !BAC; or
(3) other line.

For Fig. 10d, the given choices are: the ray pointing from line AB to line AC is:

the line perpendicular to mid-position line DE;
the line perpendicular to the bisector of !BAC; or

(1)
(2)
(3) other line.

Fig. 10 The graphs used in the psychological experiment (the dash lines were drawn by the testees to
denote directions).

Springer

Geoinformatica (2006) 10: 177–196

185

Table 2 The statistics of
the experiment on rays pointing
from reference objects to
target objects

Figures

The number
of testees
who select
choice (1)

The number
of testees
who select
choice (2)

The number
of testees
who select
choice (3)

Figure 10(a)
Figure 10(b)
Figure 10(c)
Figure 10(d)

19
20
17
22

25
22
26
15

6
8
7
13

The statistics of the experiment are shown in Table 2. From the table, two

conclusions with respect to the rays can be made:

&
&

In Fig. 10a, b and c, the bisector of !BAC is the ray; and
In Fig. 10d, the line perpendicular to the midline is the ray.

In this experiment,

line segment BC may be regarded as a section of the
reference object, and point A (it is line AC in Fig. 9d) a section of the target object.
Therefore the two conclusions can be directly employed to construct the new model.

4. A New Model for Quantitative Descriptions of Direction Relations
Based on Direction Groups

From above discussion, a theoretical foundation for direction relations has been laid
and the rays denoting directions between sections of two objects also have been
deﬁned. It seems appropriate to discuss the new model in this section.

4.1. The Framework of the Model

The new model for quantitative direction relations consists of four procedures:

(1) Cartographic generalization of the objects;
(2) Calculations of direction Voronoi diagrams (DVDs);
(3) Construction of quantitative direction groups; and
(4) Construction of qualitative direction groups.

Fig. 11 Different triangles in
the triangulation of the
vertices and intersection points
of two objects

Springer

186

Geoinformatica (2006) 10: 177–196

Fig. 12 Delete self-triangles from
original triangle set

4.2. Cartographic Generalization

According to Bthe rations between the sum of the whole and its parts,’’ a Gestalt
principle discussed in previous section, cartographic generalization is the ﬁrst step in
direction judgments. Hence this procedure is an analogue of human’s thinking
process, aiming at simplifying objects so that direction computation can be carried
out in a simple way.

Let the diameter of convex hull of the two objects be d. The scale of generalization
depends on two factors, d and the direction system used. Generally, formula (3) is
used to simplify spatial objects.

S ¼ d (cid:1) 1 (cid:2) cos (=2ð

½

(cid:3)=2
Þ

ð3Þ

Where, S is the generalization scale of the objects, i.e., the details whose size are
less than S will be simpliﬁed; ( is the value of an angle. It is 90- in the four-direction
system and 45- in the eight-direction system.

Some examples about how to simplify spatial objects using formula (3) are

discussed in detail in Section 5.

4.3. Calculations of Direction Voronoi Diagrams (DVDs)

The proximal sections of two objects can be obtained by means of Delaunay
triangulation, for the methods of Delaunay triangulation have been proved to be
useful and efﬁcient tools in spatial adjacency/proximity analysis for decades [18].
Then the DVDs between two objects are constructed using the Delaunay triangles.

Fig. 13 Delete the triangles that
are in one of the objects

Springer

Geoinformatica (2006) 10: 177–196

187

Fig. 14 Construct DVDs
(the thicker black dash lines) be-
tween the two objects

4.3.1. Deﬁnition of DVDs

4.3.1.1. Deﬁnition of DVDs in Triangles
If the vertices and the points of intersection of two objects are triangulated in light
of the principles of Delaunay triangulation [34], two types of triangles are generated.
The ﬁrst type is formed by the points belonging to only one object, and the second
type of triangles is formed by the points belonging to the two objects. For example,
in Fig. 11, the vertices and the points of intersection of areal object p1p2p3p4p5p6p7
and areal object q1q2q3q4q5q6q7q8q9q10 are triangulated. Triangle q1q2q10 and
triangle p2p3p4 belong to the ﬁrst type; triangle p1q1q2 and triangle p1kq2 belong
to the second type. The ﬁrst type of triangles is useless in direction calculation (they
are self-triangles, because their vertices belong to only one object), therefore they
will not be taken into consideration in further discussion. The second type of
triangles can be divided into four categories (see Fig. 15):

(1)
(2)

acute triangle formed only by the vertices, such as p1q1q2 in Fig. 11;
right triangle formed only by the vertices;

Fig. 15 Types of triangles and their direction Voronoi diagrams (the thicker black dash lines) in
triangles. (a) DVD in the acute triangle; (b) DVD in the right triangle; (c) DVD in the obtuse
triangle; (d) DVD in the triangle formed by the vertices and the points of intersection

Springer

188

Geoinformatica (2006) 10: 177–196

Fig. 16 The deﬁnition of azimuths

(3) obtuse triangle formed only by the vertices, such as p7q4q5 in Fig. 11; and
(4)

triangle formed by the vertices and the points of intersection, such as mp7q4 in
Fig. 11.

DVDs in triangles are deﬁned as follows (see Fig. 15), according to the exper-

imental results discussed in Section 3.3.

&

&

If the triangle belongs to the category (4), the DVD is the line segment linking
the point of intersection and the midpoint of its subtense.
If the triangle belongs to the category (1), (2), or (3), the DVD is the line
segment linking the midpoints of two edges. Each of the two edges is formed by
two points belonging to different objects. This deﬁnition doesn’t exactly accord
with the psychologically experimental results in Section 3.3 but takes much
consideration of the original deﬁnition of Voronoi diagrams so that the DVDs
between two objects are continuous.

4.3.1.2. Deﬁnition and construction of DVDs between two objects
The combination of the DVDs in the four categories of triangles is the DVD
between the two objects. Take Fig. 11 as an example. The procedure for DVD
construction between two objects includes the following four steps.
& The vertices and the points of intersection of the two objects are triangulated

according to Delaunay triangulation rules (Fig. 11).

& The self-triangles are deleted from original triangle set. It should be noticed that,

in Fig. 12, triangle q5q6q7 has been deleted from the original triangle set.

& Delete the triangles that falls in one of the two objects. Four triangles connected

with q3 in Fig. 11 are deleted in this step (see Fig. 13).

& Construct DVD of each retained triangle, so that the DVDs between the two

objects (Fig. 14) are formed

Table 3 A quantitative description of direction relations in Fig. 14 (the DVD edges are numbered
from left to right; same direction is numbered 0)

DVD edges

1

2

3

4

5

6

7

same

58-

330-

35-

35-

35-

35-

280-

11
9

17
14

13
11

28
23

26
21

12
10

10
8

0

4

Directions (the azimuths
of normals of DVDs)
Lengths of DVD edges
Weights of directions (%)

Springer

Geoinformatica (2006) 10: 177–196

189

Table 4 A qualitative des-
cription of direction relations
in four-direction system

Cardinal direction

Same North

East

South West

Weights of directions

4

79

9

0

8

(%)

4.3.1.3. Reliability Analysis of DVDs in Direction Relations
After the previous discussion, the question arising is: BCan the DVDs represent
direction relations very well?’’ To answer this query, one should examine the basic
deﬁnitions and rules in the procedures for DVD construction. The DVDs between
two objects are composed of the DVDs of the four categories of triangles; therefore
if every type of DVDs of the triangles may give a correct answer, their combination
should be a good answer. Hence, the correctness of the DVDs in the four categories
of triangles is essential.

&

In Fig. 15a, b and c, A is a vertex of object P; B and C are the vertices of object
R; !BAD = !DAC; E and F are the midpoints of AB and AC respectively; G is
the point of intersection of AD and EF; GH±AD.

An Analysis: !BAD = !DAC, so AD is the ray pointing from point A
(a section of object P) to line segment BC (a section of object R), i.e., AD can be
used to denote the direction from A to BC. In addition, GH±AD, so if the azimuth
(the deﬁnition of azimuth will be given in Section 4.4) of GH is known, the azimuth
of AD also can be got. However, EF is much easier to get than GH, so EF (the
DVD) is used as a substitute for GH. Hence, if !EGH is within the allowable error,
the answer can be achieved naturally.

The proving method is given as follows, taking Fig. 14a as an example.
0!BAC<90-
Ó!EAG = !BAC/2<45-

Table 5 A psychological test for evaluating the correctness of the new model (T for BTotally agree’’;
A for BAgree’’; D for BDo not agree’’)

Object pairs

Descriptions of direction relations in four-direction system

Survey results

Figure 14

4% of P is the same direction of Q; and 79% of

P is to the north of Q; and 9% of P is to the east
of Q; and 8% of P is to the west of Q.

Figure 17

Building A is totally to the east of Building B.

T: 88%; A: 7%;

Figure 18

The river is totally to the north of the highway.

T: 86%; A: 13%;

Figure 19

40% of the pavilion is to the west of the building;

Figure 20

and 30% of the pavilion is to the north of the building;
and 30% of the pavilion is to the south of the building.
50% of the grassland is to the north of the road; and 50%

of the grassland is to the south of the road.

Figure 21

43% of contour A is to the north of contour B; and 31%

T: 49%; A: 23%;

of contour A is to the east of contour B; 26% of contour
A is to the west of contour B.

T: 56%; A: 33%;

D: 11%

D: 5%

D: 1%

T: 44%; A: 23%;

D: 21%

T: 74%; A: 19%;

D: 7%

D: 28%

Springer

Geoinformatica (2006) 10: 177–196

190

&

In addition, !AEG<90-
Ó!AEG + !EAG = !EGD<135-
Ó!EGH = !EGD-!HGD = !EGD-90-<45-

Therefore the maximum difference between EF and GH is less than 45-. This is

also true in Fig. 15b and c if same proving method is used.

In Fig. 15d, A is the point of intersection of object P and R; B and C are the
vertices of P and R respectively; D is the midpoints of BC.

An analysis: The Voronoi edge AD is a perpendicular line of the ray in light of
the psychological experiments; hence AD is a good representation of direction
relations between AB (a section of P) and AC (a section of R).

From the analysis of DVDs in the four categories of triangles, it is clear that the
maximum errors of DVDs in the former three categories of triangles are less than
45-; DVDs in the fourth category of triangles wholly accord with the experimental
results. Hence, the DVDs between two objects can describe direction relations well in
both eight-direction and four-direction systems.

4.4. Construction of Direction Groups for Quantitative Description
of Direction Relations

4.4.1. Deﬁnition of Azimuths of Rays

An azimuth of a ray is the angle measured clockwise from the positive end of
the vertical axis of the coordinate system. Figure 16 presents the azimuth (!) of ray
OA.

Fig. 17 Direction relations between two buildings

Springer

Geoinformatica (2006) 10: 177–196

191

Fig. 18 Direction relations between a river and a highway

4.4.2. Quantitative Description of Direction Relations

Using the coordinates of the endpoints of each DVD edge, the azimuth and the
length of the DVD edge can be computed; hence the azimuth of each ray (the normal
of corresponding DVD edge) pointing from the reference object to the target object
can be got easily. After this, two steps are needed to quantify direction relations.

Step 1 Calculate the area ration Ws ¼ As=At . Where, At is the area of the target
object; As is the common area of the two objects. Ws is the weight of the
Bsame’’ direction.

Step 2 Let WD ¼ 1 (cid:2) Ws: WD is the total weights of other directions except for the
weights of Bsame’’ directions. Then calculate the weight of each cardinal
direction according to formula Wi ¼ WD (cid:1) Li= L½
Þ. Where, Li is the length
(cid:3)
of ith DVD edge; [L] the total length of all DVD edges; Wi the weight of ith
DVD edge.

ð

The quantitative knowledge structure of direction relations can be recorded in a

2-Dimensional table. Such an example is shown in Table 3.

Fig. 19 \Direction relations with
respect to a horseshoe-shaped
object, generalized from Fig. 8(a)

Springer

192

Geoinformatica (2006) 10: 177–196

Fig. 20 Direction relations be-
tween overlapping objects,
generalized from Fig. 7

4.5. Construction of Direction Groups for Qualitative Description
of Direction Relations

If qualitative descriptions are needed, the quantitative direction relations also can be
generalized. Here, Bgeneralize’’ means each quantitative direction is put into a
cardinal direction in the eight/four-direction system. In the eight-direction system,
north means an azimuth in (337.5-,0-]?(0-,22.5-]; northwest an azimuth in
(22.5-,67.5-]; east an azimuth in (67.5-,112.5-]; southeast an azimuth in (112.5-,157.5-];
south an azimuth in (157.5-,202.5-]; southwest an azimuth in (202.5-,247.5-]; west an
azimuth in (247.5-,292.5-]; northwest an azimuth in (292.5-,337.5-]. In the four-direction
system, north means an azimuth in (315-,0-]?(0-,45-]; east an azimuth in (45-,135-];
south an azimuth in (135-,225-]; west an azimuth in (225-,315-]. While putting each
azimuth into a cardinal direction, the corresponding weights belonging to same
car"dinal direction are also added up. Table 4 demonstrates such a process, using data
in Table 3. From Table 4, the direction relations in Fig. 14 may be described as: B4%
of P is the same direction of Q; and 79% of P is to the north of Q; and 9% of P is to
the east of Q; and 8% of P is to the west of Q.’’

Fig. 21 Direction relations between two intertwined contour lines. (a) Original contour lines; (b)
simpliﬁed contour lines and DVD edges

Springer

Geoinformatica (2006) 10: 177–196

193

5. Practical Examples and a Psychological Test

The judgments of direction are rooted in human’s spatial cognition [7], [11], so
whether the new model is correct or not should be proved based on practical ex-
periments but not wholly on mathematical deductions. For this purpose, a psycho-
logical test is designed. 40 pairs of objects drawn in a table are distributed to each
testee (50 testees in all). The natural language description of direction relations, got
by the new model, is attached to each pair of objects. The testees are required to
answer if they Btotally agree’’, Bagree’’, or Bdo not agree’’ with each answer. The mean
conﬁdence value of the model from the test is 79% (including Btotally agree’’ and
Bagree’’); the least is 58%; the greatest is 100%.

Table 5 presents a part of the test sheets. The object pairs and the process of

calculating DVDs are given in Figs. 14, 17, 18, 19, 20, and 21.

6. Conclusion

In this paper, a model based on direction groups for quantitative and qualitative
description of direction relations has been discussed. It has been noticed that a
target object may be in multiple directions of a reference object, so the concept of
direction group is a natural need for spatial descriptions. The new model
is
supported by two principles from Gestalt theory, the principle of Fthe sum of the
whole and its parts_ and the principle of proximity. Delaunay triangles and a
changed Voronoi diagram, DVD, are used to calculate direction groups. This model
works well in four-direction and eight-direction systems; its correctness has been
proved by a psychological test.

The main advantages of this model comparing with existing models exist in four
aspects: (1) the model converts complex direction computation into a 1-dimension
space problem, and uses lines to solve it; (2) the model may compute Dir(A,B) from
Dir(B,A) without complex computation; (3) its initial quantitative direction group
can be transformed into a qualitative one easily; (4) quantitative direction relations
between two objects can be recorded in 2-dimension tables, which is very useful in
spatial reasoning. Our further research will be on how to use this model in quan-
titative and qualitative spatial reasoning.

Acknowledgments The work described in this paper was partially supported by the National
Natural Science Foundation of China (Project No. 40301037), partially funded by a PolyU project
(G-T873), partially supported by the foundation of Key Laboratory of Remote Sensing and
Information Engineering of National Bureau of Surveying and Mapping, and partially supported by
the foundation of Qinglan Talents Engineering of Lanzhou Jiaotong University.

References

1. A.I. Abdelmoty and M.H. Williams. BApproaches to the representation of qualitative spatial

relations for geographic databases,’’ Geodesy, Vol. 40:204–216, 1994.

2. T. Bittner. BOn ontology and epistemology of rough location. Spatial information theory.’’
Cognitive and Computational Foundations of Geographic Information Science COSIT’ 99, in C.
Freksa and D. Mark (Eds.), Lecture Notes in Computer Science, Vol. 1661:433– 448, 1999.

Springer

194

Geoinformatica (2006) 10: 177–196

3. S. Cicerone and P. De Felice. BCardinal directions between spatial objects: the pairwise-

consistency problem,’’ Information Science, Vol. 164(1– 4):165–188, 2004.

4. Clementini et al. BQualitative representation of positional information,’’ Artiﬁcial Intelligence,

Vol. 95:317–356, 1997.

5. A. Cohn. BCalculi for qualitative spatial reasoning.’’ Artiﬁcial

intelligence and symbolic
mathematical computation, in J. Calmet, J. Campbell, and J. Pfalzgraf (Eds.), Lecture Notes in
Computer Science, Vol. 1138:124 –143, Springer-Verlag, New York, 1996.

6. M. Egenhofer and R. Franzosa. BPoint-set topological spatial relations,’’ International Journal of

Geographical Information System, Vol. 5(2):161–174, 1991.

7. M. Egenhofer and R. Shariff. BMetric details for natural-language spatial relations,’’ ACM

Transactions on Information Systems, Vol. 16(4):295–321, 1998.

8. A.U. Frank. BQualitative spatial reasoning about distances and directions in geographic space,’’

Journal of Visual Languages and Computing, Vol. 3(2):343–371, 1992.

9. A.U. Frank. BQualitative spatial reasoning: cardinal directions as an example,’’ International

Journal of Geographic Information Systems, Vol. 10(3):269–290, 1996

10. C. Freksa. BUsing orientation information for qualitative spatial reasoning,’’ Theories and
in A. Frank, I. Campari, and
methods of spatio-temporal reasoning in geographic space,
U. Formentini (Eds.), Lecture Notes in Computer Science, Vol. 639, 162–178, Pisa, Italy, 1992.
11. R.K. Goyal. BSimilarity assessment for cardinal directions between extended spatial objects,’’

PHD Thesis. The University of Maine, 2000.

12. H. Guesgen. BSpatial reasoning based on allen’s temporal logic,’’ Technical Report: TR-89-049,

International Computer Science Institute, Berkley, CA, 1989.

13. R. Haar. BComputational models of spatial relations,’’ Technical Report: TR-478, MSC-72-

03610, Computer Science, University of Maryland, College Park, MD, 1976.

14. D. Hernandez. BQualitative representation of spatial knowledge,’’ Springer Verlag: New York,

15. J. Hong. BQualitative distance and direction reasoning in geographic space,’’ PHD Thesis.

1994.

University of Maine, 1994.

16. B. Kim and K. Um. B2D+ string: A spatial metadata to reason topological and direction
relations,’’ 11th International Conference on Scientiﬁc and Statistical Database Management, 112–
P122, . Cleveland, Ohio, 1999.

17. L.J. Latecki and R. Ro}hrig. BOrientation and qualitative angle for spatial reasoning,’’

International Joint Conference on Artiﬁcial Intelligence, Chambe¨ ry, France, 1993.

18. Z. Li, R. Zhao, and J. Chen. BA voronoi-based spatial algebra for spatial relations,’’ Progress in

Natural Science, Vol. 12(6):43–51, 2002.

19. G. Ligozat. BReasoning about cardinal directions,’’ Journal of Visual Languages and Computing,

Vol. 9(1):23– 44, 1998.

20. S.L. Liu and X. Chen. BMeasuring distance between spatial objects in 2D GIS,’’ 2nd
in W.Z. Shi, M.F.

international symposium on spatial data quality. Hongkong, China,
Goodchild, and P.F. Fisher (Eds.), 51– 60, 2003.

21. D. Mitra. BA class of star-algebras for point-based qualitative reasoning in two dimension
space,’’ in D. Mitra (Ed.), Proceedings of the FLAIRS-2002, Pendacola Beach, Florida, 2002.
22. D. Mitra. BQualitative reasoning with arbitrary angular directions,’’ Spatial and temporal

reasoning workshop note, AAAI, Edmonton, Canada, 2002.

23. M. Nabil, et al. B2D projection interval relations: A symbolic representation of spatial relations,’’
Advances in Spatial Databases-4th International Symposium, Portland,
in M. Egenhofer
and J. Herring (Eds.), Lecture Notes in Computer Science, Vol. 951:292–309, Springer-Verlag:
Berlin, 1995.

24. D. Papadias, Y. Theodoridis, and T. Sellis. BThe retrieval of direction relations using R-Trees,’’
Database and Expert Systems Applications-5th International Conference, DEXA ’94. Athens,
Greece. in D. Karagiannis (Ed.), Lecture Notes in Computer Science, Vol. 856:173–182, Springer-
Verlag: New York, 1994.

25. D. Peuquet and C.X. Zhan. BAn algorithm to determine the directional relation between

arbitrarily-shaped polygons in the plane,’’ Pattern Recognition, Vol. 201:65–74, 1987.

26. S. Pigot. BA topological model for 3D spatial information system,’’ Auto Carto, 10:368–392, 1992.
27. N. Pissinou, I. Radev, K. Macki, and W.G. Campbell. BA topological-directional model for the
spatio-temporal composition of the video objects,’’ Eighth international workshop on research
issues on data engineering. in A. Silberschatz, A. Zhang, and S. Mehrotra (Eds.), Continuous-
Media Databases and Applications, 17–24, Orlando, FL, 1998.

Springer

Geoinformatica (2006) 10: 177–196

195

28. M. Safar and C. Shahabi. B2D topological and direction relations in the World of Minimum
in Proceedings of the 1999 International Database Engineering and

Bounding Circles,’’
Applications Symposium, 1999.

29. C. Schlieder. BReasoning about ordering [A],’’ A Theoretical Basis for GIS International

Conference COSIT’ 95 Semmering, 314–349, Springer-Verlag: Berlin, 1995.

30. J. Sharma. BIntegrated spatial reasoning in geographic information systems: Combining topology

and direction,’’ PHD Thesis, University of Maine, 1996.

31. S. Shekhar and X. Liu. BDirection as a spatial object: A summary of results,’’ The Sixth
International Symposium on Advances in Geographic Information Systems, 69–75, Washington,
1998.

32. R. Weibel. BA topology of constraints to line simpliﬁcation,’’ in M.J. Kraak and M. Molenaar

(Eds.), Advances on GIS II, 9A.1–9A.14, London, Taylor & Francis, 1996.

33. M. Wertheimer. BLaw of organization in perceptual forms.’’ in W. D. Ellis (Kegan Paul, Trench,

Trubner) (Ed.), A Source Book of Gestalt Psychology, 71–88, 1923.

34. H.W. Yan and R.Z. Guo. BResearch on a formal description model for direction relations based
on voronoi diagrams,’’ Geoinformatics and Information Science of Wuhan University, Vol.
28(4):468–472, 2003.

35. H.W. Yan and R.Z. Guo. BTheorization of directional relation description based on voronoi
diagram,’’ Geoinformatics and Information Science of Wuhan University, Vol. 27(3):306–310,
2002.

36. K. Zimmermann and C. Freksa. BQualitative spatial reasoning using orientation, distance, and

path knowledge,’’ Applied Intelligence, Vol. 6(1):49–58, 2003.

Haowen Yan
is a professor of Geographic Information Science at Lanzhou Jiaotong University. He holds
Bachelor_s and Master_s degrees in Cartography from Wuhan Technical University of Surveying and
Mapping, China, and Doctor_s degree in Cartography and Geographic Information Engineering from
Wuhan University, China. His research interests lie in theories of spatial relations and automated map
generalization.

Yandong Chu
is a professor of Applied Mathematics at Lanzhou Jiaotong University. He has published
more than 20 papers in journals and two authored books. His research interests are geographic data modeling
and analysis.

Springer

196

Geoinformatica (2006) 10: 177–196

Zhilin Li
is a full professor in geo-informatics at The Hong Kong Polytechnic University. He holds a
Ph.D. from The University of Glasgow (UK). Li has published over 90 papers in international journals and
two authored books. Li has received the Schwidefsky Medal
from the International Society for
Photogrammetry and Remote Sensing (ISPRS) in 2004 for his signiﬁcant contribution to geo-informatics
through original research and through publications and the State Natural Science Award from the Central
Government of China for his achievement in dynamic, multi-dimensional and multi-scale modeling and
representation (collaboration with partners in China Mainland). His major research areas include multi-scale
spatial modeling and representation, digital terrain modeling and location-based mobile services.

Renzhong Guo works in Shenzhen Bureau of Municipal Planning and Land Resource, Shenzhen, China.
He holds Bachelor_s and Master_s degrees in Cartography from Wuhan Technical University of Surveying
and Mapping, China, and Doctor_s degree in Geography from Universite´ de Franche-Comte´. His research
interests center on geographic information science.

Springer

