The Cartographic Journal
The World of Mapping

ISSN: 0008-7041 (Print) 1743-2774 (Online) Journal homepage: http://www.tandfonline.com/loi/ycaj20

An Experiment in Contour Map Smoothing on the
ECU Automated Contouring System

Daniel S. Connelly

To cite this article: Daniel S. Connelly (1971) An Experiment in Contour Map Smoothing on
the ECU Automated Contouring System, The Cartographic Journal, 8:1, 59-66, DOI: 10.1179/
caj.1971.8.1.59

To link to this article:  http://dx.doi.org/10.1179/caj.1971.8.1.59

Published online: 18 Jul 2013.

Submit your article to this journal 

Article views: 4

View related articles 

Citing articles: 4 View citing articles 

Full Terms & Conditions of access and use can be found at
http://www.tandfonline.com/action/journalInformation?journalCode=ycaj20

Download by: [Monash University Library]

Date: 02 July 2016, At: 11:46

ExperimentsinthesmoothingofcontoursproducedbytheECUautomatedcontouringsystemaredescribed.Theresultisaflexiblesystemwithinwhichthecreativeandinterpretiveskillsofthecartographercanoperatetoproducearesult'Whichisacceptablequantitativelyandqualitatively.AnExperimentinContourMapSmoothingontheECUAutomatedContouringSystemDanielS.ConnellyPennsylvaniaResearchAssociates,Whitesboro,NewYork(formerlywiththeExperimentalCartographyUnit,RoyalCollegeofArt,London)IntroductionThereisnowwidespreadagreementthattheautomatedproductionofthecontourlinesofasurfacemustproceedfrom.aregularsamplinggrid,amatrixofspotheightsonthesurface.I,2,3,4Rarely,however,issuchasamplinggridreadilyavailable.Morecommonly,theheightofthesurfacetobecontouredisknownatonlyalimitednumberofpointswhichareirregularlydistributedinspace.Consequently,thefirsttaskforanautomatedcontouringsystemmustbetheconstructionofaregulargriddedsampleofheightsfromtheirregularcontrol-pointsample.Althoughitcannotbesaidthatthereiswidespreadagree-mentonthemethodoftheheightgridgeneration,oneofthemostpopularandusefultechniquesisthatofthelocal,weightedaverage.BothHarvard'sSYMAP5andCalcomp'sGPCp4employvariantsoftheweightedaveragewithconsiderablesuccess.Thechiefadvantagesofthistechniqueastheyhaveuseditarethatitalwayspredictsreasonableheightsandthattheinterpolatedsurfacealwayspassesthroughthecontrolpoints.Often,however,totalfidelitytothecontrolpointsproducesanundesirablyroughorsteepsurface.Inmanycases,somesmoothingorgeneralisingofthesurfacetobecontouredwillhelptoproduceavisuallymoreacceptable,thoughperhapslessaccurate,map.Becauseofthesimilaritybetweenthelocal,weightedaverageandtechniquescommonlyusedtosmoothrapidlyfluctuatingdatasamples,ithasbeenquiteeasytoincorporateasmoothingfacilityintheExperimentalCartographyUnit'sautomatedcontouringsystem.Thisfacilityallowsthecartographerusingthesystemtoselectasmoothingfactorrangingfromzerotoone.Withalittlepractice,heissoonabletocontrolthelevelofdetailshowninthefinishedcontourmap.Toprovideguidanceincon~ourmapsmoothingtoinexperiencedsystemusers,theauthorhasrecentlyperformedanumberofexperimentsontheeffectsofthissmoothingtechniqueoncontourmapsproducedbytheECU'sautomatedcontouringsystem.Theresultsofoneoftheseexperimentsarepresentedlaterinthepaperasaseriesofdifferentlysmoothedcontourmapsderivedfrom59Downloaded by [Monash University Library] at 11:46 02 July 2016 Itisbecauseofthisconceptualdivisionthatworkonproducingsmoothedcontourmapsisconcentratedontheheightgridgeneration,theinterpretivephaseoftheautomatedcontouringprocess.whereiidentifiesthesamplepoint,Ziistheheightofthesamplepointi,andWi,(X,Y)istheweightassignedtothecontrolpointirelativetothepoint(X,Y).Thismethodofstatisticalinterpolationrequiresarepresentativesampleofthesurfaceheights.However,thenatureoftheproblemissuchthatitisnotpossibletosamplethesurfacefreely.Theneedforinterpolationarises·preciselybecausetheirregularlydistributedcontrolpointscomprisealltheavailabledata.Intheabsenceofotherinformation,thereisnoalternativebuttoacceptthecontrol-pointsampleasthebasisofthestatisticalheightestimation,whetherornotitistrulyrepresentative.Althoughtheprogramdesignerhasnocontroloverthecontrol-pointdistribution,hemayexertconsiderablesubjectiveinfluenceontheshapeoftheinterpolatedsurfacethroughhisselectionoftheweightingfunctionWi,(X,Y).Thenumberofpossibleweightingfunctionsisquitelarge.TheonlyrestrictionsthattheprogramdesignermustobservetoensurethatthecontrolpointsarehonouredareWeightedAverageInterpolationintheECaAutomatedContouringSystemAnyschemewhichcansystematicallyestimatetheheightofasampledsurfacethroughoutthemappingarea,subjecttotheconstraintthatitpredictsthecorrectvaluewheretheheightisknown,maybesaidtobeaninterpolationtechnique.Itisnotnecessarythatthistechniqueresultsinanexplicit,global,algebraicformulationforthesurface(suchasabest-fitpolynomial)sincethesurfaceheightsaretoberecordedonlyintabularformasaheightgrid.Furthermore,whenthenumberofdatapointsislarge,asitoftenis,analgebraicformulationforthesurfaceheightbecomeshopelesslycomplextoderiveanddifficulttoevaluate.Theproblemoftheestimationoftheheightofthesurfaceatanyonepointmaybedirectlyattackedbytreatingtheverticalorheightcoordinateofthesurfaceasarandomvariable.Theaverageheightofthesurfaceintheareaofinterest,whichisthemostlikelyheightforanyrandomlychosenpointinthisarea,maythenbeexperi-mentallyestimatedbytakingtheaverageofarepresentativesampleofheightsinthearea.Foranysmallregionwithinthisarea,thesamplepointslyinginorclosetothatregionmaysafelybeassumedtobemoreaccuratesamplesoftheactual'population'ofheightswithintheregionthanaremoredistantpoints.Themeanheightofthisregionshould,therefore,beestimatedbytakingaweightedaverageofthesamplepoints.Samplepointslyinginorclosetotheregionshouldbegivenhigherweightsthanthosepointswhicharefartheraway.Ifthisregionwereverysmall,itwouldbe,ineffect,apoint,andtheweightedaveragewouldthenbecomethemostlikelyestimatefortheheightofthatpoint.ItfollowsthattheinterpolatedheightZ(X,Y)ofthesurfaceatthepoint(X,Y)iscomputedbyevaluatingtheweightedaverage,Z(X,Y)=2:ZiWi,(X,Y)/2:Wi,(X,Y)asinglesetofgeophysicalcontrolpoints.First,however,itisnecessarytodescribeinsomedetailtheworkingsoftheECUautomatedcontouringsystem.TheECaAutomatedContouringSystemOveraperiodoftwoyearstheExperimentalCartographyUnit(RoyalCollegeofArt)hasdevelopedanautomatedcontouringsystemontheUnit'sPDP-9computer.TheECUPDP-9isamedium-sizedcomputerwhichhas16000words(18bitsperword)ofmainmemoryandwhichissupportedbymagnetictapeanddiscbackingstorefacilities.Byrequiringthattheheightgridbestoredonthebackingstoredevicesandnotinthemainmemory,ithasbeenpossibletoimplementafull-blowncontouringsystemonacomputerwhichishalfthesizeofthecomputerscommonlyusedforcontouring.TheECUcontouringsystemoperatessatisfactorilyonanyheightwhosemeshgridconsistsofnotmorethan120columnsnormorethan120rows.Thisheightgridmaybederivedfromasmanyas1350controlpoints.Atypicalcontourmapcanbepro-cessedbythissysteminaboutthirtyminutesofcomputertime,notincludingthetimenecessarytodisplaythemapgraphically.6TheECUautomatedcontouringsystemconsistsoftwodistinctphases.Inthefirstphase,agridofheightsisgeneratedfromtheX,YandZcoordinatesofanumberofcontrolpoints.Thegrid,producedbyusingasophisti-catedvariationofthelocal,weightedaverage,isstoredonmagnetictape.Inthesecondphase,theheightgridisreadthroughonceforeachelevationforwhichacontourlineisdesired.Oneachpassthroughtheheightgrid,allthecontourlines(curves)atthatelevationare'threaded'throughtheheightgridandthendrawn.Thesetwophasescommunicateonlythroughtheheightgridwhichthefirstphaseprovidesforthesecond.Otherwise,theyareindependentandtheymaybeexecutedondifferentdaysorevenondifferentmachines.Besidesbeingoperationallyindependent,thesetwophasesarealsoconceptuallyquitedifferent.Theheightgridgenerationphaseofthecontouringprocessshouldbeconsideredasanexerciseincomputerisedinterpretation.Thecomputerisemployedtomakeaseriesofrathertediousmathematicalestimatesofthesurfaceheightoverthemappingarea.Whiletheseestimatesmay'beobjectiveandwell-founded,thereisnoguaranteethattheywillreproducethe'true'surface.Consequently,thereisnoonecomputerprogramwhichcanbesaidtoestimatecorrectlythesurfaceheightsinallcases.TheschemeusedbytheECUisputforwardasonlyoneofanumberofusefulgridgeneratingtechniques.Ithasbeenadoptedbecauseexperiencehasshownthatitproducesreasonableresultsinapracticalperiodoftime.Noclaimismadethatitisthebestsuchprocedureorthatitissatisfactoryforallpossiblearrangementsofcontrolpoints.Thecontourthreadingphase,ontheotherhand,isadirectandwell-acceptedprocesswhichisnotopentoquestionsofjudgement.Givenaheightgridwherethegridmeshisfineenoughtocaptureallthesignificantdetailsofthesurfacetobecontoured,thereisonlyonewayinwhichthecontourlinesofthesurfacemaybethreadedthroughthegrid.Although,infact,certaininterpretivequestionsdoariseforwhichestimationsmayberequired,thecontourlinesproducedinthisphaseoftheautomatedcontouringprocessshouldberegardedasarepresentationandnotaninterpretationoftheheightgrid.6011Downloaded by [Monash University Library] at 11:46 02 July 2016 thattheweightassignedtothecontrolpointimustbecomelargewithoutlimitasthepointofinterpolation(X,Y)approachesthecontrolpointi,andthattheweightassignedtothecontrolpointclosesttothepointofheightestimationmustbegreaterthantheweightassignedtoanyothercontrolpoint.Thelargenumberoffunctionsfulfillingtheserequire-mentsisemphasisedinashortpaperbyNewton7inwhichhediscussesvariousweightingfunctionsthathehasfOUJ).dusefulforproducingcontoursofgeologicaldata.Referringtothesubjectivejudgementwhichmustbeusedinselectingaweightingfunction,Newtonsays:"If,afterchoosinga(weighting)function,theresultingcontourmapappearstobelackingindetail,thenamorepeakedfunctionshouldbetried,andvice-versa...."However,thisisnotthesortofchoicewhichcanbemadeeasilybythemajority,ofsystemusers.Intheimplementationofageneralpurposecontouringsystem,theprogramdesignermustselectfortheuserareliableweightingfunctionwhichwillproducereasonableresultsoverawiderangeofcontrolpointdistributions.Althoughtherearepossiblymanysuchweightingfunctions,onlyfunctionscloselyrelatedtotheinversesquareofthedistancebetweenthecontrolpointandtheinterpolationpointhavebeenusedsuccessfullyingeneralpurposecontouringsystems.OneparticularvariantoftheinversesquareofdistancehasbeenthoroughlydescribedbyShepard.sLargelybecauseofthecompletenessofShepard'sdescriptionandthesuccesshehasachievedwiththistechniqueinHarvardUniversity'sSYMAPcomputermappingsystem,hisweightedaverageheightestimationhasbeenadoptedasthebasisoftheheightgridgenerationphaseoftheECUautomatedcontouringsystem.ContourLineThreadingintheECUAutomatedContouringSystemThepathsofthecontourlinesthroughthemeshcanbedeterminedbyscanningtheheightgridandcomparingalladjacentgridnodes.Wheneveracontourelevationfallsbetweentheelevationsoftwoadjacentgridnodes,eitheralongXscanlinesoralongYscanlines,acontourlinemustpassbetweenthesetwonodes.Thepointwherethecontourlinecrossesthescanlinemaybeeasilyestimatedbylinearinterpolation.Thistechniqueformsthebasisofallcontourthreadingroutines.Mostcontourthreadingprogramsrequirethattheheightgridbestoredinrandomaccess,mainmemory,sothatthepathofthecontourmaybefollowedasitwandersatrandomoverthemappingarea.AnalgorithmforcontourthreadingbasedonrandomaccessstorageoftheheightgridhasbeenfullydescribedbyCottafavaandLeMolLIAccordingtotheirscheme,oncethepositionofacontourlinehasbeendiscoveredbetweentwogridnodes,theremainingnodesofthecellintowhichthecontourlinehaspassedareexaminedtolocatetheplacewherethecontourlineleavesthegridcell.Theexitpointis,inturn,anentrypointintoanewgridcellandthatcellisnowsearchedforanewexitpoint.Thisprocedureisrepeateduntilthecontourlineisterminatedeitherbyleavingthemappingareaorbyclosingonitself.Cottafava'sandLeMoli'scontourtracingtechniqueisthemostefficientofanyyetderivedforprocessingmedium-sizedheightgridsonlargecomputersystems.Onmedium-sizedcomputers,however,thenecessityofstoringtheheightgridinrandomaccessmainmemoryimposesanundesirablerestrictiononthenumberofrowsandthenumberofcolumnswhichmaybeallowedintheheightgrid.If,forexample,thismethodhadbeenimplementedontheECUPDP-9,noheightgridcouldhavemorethan70rowsor70columns.Asmentionedbefore,thecurrentECUautomatedcontouringsystemcancopewithheightgridshaving120columnsand120rows.TheextraprocessingcapabilityoftheECUsystemisachievedatthecostofslowerexecutiontimebystoringthedatagridonsequentialaccessbackingstore.Foreachcontouringelevationthegridmustbereadfrombackingstore,oneXscanlineatatime.Allpairsofadjacentgridnodesonthisscanlineareexaminedforthepresenceofaninterveningcontourline.TheneachgridnodeispairedwiththelikenumberedgridnodeonthepreviousXscanline(whichmustberetainedinmainmemoryuptothispoint)andcontourintersectionsareonceagaindeterminedforeachofthesepairs.Wheneveracontourintersectionislocatedoneitherofthesetwosearches,itsXandYcoordi-natesarestoredinalistwhichresidesinmainmemory.Oncetheentireheightgridhasbeenreadthroughandprocessedinthisway,alltheintersectionsofcontourlineswithscanlineswillhavebeenfound.,However,theywillbeorderedinthesequenceinwhichtheywerefoundandnotinthesequenceinwhichtheyaretobedrawn.Tore-orderthemintothecorrectdrawingsequence,acontourthreadingroutinewhichoperateswithinthesameframeworkastheschemeofCottafavaandLeMoliisused.Acontourlineisfollowedbyfirstdeterminingitsentranceintoagridcellandthensearchingfortheexitpoint.IntheECUsystem,thelistoftheintersectionpointsissearchedforthosepointslyingontheedgesofthegridcellinquestion.Thegridnodesthemselvesneednotbeexaminedinthesearchfortheexitpoint.Usuallyonlyonesuchpointisfound.Wherethreepointsarefound,indicatingasaddlepointwithinthegridcell,thepointclosesttothepointofentryischosenastheexit.Aspointsonthecontourlinearelocatedinthisway,theyareremovedfromtheunsortedlistandplacedinthepropersequenceinthelistofpointstobedrawn.Thestoragesequenceinbothoftheselistsmayberecordedbystoringwitheachpointareferencetothenextpointinitslist.Thistechniqueallowsbothliststoresideinasingleblockinmainmemoryandavoidsthenecessityofphysicallymovingthestoredcoordinatestoobtainthere-orderedlist.HavingproducedacontourlineasalistofXandYcoordinatesinthecorrectdrawingsequence,theECUautomatedcontouringsystemthendrawsaseriesofcubicpolynomialsegmentspassing,inorder,throughthesepoints.Thecubicpolynomialsegmentsaredeterminedsothattheywilljointogether,endtoend,withoutdis-continuouschangesofgradient.ThisgivesthecontourlinesasmoothlyflowingappearanceandmaskstherigidregularityoftheunderlyinggridAtpresent,themapisdrawnoneitheracathoderaytube(Tektronix611storagedisplay)orahighresolutionplottingtable(AEGGeagraph4000).Thelattermaybefittedwitheitheradraughtingpen,ascribingtooloralightspotprojector(forphotographicdraughting).Noprovisionismadewithinthecontouringsystemitselfforlabellingthecontourlines,forselectivelyemphasisingcontourlinesorforhachuringdepressioncontourlinesinthegraphicoutput.However,informationisprovidedinthedigitalstorageofthesecontourlinesonmagnetictapewhichwill61Downloaded by [Monash University Library] at 11:46 02 July 2016 ·2.4·3.6·4.5·5.4·2.2-2.3·2.8·5.2·2.5·2.6·2.6·3.0·4.6·5.5·2.0·2.8·2.8·2.3·2;5·1.7·2:3-3.0·2.3·2.5·3.0.1.9·3.0·3.5·3.5·3.4·3.1·3.2·3.5·3.4·3.5·3.3·3.1·2.7·3.3·3.2-2.5·2.3·1.5·2.3·2.3·1:4-1.3·1.7·1.8-1.2-1.2·0.90.70.0·0.8-0.71.10.80.21.2080.3·4.6·3.5·4.0·5.4·6.·5.9--6.5·5.0·4.2·2.9·4.8·6.3·6.6.6.1·6.2-6.0·5.7-5.4·6.3·6.2·5.3·5.0·5.2·5.4·5.3.5.9·4.7·5.8·5.9-4.6·6.0·5.9·5.7.5.6·5.6·4.3-4.4-3.9·4.0·4.0-3.7-3.7-3.7·3.6·3.5·3.4·3.3·3.3·3.4·3.E.4.7-4.9·4.9·4..1·3.2·3.4-3.8·3.7_3.5-3.9-3.1.4.4·4.6·5.0.4.9·4.6-5.1.5.3.5.3.3.5.3.7·4.0.4.3·4.2.4.7.3.4·4.1·2.21.21.4-2.6·2.5-2.5-2.5·3.4-1.5-2.20.62.0·1.1-0.9·1.3·1:7·2.1-'.4·3.4·2.7.2.9-3.3·2.4·2.9.3.41.5·1.2·2.5.1.9·1.9-1.8-1.9·3.0-1.6·1.1·1.91.9·1.9-1.2-1.1·0.6·1.81.90.01.90.0·1.4-0.2-0·~0.4-0.3-0.41.9·1.30.1-1.3·0.8·1.1·2.3-1.8.1.7·0.3-0.9·0.10.6·1.90.7·1.90.6-0.12.5·0.20.41.01.71.90.70.4-0.20.51.41.30.91.62.12.,30.6·0.2.0.50.50.70.1-2.7·3.0·3.0-31.·2.7·0.5.0.7·0.7·0.6·0.51.30.61.01.22.81.82.0-3.0-2.80.21.22.70.82.9.10.91.00.90.60.10.40.4·0.4·0.20.10.20.60.4-2.3·2.3·2.2·2.2·1.6·2.1-~.2-1.7·1.5·1.5·1.1·0.6~.3Figure1.BouguerAnomalyObservationPoints(gravitationalanomalyrecordedinmilligals).allowthesegraphicfeaturestobeaddedduringpre-displayprocessing.Asyet,programstoperformthispre-displayprocessingarenotfullydevelopedandthecomputer-producedmapsconsistsolelyofaborderandtheunlabelledcontourlinesfallingwithinthatborder.Allletteringandnumberingmustbeaddedmanually.ContourMapSmoothingTheECUautomatedcontouringsystemisbasedonagridofheightswhichhavebeenderivedbyalocal,weightedaverageofthe.control-pointheights(correctedlocallyforslopeasdescribedbyShepard5).Foreachgridnodejandanycontrolpointi,theweightingfunctionusedisgivenasWij=(1-Dij)2fDij2,Dij~1Wij=O,Dij>1whereDij=dijfR,dijbeingthedistancebetweenpointsiandj,andRbeingtheradiusofthesamplingdisc.Foracontrolpointiclosetothegridnodej,thedistancedijwillbesmall,and,therefore,theweightWijwillbeverylarge.Assumingthatnotwocontrolpointscanbecoin-cident,thisensuresthatwhenagridnodefallsveryclosetoacontrolpoint,theheightinterpolatedfor:thatgridnodeisjusttheheightofthenear-bycontrolpoint.Thus,assumingagridmeshfineenoughtobringanodeclosetoeachcontrolpoint,theinterpolatedsurfacewillpassthroughallthecontrolpoints.Acontourmapdrawnfromaheightgridproducedusingthisweightingfunctionwillbefullyaccurateinthatitwilldepictasurfacewhichpassesthroughallthedatapoints.However,whenthecontrolpointscontainrandomerrorsorwhenrapidfluctuationsinthecontrol-62Downloaded by [Monash University Library] at 11:46 02 July 2016 -1:0I~--..•~..~-----..._..-.-~----..----;----,-;-,~.'.•..~_..'"~--~-\..i"i.r>;(;)',-;:,\\\;".i''--;.\'~'\':\\"'-j!\,.'.•.••.:---'\,\\\;')-=--._.'-.-..--,\."",\\,-----/(',\i"-'-...........,,'\!'\'/'.(iJ:i.:'L·~:'!'.__..'.!,I--,~~~....,//~-~fr-'--,---_/:>~/.------------".,/-----'---:.~~.>.,.",,--/Figure2.SmoothedContourMap(S=O)./.;'/pointheightsareinsignificantfortheintendedpurposeofthecontourmap,completeagreementbetweenthecontrolpointsandthecontourlinesisundesirable.Itispreferableinthosecasestofilteroutthehighfrequencyfluctuationsfromthesurfacewhilekeepingthelow-frequency,trend-bearingfluctuations.Thisremovalofthehigherfrequenciesfromthegeneratedsurfaceiscalledsmoothing.3Toblershasdiscussedthederivationofasmoothedtopographicheightgridfromarougherone.Hisanalysisstressestheapplicationsofsmoothingtocontourmapgeneralisation.Thissuggests~at,besidesprovidingarationalmeansofeliminatingtheeffectsoferrorsorinsignificantfluctuations,smoothingisalsousefulasasubjectiveeditingtoolthroughwhichthecartographermaysystematicallydrawoutorsuppressdetailinthefinishedcontourmap.Thus,ifavariablestrengthsmoothingfacilityisincludedinanautomatedcontouringsystem,theEcartographerusingthatsystemmaycontrolthelevelofdetailinthecreatedmapthroughhisselectionofthedegreeofsmoothingtobeemployed.Thisgivesthecarto-grapherthesortof.editorialcontrolsuggestedbyNewton7withoutforcinghimtohaveexplicitknowledgeoftheweightingfunctionusedintheheightgridgeneration.Atechniqueusingamoving,weightedaverageiscommonlyusedforsmoothingaseriesofmeasuredvalues.8,9Inthissmoothing,thevalueof,eachdatapointiscomputedbyaveragingitsmeasuredvaluewiththemeasuredvalues·ofnear-bydatapoints.Inthetwodimen-sionalcase,this·correspondscloselytoemployingtheheightgridinterpolationschemedescribedabovetoestimateonlytheheightsofthecontrolpoints.However,ratherthanmaintainingfullaccuracyandestimatingeachheighttobejustthemeasuredheight,theweightedaverageusedforsmoothingwillestimateaheightint~rmediate63Downloaded by [Monash University Library] at 11:46 02 July 2016 L""---.-..l''-·1"-',-,.Figure3.SmoothedContourMap(S=0.3).betweenthemeasuredheightofthecontrol-pointandthemeasuredheightsofthesurroundingcontrolpoints.Theprincipaldifferencebetweentakingaweightedaverageforexactinterpolationandtakingaweightedaverageforsmoothingisthis:forexactinterpolationtheweightassignedtoacontrolpointmustbecomelargewithoutlimitinthevicinityofthecontrolpoint,whileinsmoothingtheweightmustneverexceedsomefixedvalue.Limitingthemaximumvalueoftheweightingfunctionensuresthatnoonecontrolpointwillcompletelydominatetheheightestimationinanyarea.Evenifagridnodefallsclosetoacontrolpoint,theweightassignedtothatcontrolpointwillbecomparableto'theweightsofotherpointswhicharefartheraway.Theheightpredictedforthisgridnodeisnotnecessarily,then,theheightoftheclose-bycontrolpoint.Itwillbecomputedasanaverageorinter-mediateheightforalltheneighbouringcontrolpoints.64IntheECDautomatedcontouringsystem,surfacesmoothinghasbeenimplementedbyimposingalowerlimitonDij,thedistance(relativetotheradiusofthesamplingdisc)fromthegridnodejtothecontrolpointi.Allcontrolpointswhichlieclosertothegridnodethanthisminimumdistancearecomputedasthoughtheywereattheminimumdistance.IneffectthislowerlimitonDijimposesanupperlimitontheweightwhichcanbeassignedtoanycontrolpoint.Theweightedaveragewillthengeneratetheheightgridofasmoothedsurfacedirectlyfromthecontrolpoints.ThislimitedweightingfunctionisgivenasWij=(I-S)2jS2,DWS;SWij=(I-Dij)2/Dij2,l~Dij>SWij=O,Dij>1ThequantityS,calledthesmoothingfactor,ischosenDownloaded by [Monash University Library] at 11:46 02 July 2016 Figure4.SmoothedContourMap(S=O.5).bythesystemuser.Hemayselectanynumberbetweenzeroandone.IfS=0ischosen,theweightingfunctionisunlimitedandthesurfaceisinterpolatedwithoutsmoothing.AsSbecomeslarger,however,itimposesaneverdecreasingupperlimitontheweightWij.Allpointslyingwithinthe(relative)distanceSwillbeequallyweighted.Allpointsatagreaterdistancewhichfallwithinthesamplingdiscwillbeweightedbytheusualinversesquarefunction.Thismethodofcombiningsmoothingbyequalweightingandinterpolationbytheinversesquareofdistanceweight-ingwaschosenbecauseofitssimplicityinprogramming.However,asHolloway9shows,althoughequalweightingdoesproduceasmoothedsurfacebyfilteringouthigh-frequencyfluctuations,italsoreversesfluctuationsinthemiddlefrequencyrange.Whilethereareweightingfunctionswhichwillsmoothwithoutreversinganyfluctuation(thenormalcurve,forexample),thecomputationaleaseofequalweightingmakesitthebestsuitedforsmoothingonamedium-sizedcomputersuchastheECUPDP-9.Inpractice,thedistortionsofthemedium-frequencyfluctua-tionsaresmallandusuallynotvisibleinthecontourmap.TheContourMapSmoothingExperimentAdatasetmadeupofwell-distributedpointvaluesoftheBouguergravitationalanomalygatheredoveratwentykilometresquareregionwaschosenasatestofthesmooth-ingfacilityintheECUautomatedcontouringsystem.Theanomalyisrecordedinmilligalsat286controlpointsandispresentedhereinfourmaps.10Figure1-showsonlythecontrolpointsandthevalueoftheanomalymeasuredateachpoint.TheremainingthreemapsshowthecontoursproducedbytheECUautomatedcontouringsystemusingthreedifferentsmoothingfactors.Thisdatasetpresentsnorealdifficultiestotheheight65Downloaded by [Monash University Library] at 11:46 02 July 2016 gridgenerationorthecontourlinethreadingphasesofthecontouringsystem.Theeffectsofthevariationinthesmoothingmay,therefore,bestudiedwithoutdisturbancefromtheperformancecharacteristicsofotheraspectsofthesystem.Allthreecontourmapswereproducedbygeneratingandthencontouringa71by71heightgridbasedonthe286controlpoints.ThemapsweredrawnontheECUGeagraph4000byscribingonOzascribe.ThelabelswereaddedmanuallytopositivestakenfromthescribeddrawingsFigure2,forwhichasmoothingfactorofzerowasused,isin.closeagreementwithallthedatapoints.However,itcontainssomesmallscaleirregularitieswhichacartographiceditormightwelldeeminsignificantorevenmisleadinginthattheyconveyasenseofveracitywhichisnotmeritedbythedensityofthedatapointsample.OnFigure3(smoothingfactor0.3)irregularities,suchaspromontories,spursandre-entrantslopes,havebeenroundedoff,insomecasescausingthedepictedsurfacetodepartfromthecontrolpoints.InFigure4thissmoothingprocessisseentocontinue.Hereasmoothingfactorof0.5hasbeenused.Notonlyareirregularitiessmoothedout,butthegradientsarenoticeablygentler,thesummitsarelowerandthedepressionsarehigher.Althoughfullaccuracyhasbeenlost,themajorcomponentsofthesurfaceremainandmaybereadilyusedforanalysis.Furtherincreasesinthesmoothingfactorwerenotfoundtoproduceanygreatersmoothinginthecontourmap.Thisisduetotheuseofthesamplingdiscincomputingtheweightedaverage.Withsmoothingfactorsgreaterthan0.5,nearlyallpointswithinthediscaregivencomparableweights.Sincethesamplingdiscisalwaysthesameforanynoderegardlessofthesmoothingfactorused,thereisscarcelyanydifferenceintheweightedaveragesofthepointswithinthediscforthelargersmoothingfactors.ConclusionsTheuseofmoderatesmoothingfactorsof0.3and0.5intheheightgridgenerationwereshowninthisexperimenttoproducevisuallysmoother(thoughlessaccurate)contourmaps.Thesmoothingwasconfinedtolocalfeatures.Trendsevidencedbymorethanonecontrolpointwerenotsignifi-cantlyaltered.Theextentofthesmoothingwasapproxi-matelythesameasmightbeemployedinaneditorialsimplificationofthecontourmap.However,thissmoothingtechniqueisnotsuitableforproducinganextremelygeneralisedcontourmapcomparable,forinstance,tothecontoursofaloworderpolynomialsurface.Thisexperimentindicatestheveryconsiderableextent_towhichsubjectivejudgementsmayinfluenceasupposedlymechanicalandobjectiveprocedure.Itistheauthor'sopinionthatthecartographerusinganautomatedcontour-ingsystelnshouldbegiventheabilitytoinfluencethedecisionstakenbytheautomatedprocedurewheneverquestionsofinterpretationarise.Notonlydoesthisliftfromthecomputertheimpossibleburdenofproducingjustwhatthecartographerexpectstosee,italsolaysthefoundationsofasystemofinteractivecontourmapdesigninwhichthecomputerperformsthelaboriousinterpolationsandsmoothings,andthemanprovidestheinterpretiveand.creativein~pira·don.REFERENCES1Cottafava,G.andLeMoli,G.~"Automaticcontourmap",CommunicationsoftheACM,12,7(July1969),386-391.,662Heap,B.R.andPink,M.G.,ThreeContouringAlgorithms,DNAMReport81,NationalPhysicalLaboratory,December1969.3Murray,F.W.,AMethodofObjectiveContourConstruction,RM-5565-NRL,RandCorporation,February1967.4Walters,R.F.,"Contouringbymachine:Auser'sguide",Bulletin,TheAmericanAssociationofPetroleumGeologists,53,11(November1969),2324-2340.5Shepard,D.,"Atwo-dimensionalinterpolationfunctionforirregularly-spaceddata",Proceedingsofthe23rdNationalCon-ference,AssociationforComputingMachinery,517-524.Also,HarvardPapersinTheoreticalGeography,No.15.6Thesesizerestrictionsandthejobtimearequotedmerelytoindicatetheperformanceofthe'currentPDP-9automatedcontouringsystem.Aswithallcomputerprograms,itsperformancecanbeimprovedeitherbyusingmoreefficientalgorithmsorbytransferringittoalargercomputer.SincetheECUautomatedcontouringsystemiswrittenlargelyinASAFORTRANIV,thecompiledalgorithmsarenotasefficientastheymightbehadamachine-orientedcodebeenused.However,sincetheprogramiswritteninastandardprogramminglanguage,itmayeasilybetransportedtoalargercomputerwhereitwillrunathigherspeedsandprocesslargerdatasets.Anticipating.theneedforincreasedperformance,theExperimentalCartographicUnithasbegunimplementingtheautomatedcontouringsystemonaCDC6600computer,amachinewithconsiderablymorepowerthantheECUPDP-9.7Newton,R.,"Derivingcontourmapsfromgeologicdata",CanadianJournalofEarthSciences,5,1(1968),165-166.8Tobler,W.R.,"Ofmapsandmatrices",JournalofRegionalSdence,7,2(Supplement)(1967),275-280.9Holloway,J.L.,"Smoothingandfilteringoftimeseriesandspacefields",AdvancesinGeophysics,4,(1958),351-389.10TheauthorisindebtedtotheInstituteofGeologicalSciencesfortheprovisionofthisdataset.Itshouldbestressed,however,thatthesemapsarein.tendedonlytoillustratetheECUautomatedcontouringsystem.Theyarenotintendedasapresentationofactualgeophysicalinvestigationsandshouldnotbesoconstrued.SocietyofUniversityCartographersCANADIANBRANCHTheSocietyofUniversityCartographerswhichwasestablishedintheUnitedKingdomin1964hasnowbecomeinternationalwiththeinaugurationofaCanadianbranchonOctober30th,1970.AfoundinggroupofCanadianS.U.C~,members·metatYorkUniversity,Torontoand.passedthefollowingmotion-ethatCanadianmembersoftheSocietyofUniversityCartographersapprovetheformationofaCanadianBranch:oftheSociety'.Thefollowingofficerswereelected:-Chairman:JoanRobertson(GuelphUniversity)ViceChairman:GeoffreyMatthews(UniversityofToronto)Secretary/Treasurer:GeraldFradsham(YorkUniversity)Membershipofthebranchhasnowreachedseventyandissteadilyincreasing.AnyenquiriesfrominterestedpersonsinCanadashouldbeaddressedtoMrFradsham,DepartmentofGeography,YorkUniversity,Toronto.EffortsarealsobeingmadetoformanaffiliationwiththeUnitedStatesandanyoneinterestedshouldcontactProfessorFranklinR.Stern,GeographyandEconomicsDepartment,TheStateUniversityCollegeatPotsdam,NewYork13676.A.G.HodgkissDownloaded by [Monash University Library] at 11:46 02 July 2016 