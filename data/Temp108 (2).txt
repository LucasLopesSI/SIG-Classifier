Geoinformatica
DOI 10.1007/s10707-014-0221-7

EcoMark 2.0: empowering eco-routing with vehicular
environmental models and actual vehicle fuel
consumption data

Chenjuan Guo · Bin Yang · Ove Andersen ·
Christian S. Jensen · Kristian Torp

Received: 5 November 2013 / Revised: 8 August 2014 / Accepted: 21 October 2014
© Springer Science+Business Media New York 2014

Abstract Eco-routing is a simple yet effective approach to substantially reducing the
environmental impact, e.g., fuel consumption and greenhouse gas (GHG) emissions, of
vehicular transportation. Eco-routing relies on the ability to reliably quantify the environ-
mental impact of vehicles as they travel in a spatial network. The procedure of quantifying
such vehicular impact for road segments of a spatial network is called eco-weight assign-
ment. EcoMark 2.0 proposes a general framework for eco-weight assignment to enable
eco-routing. It studies the abilities of six instantaneous and five aggregated models to esti-
mating vehicular environmental impact. In doing so, it utilizes travel information derived
from GPS trajectories (i.e., velocities and accelerations) and actual fuel consumption data
obtained from vehicles. The framework covers analyses of actual fuel consumption, impact
model calibration, and experiments for assessing the utility of the impact models in assign-
ing eco-weights. The application of EcoMark 2.0 indicates that the instantaneous model
EMIT and the aggregated model SIDRA-Running are suitable for assigning eco-weights
under varying circumstances. In contrast, other instantaneous models should not be used for
assigning eco-weights, and other aggregated models can be used for assigning eco-weights
under certain circumstances.

C. Guo · B. Yang ((cid:2)) · O. Andersen · C. S. Jensen · K. Torp
Department of Computer Science, Aalborg University, Selma Lagerl¨ofs Vej 300,
9220, Aalborg Ø, Denmark
e-mail: byang@cs.aau.dk

C. Guo
e-mail: cguo@cs.aau.dk

O. Andersen
e-mail: xcalibur@cs.aau.dk

C. S. Jensen
e-mail: csj@cs.aau.dk

K. Torp
e-mail: torp@cs.aau.dk

Keywords CAN bus · Eco-routing · Eco-weights · GPS Trajectories · Vehicular
environmental impact

Geoinformatica

1 Introduction

Reduction in greenhouse gas (GHG) emissions is crucial for combating global warming
that has an increasingly adverse effects on life on Earth. The European Union (EU) aims
to reduce GHG emissions by 30 % by 2020 [9], and the Group of Eight (G8) plans a 50 %
reduction by 2050 [3]. Australia aims at a more ambitious target: an 80 % reduction by
2050 [2]. China targets a 17 % reduction over 2010 levels by 2015 [1].

The transportation sector is the second largest sector in terms of GHG emissions, trailing
only the energy sector. In the EU, emissions from transportation account for nearly a quarter
of the total GHG emissions [6]. Further, road transport generates more than two-thirds of
transport-related GHG emissions and accounts for about one-fifth of the EU total emissions
of carbon dioxide (CO2), the major greenhouse gas [7]. Therefore, reduction targets such
as the above pose great challenges to the transportation sector in general and to vehicular
transportation in particular.

In addition to improved design of vehicles and engines, eco-routing [13, 27, 29] is a
simple yet effective approach that recommends eco-friendly routes and is expected to be
able to reduce vehicle GHG emissions by approximately 8–20 % [15, 16].

An important first step towards eco-routing is to assign eco-weights that quantify the
environmental impact of vehicles traveling on road segments. Given a spatial network
where each road segment is associated with an eco-weight, classical routing algorithms,
e.g., Dijkstra’s Algorithm [52], can then be utilized to compute eco-friendly routes
straightforwardly.

To quantify vehicular environmental impact by means of eco-weights, two methods can
be considered. First, actual fuel consumption data can be obtained from vehicles’ CAN bus
devices [5] and then used for deriving eco-weights. However, as such fuel consumption data
is difficult to obtain at scale, it is difficult to cover an entire network with CAN bus fuel
data. This method is limited by its data coverage.

Second, scientists in research areas such as energy engineering, civil engineering, and
environmental science have proposed a range of models that aim to quantify vehicular
environmental impact [37, 44, 45]. These models require simple input, e.g., speeds and
accelerations, which can be obtained directly from GPS trajectories. Compared with CAN
bus fuel data, the coverage of GPS trajectories is much higher. Thus, GPS trajectories
combined with models for estimating vehicular environmental impact provide a promising
foundation for assigning eco-weights to all segments in a spatial network.

However, most impact models are developed under certain circumstances, and they need
to be calibrated before use. How to use the models for assigning eco-weights is not well
investigated, and the field needs an effective and general method that can guide users to use
the best models for assigning eco-weights under different circumstances, e.g., use different
models for road segments that have different lengths and speed limits.

Our previous work, EcoMark [20], represents a first attempt at understanding the util-
ity of models for assigning eco-weights to enable eco-routing. EcoMark takes as input
velocities and accelerations obtained from GPS trajectories, as well as road grades from
a 3D spatial network [17], and it studies whether models show consistent behaviors for
predicting vehicular environmental impact and how the models can be utilized for eco-
routing.

Geoinformatica

Nevertheless, as actual fuel consumption data was not used in EcoMark, EcoMark suffers
from two drawbacks. First, the models for estimating vehicular environmental impact cannot
be calibrated, and various case-specific parameters are set to default values. This may lead
to incorrect use of the models. Second, a model’s estimates cannot be compared with actual
fuel consumption but only the estimates of other models. This also reduces the utility of
EcoMark.

EcoMark 2.0 leverages an additional data source for developing methods for assigning
eco-weights, in addition to GPS trajectories and a 3D spatial network, namely actual fuel
consumption data obtained from vehicles’ CAN bus devices [5]. Part of this data can be
used for calibrating the models, and the remaining data serves as a ground-truth, against
which model estimates can be assessed under varying circumstances.

Thus, the focus of this paper is to devise a general framework for evaluating envi-
ronmental impact models that are to be used for assigning eco-weights, given actual fuel
consumption, GPS trajectories, and a 3D spatial network. We apply this framework using
data collected from 4 Mercedes-Benz Sprinter (2.1 liter 4-cylinder engine) vehicles that
traveled in Herning, Denmark from October 2012 to March 2013. We characterize the
conditions under which a model can be used for assigning eco-weights.

To the best of our knowledge, this paper’s proposal of EcoMark 2.0 and its subsequent
application represent the first comprehensive experimental study of assigning eco-weights
for eco-routing using GPS trajectories and actual fuel consumption data obtained from vehi-
cles. A few other works have considered assigning eco-weights to spatial networks [14, 18].
However, they assume that particular impact models are accurate and use GPS data to assign
eco-weights in different settings, e.g., assigning eco-weights to the edges that are not cov-
ered by any GPS data [14] and updating eco-weights as real-time GPS data streams in [18].
Thus, they are largely orthogonal to EcoMark 2.0.

The paper makes three contributions. First, a sophisticated framework for assigning
eco-weights is proposed that encompasses models for estimating vehicular environmental
impact, GPS trajectories, and CAN bus data. Second, a categorization and comparison of
eleven models that are potentially suitable for assigning eco-weights are conducted. Third,
comprehensive experimental studies are conducted on a half-year collection of GPS and
CAN bus data from vehicles traveling in Herning, Denmark. Interesting findings obtained
from the framework for assigning eco-weights are presented.

The remainder of the paper is organized as follows. Section 2 gives a comprehensive
review of the state-of-the-art techniques for estimating fuel consumption and GHG emis-
sions. Section 3 presents the EcoMark 2.0 framework. Section 4 categories the eleven
models into instantaneous models and aggregated models and discusses them in detail.
Section 5 provides a comprehensive empirical study of the impact models, including anal-
ysis of CAN bus fuel, calibration procedures, and a comparison with the CAN bus fuel.
Conclusions are drawn in Section 6.

2 Related work

The fuel consumed by a vehicle is influenced by multiple factors [31, 42, 43], such as vehicle
technology (e.g., vehicle model and size, engine power, and type of fuel), vehicle status
(e.g., mileage, age, and engine status), vehicle operating conditions (e.g., vehicle velocity
and acceleration, power demands, and engine speed), driving behavior (e.g., aggressive
driving), weather conditions (e.g., atmospheric pressure, air humidity, wind effects, and
snow and water on the roads), road conditions (e.g., road grade and surface roughness), and

Geoinformatica

traffic conditions (e.g., vehicle-to-vehicle and vehicle-to-control interactions). In general,
different models consider different selections of these factors to compute fuel consumption
and GHG emissions.

Models for estimating fuel consumption or GHG emissions have been developed over the
past thirty years and can be classified as macroscopic and microscopic scale models [47].
Macroscopic models [23, 30, 32, 45] account for the total fuel consumed during an extended
time period (e.g., a day, a week, or a year) when traveling in an extended region (e.g., a city
or a state) [43]. They are suitable for applications where coarse estimation of environmen-
tal impact is desired. However, macroscopic models are unable to accurately estimate the
environmental impact of a particular road segment traveled by an individual vehicle or of
a particular driving operation (e.g., braking hard), which are of interest in eco-routing and
eco-driving.

In contrast, microscopic models estimate the instantaneous fuel consumption or GHG
emissions of individual vehicles at given time points (usually at the granularity of sec-
onds) using instantaneous velocities and accelerations. Some models utilize additional
information, including vehicle status, vehicle operating conditions, and road conditions.

Microscopic models are further classified into three categories [43]. Emission map
models [48] provide lookups in velocity-acceleration matrices and return corresponding
emission values. Regression-based models [37, 44, 49] employ mathematical functions of
second-by-second velocities and accelerations of a vehicle to predict instantaneous fuel
consumption or GHG emissions. They do not consider physical features of vehicles. Load-
based models [21, 24, 34, 36, 39] are the most comprehensive microscopic models, and
they consider a wide range of parameters, such as second-by-second velocities and accel-
erations, grades of road segments, weather conditions, engine maximum power, gear ratio,
and engine power demands.

Microscopic models are often employed to evaluate the environmental impact of a traver-
sal of individual road segments on a spatial network and of particular driving operations.
The comprehensive load-based models generally offer the best estimates of fuel consump-
tion. However, the required parameters are difficult to obtain for individual vehicles in a
scalable manner. In contrast, regression-based models are fairly easy to apply because their
input, e.g., instantaneous velocities and accelerations, can be obtained directly from GPS
trajectories. EcoMark 2.0 aims to evaluate the environmental impact of travel using models
that do not require vehicle-specific factors. The details of the qualifying models are covered
in Section 4.

Rakha et al. conduct a comparison [28, 40] of a regression-based model, VT-Micro [37,
42], a load-based model, CMEM [34], and a macroscopic model, MOBILE6 [45]. The study
finds that VT-Micro estimates fuel consumption more accurately than do the other two
models. The study uses GPS data as input and considers the fuel consumption of a vehicle
when it travels on highway routes and on arterial routes, respectively. The estimates obtained
from VT-Micro and CMEM follow the same trend and indicate that choosing arterial routes
generates less emissions than when choosing highway routes, whereas estimates obtained
from MOBILE6 suggest the opposite.

EcoMark 2.0 is significantly different from its predecessor EcoMark [20] in the

following respects.

1. The foci of the two papers are different: EcoMark 2.0 provides a general framework
for assigning eco-weights to a spatial network, including a method for analyzing actual
fuel consumption, methods for calibrating impact models, and a set of experimen-
tal designs for investigating the utility of impact models in assigning eco-weights. In

Geoinformatica

contrast, EcoMark only conducts experiments that compare fuel consumption estimates
across models.

2. The data resources are different: EcoMark 2.0 utilizes actual fuel consumption data
obtained from vehicles’ CAN bus devices, in addition to GPS trajectories and a 3D
spatial network. In contrast, actual fuel consumption is not available when EcoMark
was developed.

3. The conclusions are significantly different: EcoMark 2.0 is able to investigate the util-
ity of the impact models at assigning eco-weights more deeply and draws conclusions
on circumstances under which a model is applicable for assigning eco-weights. In con-
trast, EcoMark, due to the lack of actual fuel consumption, only draws more abstract
conclusions.

To the best of our knowledge, EcoMark 2.0 is the first framework that provides methods
for investigating the utility of fuel consumption models for assigning eco-weights using
GPS vehicle tracking data and actual fuel consumption data obtained from vehicles.

3 EcoMark 2.0 design

3.1 EcoMark 2.0 overview

Following an overview of EcoMark 2.0, we define the trajectories used in EcoMark 2.0 and
then introduce CAN bus techniques that record the fuel consumption of a travel in a spatial
network.

EcoMark 2.0 is designed as a general framework for the study of impact models assigning
eco-weights to road segments that reflect the fuel consumption associated with traversing
the road segments. It aims to provide an understanding of the utility of the impact models
for assigning eco-weights under varying circumstances.

Figure 1 gives an overview of EcoMark 2.0.
Three types of raw data are used: combined GPS and CAN bus observations (i.e., a set of
GPS observations with CAN bus corresponding actual fuel consumption data), a 2D spatial
network, and a laser scan point cloud [8]. A map matching module takes as input the GPS
and CAN bus observations and the 2D spatial network. It outputs a set of map matched
trajectories annotated by the fuel consumption data, referred to as CAN bus trajectories.

A 3D spatial network generation module [17] creates a 3D spatial network from the 2D
spatial network and the laser scan point cloud. Details on the generation of a 3D spatial
network are covered in EcoMark [20] and another study [17], and thus we do not cover this
aspect here.

The CAN bus trajectories, eleven impact models, and the 3D spatial network are fed into
EcoMark 2.0. The impact models supported by EcoMark 2.0 take as input traffic and road
information that can be obtained from GPS trajectories and a 3D spatial network.

EcoMark 2.0 includes three modules. The CAN bus fuel analysis module analyzes the
actual fuel consumption data carried by CAN bus trajectories and learns features of the data
in varying settings. The model calibration module provides methods for calibrating impact
models using actual fuel consumption data. The output of this module is a set of values
that can be used to set the parameters of an impact model under given circumstances, e.g.,
for a specific type of vehicles. The model assessment module provides an experimental
framework for comparing actual fuel consumption with the fuel consumption estimated by

Geoinformatica

Fig. 1 Overview of EcoMark 2.0

the impact models whose parameters are set in the calibration module. The experimental
results provide insight into the circumstances under which estimates of an impact model are
consistent with the actual fuel consumption.

EcoMark 2.0 provides a case-generic framework for assigning eco-weights to road seg-
ments of a spatial network. Given a vehicle type and GPS trajectories annotated with actual
fuel consumption that only cover a part of the spatial network, the utility of impact mod-
els in assigning eco-weights can be drawn using EcoMark 2.0. This information can be
used to assign eco-weights to road segments where actual fuel consumption, or even GPS
trajectories, are unknown.

For road segments where only GPS trajectories are available, the vehicular environmen-
tal impact for traversing the road segments can be estimated by the impact models using
velocities and accelerations carried by the GPS trajectories. For road segments where no
GPS trajectories are available, such vehicular environmental impact can be estimated by
the impact models using the speed limit, or annotated based on eco-weights on the road
segments where actual fuel consumption or GPS trajectories are known [14].

3.2 Trajectories

Since vehicle tracking using GPS is widespread and growing, GPS based vehicle tracking
data is increasingly available and is thus an attractive source of vehicle movement data.
Therefore, such data is used in EcoMark 2.0.

A trajectory, denoted as T = (cid:2)g1, g2, . . . , gX(cid:3), is a sequence of GPS observations, where
a GPS observation gi specifies the location (typically 2D with latitude and longitude coordi-
nates) and velocity of a vehicle at a particular time point. Specifically, 1 Hz GPS trajectories,
i.e., 1 GPS observation per second, are used in this paper. Instantaneous velocities are

Geoinformatica

available directly from GPS trajectories, and instantaneous accelerations can be derived
based on consecutive GPS observations.

A spatial network G = (V, E, W) is an undirected weighted graph, where V is a set of
vertices, E ⊆ V × V is a set of edges, and W is a set of weights, each of which records the
length or travel cost (e.g., time or fuel consumption) on an edge e ∈ E. A map-matching
algorithm [25] is able to associate each observation, specified with coordinates, in a trajec-
tory with a specific location on an edge in G.E. The map-matching algorithm also enhances
the accuracy of GPS trajectories by correcting inaccurate observations and filtering noisy
observations.

An alternative to using GPS is to use Wi-Fi and roadside technologies, e.g., Bluetooth
sensors and loop detectors, for the capture of vehicle velocities. However, only Wi-Fi and
Bluetooth sensors may be able to link individual observations to specific vehicles, and
the observations are much less frequent than what can be achieved with GPS. Thus, such
observations are less attractive for the estimation of the environmental impact of a vehicle.

3.3 CAN bus fuel consumption data

A Controller Area Network (CAN) bus is a serial bus network that was initially designed as
a communication medium of control units in vehicles [35, 38] and has become popular in
other application domains [4]. A CAN bus provides a fast and reliable bus system to connect
actuators with sensors that are able to measure various vehicle-related information [33],
e.g., fuel consumption, which can be transmitted via CAN messages.

The CAN bus data used in this paper is collected using off-the-shelf commercial equip-
ment [5], which is installed in vehicles. Vendors of the equipment claim that the deviation
between tanked liters and CAN bus fuel consumption is between −2 % and +2 % [10]. The
equipment in each vehicle reads and combines GPS information and CAN messages on a
second-by-second basis, and it sends the data wirelessly to a central server. Thus, we obtain
the combined GPS and CAN bus data, as presented in Fig. 1.

Each GPS + CAN bus observation is denoted as gc = (g, f, tf , tm), where gc.g is the
GPS observation including the location with latitude and longitude coordinates and instan-
taneous velocity, and gc.f is the instantaneous fuel consumption. Next, gc.tf is the total
fuel consumption and gc.tm is the total travel mileage. These are values accumulated since
the time the equipment was set up.

The instantaneous fuel consumption gc.f has been found to be imprecise because its
values are estimated from indicators by the equipment [12]. Therefore, we derive the fuel
consumption of a segment, with a 0.01 liter precision, on a spatial network using the total
fuel consumption gc.tf and the total travel mileage gc.tm. In the subsequent discussions, we
refer to the fuel consumption of a segment obtained from CAN bus data as CAN bus fuel.
Assume that two adjacent road segments ei and ei+1, whose lengths are ei.l and ei+1.l,
are traversed by a trajectory containing a sequence of GPS + CAN bus observations
(cid:2)gca, gca+1, . . . , gca+b
(cid:3), where gca and gca+j (j (cid:2) b) are the first GPS + CAN bus obser-
vations on ei and ei+1, respectively. CAN bus fuel cfi on segment ei is derived using
Eq. 1.

cfi =

gca+j .tf − gca.tf
gca+j .tm − gca.tm

× ei.l

(1)

A CAN bus trajectory is a sequence of records (cid:2)S1, S2, . . . , SY (cid:3) that contain GPS obser-
vations and CAN bus fuel on a sequence of road segments (cid:2)e1, e2, . . . , eY (cid:3). Specifically,
each record Si = (ei, Ti, cf i) contains road segment ei, a sequence of GPS observations

Ti on ei, and CAN bus fuel cfi on ei. By using Eq. 1, it is straightforward to convert GPS +
CAN bus observations into CAN bus trajectories. In the forthcoming discussion, whenever
we mention trajectories, we refer to CAN bus trajectories.

Geoinformatica

4 Model analysis

EcoMark 2.0 covers eleven state-of-the-art models that estimate vehicular environmental
impact. These models are categorized into instantaneous models and aggregated models.
The instantaneous models take as input instantaneous (i.e., second-by-second) veloci-
ties and accelerations and output instantaneous fuel consumption or GHG emissions. In
contrast, the aggregated models take as input average velocities and output aggregated
fuel consumption or GHG emissions. The aggregated models can be applied at different
aggregation levels, e.g., at the level of road segments or at the level of sequences of road seg-
ments. Instantaneous models and aggregated models are described in Sections 4.1 and 4.2,
respectively.

All the models share the property that their input can be derived from GPS trajectories,
i.e., velocities and accelerations, and a 3D spatial network, i.e., road grades. Values are
not specified for some parameters below because they need to be calibrated using real fuel
consumption data. To ease the following discussion, important notation is introduced in
Table 1.

4.1 Instantaneous models

4.1.1 EMIT

The EMIssions from Traffic (EMIT) model [44] was proposed by Cappiello et al. and aims
to require simple input while still considering physical features of vehicles. EMIT assumes
that (1) the road grade is 0; (2) the engine power required for accessories, e.g., air condi-
tioning, is 0; (3) no history effects, e.g., cold-start, are present; and (4) only hot-stabilized
conditions are considered. It takes as input instantaneous velocity vt (m/s) and acceleration
at (m/s2) and predicts the fuel consumption rate ft (g/s) at time point t.

(cid:2)

ft =

α + β · vt + γ · v2
t
α(cid:6)

+ δ · v3
t

+ ζ · at · vt

if Ptract > 0
if Ptract (cid:2) 0,

where α, β, γ , δ, ζ , and α(cid:6) are model-specific parameters [44], and Ptract is calculated
according to the following equation.

Ptract = A · vt + B · v2
t

+ C · v3
t

+ M · at · vt + M · g · sin θt · vt ,

Table 1 Notation

Notation

Description

vt
at
θt
ft
¯f

Instantaneous velocity at time point t

Instantaneous acceleration at time point t

Road grade at time point t

Instantaneous environmental impact at time point t

Environmental impact per unit distance

Unit

m/s or km/ h
m/s2 or km/ h/s
degree or %

g/s or mL/s

g/km or mL/km

Geoinformatica

4.1.2 VT-Micro

where A, B, C and M are parameters related to physical vehicle features, g = 9.81 is the
gravitational constant, and θt is the road grade and is always set to 0 [44].

VT-Micro, by Rakha et al. [37, 42], is a regression model that uses only instanta-
neous velocities and accelerations without considering the physical features of vehicles.
VT-Micro makes the following assumptions: (1) the model
is developed for light-
duty vehicles and trucks; (2) the model only estimates fuel consumption and vehicle
emissions for hot-stabilized conditions and does not consider the effect of vehicle
start.

The model takes as input the instantaneous velocity vt (km/ h) and acceleration at
(km/ h/s), and it estimates fuel consumption or emission rate ft (L/s or mg/s) at time point
t as follows.

⎧
⎪⎨

⎪⎩

ft =

(cid:7)
3
i=0

(cid:7)
3
j =0(Ki,j · vi
t

exp(

· aj

t ))

ifat (cid:3) 0

(cid:7)
3
i=0

(cid:7)
3
j =0(Li,j · vi
t

exp(

· aj

t ))

ifat < 0,

where Ki,j and Li,j are model coefficients for accelerating (at (cid:3) 0) and decelerating (at <
0) conditions, respectively.

4.1.3 MEF

MEF, by Lei et al. [22], is a regression-based model based on VT-Micro [37] and
POLY [41]. It employs not only current velocity and acceleration, but also historical
accelerations, to estimate emissions and fuel consumption.

At time point t, MEF takes as input the current velocity vt and the current acceleration
at , and also the historical (up to 9 seconds before t) accelerations, i.e., at−i, i = 1, ..., 9.
The instantaneous fuel consumption or emissions rate ft (g/s) at time point t is calculated
as follows.

⎧
⎪⎪⎨

⎪⎪⎩

(cid:8)(cid:7)
3
i=0

(cid:7)
3
j =0

exp

(cid:8)(cid:7)

(cid:7)
3
j =0

3
i=0

exp

(cid:8)
λi,j × vi
t
(cid:8)
γi,j × vi
t

× ¯aj
t

× ¯aj
t

(cid:9)(cid:9)

(cid:9)(cid:9)

if ¯at (cid:3) 0

if ¯at < 0,

ft =

where λi,j and γi,j are model coefficients and ¯at is the composite acceleration given as
¯at = α · at + (1 − α) ·

(cid:7)
9
i=1

at−i
9 .

4.1.4 SP

Vehicle Specific Power (SP) is due to Jim´enez-Palacios [49]. Instead of designing a model
for estimating emission rates or fuel consumption directly, Jim´enez-Palacios defines SP
as the instantaneous power per unit mass of a vehicle. Jim´enez-Palacios argues that SP is
directly related to the vehicle engine load and thus to emission rates and fuel consumption.
The model is claimed to be more reliable than the models based solely on velocities and
accelerations.

Geoinformatica

At time point t, SP takes as input vehicle velocity vt (m/s) and acceleration at (m/s2) as
well as road grade θt (%) and the headwind vw (m/s). The SP value at time point t, denoted
as SPt , is defined, without a unit, as follows.

SPt = vt · (1.1 · at + 9.81 · θt + 0.132) + 0.000302 · (vt + vw)2 · vt

4.1.5 Joumard

Joumard et al. [50] report on a study that aims to identify the most important parameters that
influence fuel consumption and emissions rates and that can be used to assess the design
of traffic management systems on their impact on traffic pollution. The model, denoted
as Joumard, assumes that: (1) travel occurs in urban conditions, and (2) the engine is hot.
Joumard takes as input instantaneous velocity vt (m/s) and acceleration at (m/s2), and it
computes the instantaneous fuel ft as follows.

ft = vt + vt · at

Joumard et al. do not specify the unit of ft .

4.1.6 SIDRA-Inst

SIDRA, by Bowyer et al. [51], is a framework that includes four fuel consumption esti-
mation models. SIDRA has been developed into commercial products.1 The four models
integrate vehicle energy features (e.g., vehicle mass and drag force) and are designed in
increasing order of aggregation. The four interrelated models follow the same modeling
framework, where a more aggregated model is derived from a more detailed model. Specif-
ically, the SIDRA framework includes an instantaneous model, a four-mode element (i.e.,
acceleration, cruise, deceleration, and idle) model, a running speed model, and an aver-
age travel speed model, denoted as SIDRA-Inst, SIDRA-4Mode, SIDRA-Running, and
SIDRA-Avg, respectively.

SIDRA-Inst, the least aggregated model, takes as input instantaneous vehicle speed vt
(m/s) and acceleration at (m/s2) and road grade θt (%) at time point t, and it computes the
instantaneous fuel consumption ft (mL/s) as follows.

(cid:2)

ft =

α + β1 · Rt · vt + [β2 · M · a2
t
α

· vt /1000]at >0 Rt > 0
Rt (cid:2) 0,

+ 9.81 · 10−5 · M · θt is the total tractive force required
where Rt = M · at /1000 + b1 + b2 · v2
t
to drive the vehicle. α is the idle fuel consumption rate. β1, β2, b1, and b2 are calibration
parameters. M is vehicle mass (kg).

4.2 Aggregated models

4.2.1 Song

1http://www.sidrasolutions.com/

Song et al. [26] offer a model that aims to capture the effects of dynamic traffic conditions
on fuel consumption and to evaluate the effects of different operational strategies in a spatial
network. The model, denoted as Song, is built on SP, but omits the road grade used in

Geoinformatica

SP. Given a route e, Song takes as input all instantaneous vehicle velocities (m/s) and
accelerations (m/s2) recorded on e and computes a relative fuel consumption indicator Ie
for a light duty vehicle that traverses e. Indicator Ie does not have a unit. It is defined as
follows.

β ·

Ie =

(cid:7)
T
t=1 τt + T
(cid:7)
T
t=1 vt
ε

γ ·

,

where T is the total travel time (s) on route e; β, γ , and ε are coefficients [26]; and τt is a
surrogate variable of vehicle specific power at time point t, which equals SP(cid:6)
t > 0,
and equals 0 if SP(cid:6)
= vt · (1.1 · at + 0.132) + 0.000302 · v3
t .
t

(cid:2) 0, where SP(cid:6)
t

t if SP(cid:6)

4.2.2 Tavares

Tavares et al. [27] propose a route optimization method for minimizing the vehicle fuel
consumption that is needed for the collection and transportation of municipal solid waste
on Santiago Island.

The cost function, denoted as Tavares, is derived from COPERT [46] and is designed for
estimating fuel consumption of heavy duty diesel vehicles. It takes into account the average
velocity ¯v (km/ h) on a road segment, the percentage of vehicle load LP, and the road grade
θ (%). It computes the fuel consumption per unit distance ¯f (g/km) as follows.

¯f = FCS · LCF · GrCF,

where FCS = 1068.4 · ¯v−0.4905 indicates the basic fuel consumption; LCF = 1 + 0.36 ·
(LP −50)
indicates the additional influence of vehicle weight; and GrCF = 0.41 · e0.18·θ
100

indicates the additional influence of road grades.

4.2.3 SIDRA-4Mode

SIDRA-4Mode [51] is a four-mode model for estimating fuel consumption when a vehicle
drives on a road segment, making repeated stops and starts. The driving can be modeled as
a cruise-deceleration-idle-acceleration-cruise cycle. In particular, the overall fuel consump-
tion Fs (mL) is calculated as Fs = Fc1 + Fd + Fi + Fa + Fc2, where Fc1 (mL) and Fc2 (mL)
are the fuel consumptions when a vehicle cruises at speed v1 for distance x1 and at speed
v2 for distance x2, respectively; Fd (mL), Fi (mL), and Fa (mL) are the fuel consumption
when the vehicle is decelerating, idle, and accelerating, respectively.

Due to the space limitation, only the function for cruising, i.e., Fc, is covered here.

Readers may refer to the original report [51] for the details of Fd , Fi, and Fa.

Cruising occurs when traveling between consecutive accelerations or decelerations. The
function Fc takes as input the average cruising speed vc (km/ h) (allowing small fluctua-
tions), the cruising distance xc (km), and the road grade θ (%), and it computes the cruising
fuel consumption Fc (mL) as Fc = ¯fc · xc, where the cruising fuel consumption per unit
distance ¯fc (mL/km) is defined as follows.

¯fc = 3600·α

+ A + B · v2
c
+ 0.0981 · kG · β1 · M · θ,

vc

+ kE1 · β1 · M · Ek+ + kE1 · β2 · M · E2
k+

where Ek+ is the marginal fuel consumption due to speed fluctuations, and kE1, kE2, and
kG are calibration parameters. Ek+, kE1, kE2, and kG can be estimated from vc [51]. α, β1,

Geoinformatica

β2, A, and B are calibration parameters. α, β1, β2, and M are the same parameters as used
by SIDRA-Inst.

4.2.4 SIDRA-Running

SIDRA-Running [51] is a more aggregated model derived from SIDRA-4Mode. The overall
fuel consumption of a trip made by a vehicle includes the fuel consumed during the period
of running and the fuel used when the vehicle is stopped briefly. The model requires as
input xs (km), the total travel distance; ts (s), the total travel time; θ (%), the road grade; vi
(km/ h) and vf (km/ h), the initial and final velocity during each positive acceleration, with
the constraint that vi < vf ; and ti (s), the total idle (stopped) time.

In cases where vi, vf , and ti are unknown, they can be estimated using given functions,

or they can be replaced by other parameters [51].

The fuel consumption of the running mode Fs (mL) is estimated as Fs = Fi + ¯fr · xs,
where Fi = α · ti is the fuel consumption during idle periods and ¯fr (mL/km) indicates
the average fuel consumption per unit distance excluding idle periods, which is computed
as follows.

¯fr = 3600·α

+ A + B · v2
r
+ 0.0981 · kG · β1 · M · θ,

vr

+ kE1 · β1 · M · Ek+ + kE2 · β2 · M · E2

K+

where vr = 3600·xs
is the average running speed (km/ h). Ek+ is the same as defined in
(ts −ti )
SIDRA-4Mode, and kE1, kE2, and kG are calibration parameters estimated from vr [51]. α,
β1, β2, A, B, and M are the calibration parameters used by SIDRA-4Mode.

4.2.5 SIDRA-Avg

SIDRA-Avg, the average travel speed fuel consumption model, is the simplest and most
aggregated model in the SIDRA framework, where only the average travel speed is
required [51]. SIDRA-Avg takes as input the total travel distance xs (km) and the total travel
time ts (s) including the time when stopped.

It is suggested that the model can only be used in urban road networks and that the
average travel speed should be below 50 km/ h. When the average speed exceeds 50 km/ h,
SIDRA-Running should be used instead [51]. The fuel consumption per unit distance ¯fa
(mL/km) is defined as follows.

¯fa = 3600 · α

vs

+ c · K,

where vs = 3600·xs
is the average travel speed (km/ h). c is a regression coefficient and K
is an adjustment factor. c and K can be derived using α, β1, β2, A, B, and M, which are the
same as those used by SIDRA-4Mode [51].

ts

4.3 Summary

In the summary of models in Table 2, (cid:4) (×) indicates that a model considers (does not
consider) a feature.

The inputs required by the models are obtainable from GPS trajectories, i.e., velocities
and accelerations (Vel and Acc in Table 2), and therefore all models can be applied straight-
forwardly in most spatial networks. Table 2 shows that instantaneous models require both

Geoinformatica

Table 2 A summary of models for estimating vehicular environmental impact

Input

Physical Absolute Vehicle

Model Data

Models

Vel Acc Features Value

Type

Year

Source

Instantaneous EMIT [44]

VT-Micro [37, 42]

SP [49]

MEF [22]

Joumard [50]

SIDRA-Inst [51]

(cid:4) (cid:4) (cid:4)

(cid:4) (cid:4) ×

(cid:4) (cid:4) (cid:4)

(cid:4) (cid:4) ×

(cid:4) (cid:4) ×

(cid:4) (cid:4) (cid:4)

Aggregated

Song [26]

(cid:4) (cid:4) (cid:4)

(cid:4) ×

×
Tavares [27]
SIDRA-4Mode [51] (cid:4) × (cid:4)
SIDRA-Running [51] (cid:4) × (cid:4)
(cid:4) × (cid:4)
SIDRA-Avg [51]

(cid:4)

(cid:4)

×

(cid:4)

×

(cid:4)

×

(cid:4)

(cid:4)

(cid:4)

(cid:4)

Light

Light

2002 U.S.

2004 U.S.

Unknown

1999 U.S.

Light

Passenger

2010

1995

China

EU

Light, Heavy 1985 Australia

Light

Heavy

2009

2009

China

Cape Verde

Light, Heavy 1985 Australia

Light, Heavy 1985 Australia

Light, Heavy 1985 Australia

velocities and accelerations as input, while most aggregated models take only velocities as
input. The road grade is an optional input parameter in the instantaneous as well as the
aggregated models. Studies exist that indicate the benefits of considering road grades in the
models [27]. As we do not use road grade information in this paper, we omit it in Table 2.

Some models, specifically EMIT, SP, Song, and the SIDRA family, explicitly combine
physical vehicle features (indicated by the Physical Features column in the table) in the
fuel consumption computation, whereas the remaining models, namely VT-Micro, MEF,
Joumard, and Tavares, do not consider such features. No correlation exists between the type
of model, i.e., instantaneous or aggregated model, and the use of physical features.

Most models predict an absolute impact value with units (indicated by the Absolute Value
column. The units of the absolute impact values reported by instantaneous models are typ-
ically volume unit per time unit (e.g., mL/s) or mass unit per time unit (e.g., mg/s). For
the aggregated models, volume (or mass) unit per distance unit, e.g., mL/km or g/km, are
reported. In contrast to the majority of models, SP and Song provide a relative indicator
of fuel consumption. Although Joumard is able to predict an “absolute” value, its unit is
unclear in the description of the model [50]. Therefore, we regard the value as a relative
indicator.

All the models have prerequisites on vehicle types, as listed in the Vehicle Type column.
The models are also developed during different years and in different regions (as listed in
the Model Year and Data Source columns). Therefore, the gathered traffic information and
the measured fuel consumption that were used to calibrate the models may also be different.
This may to some extent explain the use of different parameters in the models.

5 Empirical studies

We conduct comprehensive empirical studies to compare and analyze the eleven models
using actual vehicle fuel consumption data, in order to gain insight into the properties of
the different categories of models and how to apply the models to assign weights for eco-
routing.

Table 3 The number of (α, β)-routes with α = 15 and β = 15

Data Set

#Routes

Data Set

#Routes

Data Set

#Routes

Data Set

#Routes

H E N

H N E

36

16

H E W

H W E

2

6

H M S N

H M N S

1

1

H R N S

2

Geoinformatica

5.1 Setup

Data description The trajectories we use to conduct experiments are generated by 4
minibuses (Mercedes-Benz Sprinter 2.1 liter 4-cylinder engine) that traveled in Herning,
Denmark from October 2012 to March 2013. All trajectories carry CAN bus fuel, in the unit
of mL. Herning is located in a flat region, and thus road grade has little influence on the
fuel consumption.

Specifically, we have four categories of travel: (1) travel between an eastern location and
a northwestern location in Herning,2 (2) travel between a western and an eastern location in
Herning,3 (3) travel between a southern and a northern location on a motorway in the south
of Herning,4 and (4) travel from a northern location to a southern location on a secondary
road in the south of Herning.5

We put the trajectories that represent travel between the same start and end locations into
a data set. However, note that the trajectories in a data set may not pass through the same
sequences of road segments. In total, we consider seven data sets (with abbreviations in
parentheses).

1. Herning east northwest (H E N)
2. Herning northwest east (H N E)
3. Herning east west (H E W)
4. Herning west east (H W E)
5. Herning motorway south north (H M S N)
6. Herning motorway north south (H M N S)
7. Herning road north south (H R N S)

We define (α, β)-routes as the sequences of road segments that are frequently traversed.
Specifically, an (α, β)-route is a sequence of n road segments that have been traversed by m
trajectories, where n (cid:3) α and m (cid:3) β. For different (α, β)-routes, n and m can be different.
In the following discussion, whenever we mention routes, they satisfy the α and β criteria,
unless stated otherwise.

Routes that contain more segments and are traversed more often are of our interests.
More routes would also facilitate experimental studies. However, as α and β increase, the
number of routes decreases. By analyzing the data, setting α and β to 15 helps to balance
the segment number and the traversed times of routes with the number of routes, but they
can be changed.

Table 3 presents the number of identified routes (#Routes) in each data set.

2http://goo.gl/maps/2eklT
3http://goo.gl/maps/wD28l
4http://goo.gl/maps/K4lPK
5http://goo.gl/maps/yWNih

Geoinformatica

Table 4 Statistics on segments

Road segment types secondary

secondary link 2

Data set

Total

H E N H N E H E W H W E H M S N H M N S H R N S

296

248

13

16

14

21

24

57

178

0

unclassified

service

tertiary

residential

motorway

motorway link 0

21

2

37

13

57

118

0

0

36

25

7

0

0

0

4

0

0

52

30

13

0

4

1

3

0

1

0

0

0

0

0

0

13

0

0

0

0

1

0

0

13

2

18

18

0

0

0

0

0

0

0

Statistics Table 4 reports statistics on the road segments covered by the trajectories in the
different data sets. Total means the total number of segments in a data set. The road seg-
ments are classified into different types (Road Segment Types in Table 4), as defined in the
OpenStreetMap map features.6 The number of segments of each type is also presented in
the table.

Table 5 presents the average length of each type of segment and the average velocity on

them.

As can be seen, except for motorway and motorway link segments, other types of

segments are quite short, and the average velocity is low.

Table 6 reports the number of trajectories in each data set that belong to different cate-
gories. Category #Segments records the number of trajectories that traverse x road segments,
where x belongs to one of [1, 30), [30, 60), [60, 100), and [100, 140). Category Average
Speed (km/ h) reports the number of trajectories, whose average speed is in the ranges [1,
30), [30, 60), [60, 100), and [100, 150). Similarly, category Duration (minutes) reports the
number of trajectories, whose durations belong to different ranges. Category Time of Day
(hour) specifies the number of trajectories whose travel starting times belong to different
ranges. Column Total summarizes the number of trajectories.

As can be seen in Tables 4–6, the trajectories we consider are quite diverse. They usually
last less than 20 minutes and mostly are obtained between 6:00 and 18:00. The trajectories in
H E N and H N E have medium and low velocities and contain various types of segments;
trajectories in H E W and H W E mainly traverse secondary and residential roads with
medium velocities; trajectories in H M S N and H M N S traverse motorway segments at
high velocities; and trajectories in H R N S traverse secondary roads at high velocities.

5.2 Sensitivity analysis of CAN bus fuel

Experiments are carried out to understand different aspects of CAN bus fuel. We are espe-
cially interested in determining whether the values of CAN bus fuel carried by different
trajectories on the same segment are close to each other because this knowledge can help us
decide the type of weights to be used for capturing fuel consumption on a segment. Thus,

6http://wiki.openstreetmap.org/wiki/Map Features

Table 5 Statistics on segment types

link

71

49

Length (m) 230

Velocity

(km/ h)

51

secondary secondary

unclassified service

tertiary residential motorway motorway

71

31

80

25

130

34

73

25

1342

97

Geoinformatica

link

865

75

we compute the relative standard deviation RSD (%) of CAN bus fuel on a segment that is
traversed by trajectories. RSD (%) of n values x1, . . . , xn is defined in Eq. 2.

RSD(%) =

× 100 %, where x =

(2)

(cid:10) (cid:7)
n
i=1(xi − x)2
n

× 1
x

(cid:7)
n
i=1 xi
n

.

In the following discussion, we refer to the relative standard deviation as the deviation for
simplicity, unless stated otherwise.

If the deviation on a segment is small, this indicates that the CAN bus fuel carried by
different trajectories on the segment is stable, and thus a single value as the weight can
reflect the fuel consumption on the segment in the majority of situations. In contrast, a large
deviation on a segment indicates that the CAN bus fuel varies significantly on the segment,

#Segments

Average speed (km/ h)

Data set

[1, 30)

[30, 60)

[60, 100)

[100, 140)

[1, 30)

[30, 60)

[60, 100)

[100, 150)

Table 6 Statistics on trajectories

241

169

49

28

H E N

H N E

H E W

H W E

0

0

49

49

H M S N 50

H M N S 289

H R N S

38

0

5

0

0

0

0

0

7

0

0

0

0

0

0

5

0

0

0

0

1

0

142

49

H E N

H N E

H E W

H W E

148

148

49

54

H M S N 43

H M N S 53

235

H R N S

38

5

0

0

0

0

0

0

0

0

0

4

4

2

0

157

64

0

0

0

0

0

199

39

4

14

19

95

2

138

133

49

54

0

1

1

96

158

13

5

14

136

33

0

0

0

0

7

237

36

0

0

32

27

5

48

3

0

0

0

0

43

51

1

0

0

0

4

8

8

0

295

197

49

54

50

289

38

Duration (minutes)

Time of day (hour)

Data set

(0, 10)

[10, 20)

[20, 25]

[0, 6)

[6, 10)

[10, 16)

[16, 18)

[18, 24)

Total

Geoinformatica

)

%

(
 
e
g
a
t
n
e
c
r
e
P

 100

 80

 60

 40

 20

 0

H_N_E
H_W_E

H_M_N_S
H_R_N_S

H_N_E
H_W_E

H_M_N_S
H_R_N_S

)

%

(
 
e
g
a
t
n
e
c
r
e
P

 100

 80

 60

 40

 20

 0

(0, 20]

(20, 40]

(40, 60]

(60, 80]

(80, 275]

(0, 20]

(20, 40]

(40, 60]

(60, 80]

(80, 112]

Relative Deviation (%) Range
(a) All Segments

Relative Deviation (%) Range
(b) Segments on Routes

Fig. 2 CAN bus deviations

and therefore, a range of fuel values or a distribution of fuel values may capture the fuel
consumption on the segment better. We need to understand all these cases.

Analysis 1: effect of routes on CAN bus fuel In this experiment, we aim to determine
whether specific routes have influence on the CAN bus fuel of a segment. Figure 27 reports
the percentage of segments whose CAN bus deviation (i.e., the deviation of CAN bus fuel)
belong to different ranges.

Figure 2a reports on the percentage of all segments in a data set, whose deviations belong
to varying ranges. We derive the deviation of CAN bus fuel on each segment in the data set
that is obtained from all trajectories. Figure 2b reports on the percentage of segments on
only the (α, β)-routes in a data set, whose deviations belong to different ranges. We derive
the deviation of CAN bus fuel on each segment on the routes using the aforementioned at
least β trajectories.

As shown in Fig. 2, when we only consider segments on routes, the percentage of seg-
ments whose CAN bus deviations are in range (0, 40] increases, and the percentage of
segments whose deviations are larger than 40 % decreases. Furthermore, the maximum
deviation drops from 275 % (see Fig. 2a) to 112 % (see Fig. 2b).

This observation indicates that CAN bus fuel on a segment is influenced by the segments
that are traversed immediately before it. For example, fuel consumption on a segment can be
different between going straight to the segment and turning right to the segment. Therefore,
when travel is repeated on the same sequence of segments, the fuel consumption on one of
the segments is closer than this on the segment that is entered from varying directions.

Analysis 2: effect of road segment types on CAN bus fuel In this experiment, we only focus
on the segments on the (α, β)-routes, and investigate whether the type, the length, and the
velocity of road segment show effect on CAN bus fuel.

Figure 3 reports the percentage of segments of each road type whose CAN bus deviations
belong to different ranges. The CAN bus fuel deviations on only service, motorway, and
motorway link are smaller than 40 %, and the deviations on other types of segments can
be large, e.g., greater than 60 %. This indicates that the variations of the CAN bus fuel is
related to the length of a segment and the travel velocity on a segment. Specifically, CAN
bus fuel has small variations on long segments, where the travel velocities are high, e.g., on
motorways, but it can vary significantly on short segments, e.g., on residential roads.

7Results for data sets H E N, H E W, and H M S N show little difference from those for data sets H N E,
H W E, and H M N S, respectively. Thus, to increase readability of the figures, only results for the latter
data sets, together with H R N S, are shown in Figs. 2, 6, and 7.

Fig. 3 CAN bus deviation for
each type of segment

Geoinformatica

unclassified
secondary
service
motorway

secondary_link
tertiary
residential
motorway_link

(0, 20]

(20, 40]

(40, 60]

(60, 80] (80, 112)

Relative Deviation (%) Range

)

%

(
 
e
g
a

t

n
e
c
r
e
P

100
80
60
40
20

Hence, we further plot the relationship between the segment length and the deviation of

CAN bus fuel on the segment

(i.e., the CAN bus fuel from at least β trajectories on a segment of a route) in Fig. 4.
Figure 4a reports the relationship between the deviations and the lengths of all segments;
Fig. 4b zooms in the relationship by focusing on the segments whose lengths are smaller
than 200 m.

The results indicate that CAN bus fuel varies more on shorter segments (e.g., below
200 m), but becomes more stable on longer segments (e.g., over 500 m). This is because
measuring fuel consumption on very short segments, e.g., smaller than 30–40 m, is difficult,
as only one or two GPS+CAN bus observations can be captured when traversing such seg-
ments. However, the deviation of fuel consumption on the short segments is insignificant if
we consider fuel consumption on a complete trip, e.g., 6,000 m, because the short segments
only contribute to a small fraction of the total fuel consumption of the whole trip.

By investigating the relationship between velocities and CAN bus fuel on a number of

segments, we find that velocities effect CAN bus fuel.

This effect is more obvious on longer segments, where CAN bus fuel is easier to measure
and is more stable. Figure 5 plots the distribution of CAN bus fuel and average velocities
on two long example segments of routes to demonstrate this effect.

For the readability of the figures, we randomly chose 16 trajectories for each segment,
from which average velocities and CAN bus fuel are derived. The 16 trajectories on each
segment are plotted in ascending order of average velocity on the single segment considered.
As shown in Fig. 5, segment 1 is a motorway segment, where the average velocities are high;
segment 2 is a residential segment, where the average velocities are low. The deviations of
segments 1 and 2 are 18.6 and 42.1.

 120

 100

 80

 60

 40

 20

)

%

(
 
n
o

i
t

i

a
v
e
D
e
v
i
t

 

l

a
e
R

 0

 0

 120

 100

 80

 60

 40

 20

)

%

(
 
n
o

i
t

i

a
v
e
D
e
v
i
t

 

l

a
e
R

 0

 0

 500  1000  1500  2000  2500  3000  3500

 40

 80

 120

 160

 200

Segment Length (m)
(a) All Segments

Segment Length (m)

(b) Segments whose Lengths Smaller than 200

Fig. 4 Relationship between segment length and deviation of CAN bus fuel

Geoinformatica

 1000

Fuel (mL)
Velocity (km/h)

)
L
m

(
 

n
o

i
t

p
m
u
s
n
o
C

 
l

e
u
F

 800

 600

 400

 200

Fuel (mL)
Velocity (km/h)

 250

 200

 150

 100

/

)
h
m
k
(
 
y
t
i
c
o
e
V

l

 150

 120

 90

 60

 30

)
L
m

(
 

n
o

i
t

p
m
u
s
n
o
C

 
l

e
u
F

 50

16

 0

1

 50

 40

 30

 20

 10

/

)
h
m
k
(
 
y
t
i
c
o
e
V

l

 0

16

1

6

11
The ith Trajectory
(a) Segment 1: Length 3660

11
6
The ith Trajectory
(b) Segment 2: Length 305

and Velocities

100

and Velocities

30

Fig. 5 CAN bus fuel on chosen segments

When the average velocities are high, e.g., over 100 km/ h, CAN bus fuel increases as the
average velocities increase (see Fig. 5a). In contrast, when the average velocities are low,
e.g., below 30 km/ h, the CAN bus fuel decreases as the average velocities increase (see
Fig. 5b).

Throughout our experiments, CAN bus fuel has not shown to be related with travel time
of the day, which may be because Herning is relatively uncongested. Results are omitted for
brevity.

In this section, we analyze CAN bus fuel on different road segments in order to show
its features. Specifically, when vehicles repeatedly pass the same sequence of segments,
the CAN bus fuel on one of the segments does not vary significantly. This indicates that
CAN bus fuel on a segment is influenced by the segments that are traversed before it (Anal-
ysis 1). CAN bus fuel is more stable on longer road segments, such as motorway and
motorway link, but can change significantly on short segments (Analysis 2). CAN bus fuel
increases as average velocities decrease on a segment when traversed at low velocities, e.g.,
below 40 km/ h, but it increases as the average velocities increase on a segment when the
velocities are high, e.g., over 100 km/ h (Analysis 2).

5.3 Model calibration

The models for estimating fuel consumption are calibrated based on the hot-stabilized con-
dition given for a Mercedes-Benz Sprinter 2.1 liter 4-cylinder engine. The vehicle mass is
approximately 5,000 kg [11].

The trajectories described in Section 5.1 are separated into two data sets, a training set
covering October to December 2012 and a testing set covering January to March 2013. The
former is used to calibrate the models, as presented in this section, and the latter is used to
assess model estimates, as presented in Section 5.4.

Among the models, SP and Tavares have constant coefficients, and Joumard has no coef-
ficients. Therefore, they can be used for fuel estimation directly. The remaining models need
to be calibrated given the training data. If calibration methods are mentioned in the papers
that describe the models, we primarily apply these methods to calibrate the models.

CAN bus fuel is obtained at the segment level in our data set. Thus, for the instantaneous
models, EMIT, VT-Micro, MEF, and SIDRA-Inst, we derive the fuel consumption at the

Geoinformatica

Table 7 VT-micro coefficients

Positive acceleration coefficients

Constant

Acceleration

Constant

Speed
Speed2
Speed3

Constant

Speed
Speed2
Speed3

Negative acceleration coefficients

0.01042

0.01234
−0.00075

0.12135

0.06587
−0.00424

1.3202E-5

6.1916E-5

Constant
−0.01090
0.03572
−0.00263

5.4585E-5

Acceleration
−0.149194
0.05643
−0.00490
0.00011

Acceleration2
−0.12183
−0.01117
0.00127
−2.5230E-5

Acceleration2
−0.01828
0.00776
−0.00088

2.3767E-5

Acceleration3
0.03023
−0.00268
0.00008
−6.7631E-7

Acceleration3
−0.00028
0.00016
−1.9231E-5
3.4930E-7

segment level by summing up second-by-second fuel consumption estimates by the models,
and compare these estimates against CAN bus fuel to calibrate the models. In the following
presentation, we take EMIT as an example and do not cover this process again for the other
instantaneous models.

EMIT Following EMIT [44], we apply least square linear regression to calibrate it. As pre-
sented in Section 4.1.1, ft is the instantaneous fuel consumption estimated by EMIT. Thus,
assuming a segment is passed in n seconds, the fuel consumption per segment, denoted F ,
is computed as follows.
n
F =
t=1 ft =
= n · α + β ·

(cid:7)
n
t=1 (α + β · vt + γ · v2
(cid:7)
(cid:7)
t
n
n
+ δ ·
t=1 vt + γ ·
t=1 v2
t
We use fuel consumption per segment F to compare with CAN bus fuel per segment to

+ ζ · at · vt )
+ δ · v3
(cid:7)
(cid:7)
t
n
n
t=1(at · vt )
+ ζ ·
t=1 v3
t

(cid:7)

calibrate EMIT.

Parameters α, β, δ, and ζ are set to 1.16, -0.0043, 1.25E-4, and 0.096, respectively.

Following the authors of EMIT, γ is dropped because it is too small.

VT-Micro As we have not found details about the calibration method, we apply least square
linear regression to calibrate VT-micro. The coefficients are presented in Table 7.

MEF Following the authors’ instructions [22], we incrementally increase the value of α
from 0 to 1 by 0.1 each time, and apply multivariate least square regression to calibrate the
model. Parameter α is set to 0.5, and the other coefficients are presented in Table 8.

Song We follow the authors’ instructions to calibrate the model [26] and do not repeat the
details here. Parameters β, γ , and ε are set to 0.74, 2.78, and 13.05 m/s.

SIDRA, including SIDRA-Inst, SIDRA-4Mode, SIDRA-Running, and SIDRA-Avg. As
suggested by its authors [19], only SIDRA-Inst needs to be calibrated. Parameters A, B, b1,
b2, β1, and β2 obtained from this process are also used by SIDRA-4Mode, SIDRA-Running,
and SIDRA-Avg. As the complete process can be found in the paper [19], it is not repeated
here.

The idle fuel consumption rate, α, is derived from our data and is set to 0.264 ml/s.
Vehicle mass M is 5,000 kg. A, B, b1, b2, β1, and β2 are derived as 43.35, 0.0084, 4.48,
0.0113, 0.00967, and 0.03, respectively.

Geoinformatica

Table 8 MEF coefficients

Positive acceleration coefficients

Constant

Acceleration

Acceleration2

Acceleration3

Constant

Speed
Speed2
Speed3

Constant

Speed
Speed2
Speed3

Negative acceleration coefficients

0.00650

0.00510
−0.00024

0.60823

0.02435
−0.00265

4.4804E-6

3.9859E-5

−0.70607
0.02566

0.00020
−8.3287E-6

Constant
−0.00832
0.04250
−0.00282

Acceleration
−0.09177
0.06446
−0.00533

Acceleration2
−0.01150
0.01594
−0.00171

4.8736E-5

1.0507E-4

3.7418E-5

0.30544
−0.03429
0.00139
−1.9878E-5

Acceleration3
0.00101

0.00048
−4.7574E-5
−3.1528E-7

5.4 Assessment of model estimates

In this section, we compare model estimated fuel to CAN bus fuel. Units of model estimates
vary, and some are different from that of CAN bus fuel. For example, EMIT and MEF
use g/s as the unit of fuel consumption, and Joumard does not have a unit, while CAN
bus fuel per segment is measured in mL. Thus, it is difficult to directly compare model
estimates with CAN bus fuel to measure their accuracy. However, if the variation of model
estimates is consistent with that of CAN bus fuel, the models can be used for assigning
eco-weights that quantify the relative values of fuel consumption as vehicles traverse road
segments.

For instantaneous models, the fuel estimate of a segment is derived by summing up

second-by-second estimates of the segment.

Experiment 1: consistency of model prediction on all segments In this experiment, we cal-
culate the consistency between CAN bus fuel and fuel estimates by each model. We quantify
the consistency using vector-based cosine similarity, as defined in Eq. 3.

consistency(CANbus, estimates) = 1
|S|

·

cos

L(CANbus)

S

, L(estimates)

S

,

(3)

(cid:9)

(cid:8)

(cid:11)

S∈S

where S is a set of segments, each of which is traversed by x trajectories (note that x can
be different for different segments); L(CANbus)
are the vectors that contain
the CAN bus fuel on a segment S traversed by the x trajectories and the fuel estimated
by a model for the x trajectories on S, respectively. Function cos(·, ·) computes the cosine
similarity between two vectors.

and L(estimates)
S

S

The similarities of the model estimates and CAN bus fuel in each data set are shown
in Table 9. As can be seen, aggregated models generally outperform instantaneous models.
Specifically, the consistencies of aggregated models in all data sets are above 90 %. For
instantaneous models, EMIT and Joumard have shown quite high consistencies to CAN
bus fuel (i.e., >85 %) in all data sets. VT-Micro, MEF, SP, and SIDRA-Inst show low
consistencies in some data sets. For example, SP only shows a consistency of 54.61 % in
data sets H E N.

Geoinformatica

S
N
R
H

S
N
M
H

N
S
M
H

E
W
H

W
E
H

E
N
H

N
E
H

%
4
4
.
6
9

%
5
8
.
4
5

%
0
4
.
7
8

%
1
3
.
5
4

%
6
1
.
5
9

%
7
2
.
1
9

%
9
0
.
6
9

%
4
1
.
7
9

%
0
2
.
5
9

%
2
1
.
7
9

%
9
0
.
7
9

%
3
6
.
7
9

%
7
5
.
0
3

%
2
0
.
7
6

%
4
0
.
3
4

%
1
2
.
6
9

%
8
9
.
4
6

%
1
2
.
8
9

%
2
1
.
5
9

%
5
2
.
6
9

%
4
6
.
7
9

%
6
1
.
6
9

%
8
5
.
6
9

%
9
3
.
7
3

%
4
9
.
4
9

%
6
4
.
8
5

%
2
9
.
5
9

%
0
4
.
2
8

%
2
1
.
8
9

%
2
2
.
4
9

%
5
9
.
4
9

%
1
3
.
7
9

%
3
0
.
6
9

%
3
1
.
2
9

%
2
7
.
4
6

%
4
7
.
9
4

%
7
2
.
2
6

%
6
5
.
6
8

%
7
6
.
6
8

%
0
8
.
2
9

%
3
8
.
5
9

%
9
7
.
0
9

%
0
5
.
4
9

%
6
2
.
4
9

%
6
7
.
4
9

%
1
6
.
5
8

%
1
3
.
9
6

%
6
6
.
3
8

%
7
4
.
7
8

%
3
4
.
9
8

%
6
9
.
1
9

%
0
7
.
5
9

%
8
8
.
3
9

%
0
6
.
5
9

%
7
4
.
5
9

%
9
9
.
3
9

%
2
3
.
4
9

%
1
9
.
4
5

%
2
3
.
3
9

%
9
1
.
0
9

%
0
9
.
7
8

%
0
1
.
3
9

%
7
6
.
6
9

%
5
1
.
3
9

%
4
9
.
6
9

%
1
1
.
6
9

%
7
1
.
2
9

%
9
0
.
2
9

%
1
6
.
4
5

%
3
3
.
1
9

%
7
7
.
7
8

%
6
0
.
5
8

%
2
2
.
2
9

%
7
7
.
5
9

%
8
0
.
2
9

%
8
8
.
5
9

%
5
6
.
4
9

o
r
c
i

M
-
T
V

T
I
M
E

F
E
M

P
S

t
s
n
I
-

A
R
D
I
S

d
r
a
m
u
o
J

s
e
r
a
v
a
T

g
n
o
S

g
n
i
n
n
u
R
A
R
D
I
S

-

e
d
o
M
4
-
A
R
D
I
S

-

g
v
A
A
R
D
I
S

s
u
o
e
n
a
t
n
a
t
s
n
I

s
l
e
d
o
M

d
e
t
a
g
e
r
g
g
A

l
e
u
f

s
u
b
N
A
C
o
t

s
e
t
a
m

i
t
s
e

l
e
d
o
m

f
o

s
e
i
c
n
e
t
s
i
s
n
o
C

9

e
l
b
a
T

Geoinformatica

We also apply all models with their default settings on the testing data in this consistency
comparison. Except VT-Micro, other models achieve higher consistencies after calibration
than when using the default settings.

As aggregated models show high consistencies with CAN bus fuel, their estimates can
reflect the relative fuel consumption of road segments. Thus, they can be used to assign
eco-weights to road segments.

EMIT works quite well, and Joumard works acceptably for this task, which indicates
that the method of summing up instantaneous fuel consumption as fuel consumption at
the segment level can work. However, this method does not work for all the instantaneous
models.

VT-Micro does not work well for this task, which is probably due to two reasons. First,
as we cannot find the calibration method from the VT-Micro papers, the calibration method
we use may be different from that used by the authors. This may result in inappropriate
settings of coefficients and therefore low consistencies to CAN bus fuel. Second, the fuel
consumption data used to develop VT-Micro was collected at Oak Ridge National Labora-
tory, which is different from CAN bus fuel that is attached to GPS trajectories. Additional
data preprocessing may be necessary before calibrating the model [42]. As our purpose is to
find a model that can assign eco-weights using ordinary GPS trajectories, we do not attempt
such additional preprocessing. Due to limitations of the calibration method and CAN bus
fuel data, we disregard VT-Micro in the sequel.

MEF does not work well when vehicles travel at high velocities, e.g., as in data set
H M N S, because at a second when both velocity and acceleration are high, the estimated
instantaneous fuel is high, thus resulting in unusually high fuel consumption at the segment
level.

SP is designed based on the instantaneous power per unit mass of a vehicle, which is
known to be directly related to the vehicle engine load and thus to its emissions and fuel
consumption. However, summed up instantaneous SP values are not suitable as a relative
indicator to fuel consumption, as they show rather low consistencies to CAN bus fuel in
nearly all data sets, except H M S N. It may be necessary to apply additional processes, e.g.,
those that are included by Song, on top of SP to estimate fuel consumption at the segment
level.

As presented in Section 5.3, we apply the same strategy to calibrate EMIT and SIDRA-
Inst. EMIT performs very well in the consistency comparison, while SIDRA-Inst does not.
Using the same parameters that are derived from the SIDRA-Inst calibration process, the
other SIDRA models work well, but SIDRA-Inst does not. This indicates that the method
of simple summing up the second-by-second fuel estimated by SIDRA-Inst as the fuel con-
sumption at the segment level does not work. This can be due to two reasons. First, simple
summing up may lose information that influences fuel consumption at the segment level.
This is why the authors of SIDRA developed other SIDRA aggregated models, e.g., SIDRA-
Running, for estimating fuel consumption at the segment level. Second, SIDRA-Inst can
be sensitive to instantaneous high velocities that are combined with high accelerations. As
shown in data set H M N S, where vehicles drive on motorways, SIDRA-Inst behaves quite
poorly, i.e., only showing 64.98 % consistencies with CAN bus fuel.

Experiment 2: factors influencing model prediction In this experiment, we explore features
of the models. Specifically, while we know that CAN bus fuel is sensitive to some factors, as
presented in Section 5.2, we investigate whether model estimates are also sensitive to these
factors. For each segment, we compute the relative standard deviation (see Eq. 2) of the fuel
estimated by a model for trajectories that traverse the segment. In the following discussion,

Geoinformatica

the term deviation refers to the relative standard deviation, and routes are the (α, β)-routes
defined in Section 5.1.

Experiment 2.1: deviations of model estimates on segments for all trajectories We derive
a deviation of the fuel estimated by a model that is obtained for all trajectories on each
segment in a data set. Figure 6 reports the percentage of segments where the deviations of
model estimates belong to different ranges.

Results for SIDRA-4Mode, Tavares, Joumard, and SP are presented in Fig. 6. When a
model appears in parentheses, this means that it shows a fuel deviation behavior similar
to that of the model outside the parentheses. For example, EMIT has behavior similar to
SIDRA-4Mode (Fig. 6a).

Fuel estimates of SIDRA-4Mode, EMIT, Song, and SIDRA-Running (see Fig. 6a) show
the behaviors most similar to CAN bus fuel (see Fig. 2a). The deviations of their fuel esti-
mates on the majority of segments fall in the range (0, 40], where the deviations of fuel
estimated for more segments fall in (20, 40] than in (0, 20].

The deviations of fuel consumption estimates by Tavares and SIDRA-Avg on most seg-
ments fall in the range (0, 20] (see Fig. 6b). Especially in data sets H M N S and H R N S,
the deviations of all segments are in the range (0, 20]. The fuel estimates by the models do
not vary as much on a segment as does CAN bus fuel. This indicates that the fuel estimates
by the models may not include sufficient information to influence the fuel consumption in
the model design.

Figure 6c shows the results of Joumard. The deviation of the fuel estimated by Joumard
on a segment is closely related to the traversal velocities (see Section 4.1.5). In data sets
H N E and H W E, where the velocities on a segment are low, but vary significantly, the
fuel estimate deviation on a segment can be big, i.e., in the range (20, 60]; whereas in data
sets H M N S and H R N S, where segments are traversed at high and stable velocities, the
fuel estimate deviations on most segments are small, i.e., in the range (0, 20].

H_N_E
H_W_E

H_M_N_S
H_R_N_S

H_N_E
H_W_E

H_M_N_S
H_R_N_S

)

%

(
 
e
g
a
t
n
e
c
r
e
P

 100

 80

 60

 40

 20

 0

)

%

(
 
e
g
a
t
n
e
c
r
e
P

 100

 80

 60

 40

 20

 0

(0, 20]

(20, 40]

(40, 60]

(60, 80] (80, 134]

(0, 20]

(20, 40]

(40, 60]

(60, 80] (80, 120]

Relative Deviation (%) Range

Relative Deviation (%) Range

(a) SIDRA-4Mode (EMIT, Song, SIDRA-Running)

(b) Tavares (SIDRA-Avg)

H_N_E
H_W_E

H_M_N_S
H_R_N_S

H_N_E
H_W_E

H_M_N_S
H_R_N_S

(0, 20]

(20, 40]

(40, 60]

(60, 80] (80, 150]

(0, 20]

(20, 40]

(40, 60]

(60, 80] (80, 174]

Relative Deviation (%) Range

(c)

Joumard

Relative Deviation (%) Range
(d) SP (MEF, SIDRA-Inst)

Fig. 6 Deviations of model estimates using all trajectories

)

%

(
 
e
g
a
t
n
e
c
r
e
P

 100

 80

 60

 40

 20

 0

)

%

(
 
e
g
a
t
n
e
c
r
e
P

 100

 80

 60

 40

 20

 0

Geoinformatica

)

%

(
 
e
g
a
t
n
e
c
r
e
P

 100

 80

 60

 40

 20

 0

H_N_E
H_W_E

H_M_N_S
H_R_N_S

H_N_E
H_W_E

H_M_N_S
H_R_N_S

(0, 20]

(20, 40]

(40, 60]

(60, 80]

(80, 128]

(0, 20]

(20, 40]

(40, 60]

(60, 78]

Relative Deviation (%) Range
edoM4-ARDIS)a(

Relative Deviation (%) Range

seravaT)b(

Fig. 7 Deviations of model estimates using trajectories on routes

No pattern can be observed for the deviation of fuel estimates on a segment by MEF, SP,
and SIDRA-Inst. This, again, indicates that they are not good at predicting fuel consumption
at the segment level.

In general, the deviations of the fuel estimated by the models vary less than those of
CAN bus fuel (compare Figs. 2a and 6). This indicates that model estimates tend to be less
sensitive to varying conditions than CAN bus fuel is.

Experiment 2.2: effect of considering only trajectories from (α, β)-routes on model esti-
mates By merely considering trajectories on routes, the deviations of all model estimates
decrease. We show example results for SIDRA-4Mode and Tavares in Fig. 7, which have
similar behaviors (i.e., drop of deviation when only considering segments on routes) to CAN
bus fuel (see Fig. 2b).

Experiment 2.3: effect of segment length on model estimates In this experiment, we inves-
tigate the relationship between the length of a segment and the deviation of fuel estimated
by models on the segment. Results for Tavares and SP are shown in Fig. 8.

EMIT, SIDRA-4Mode, SIDRA-Running, and SIDRA-Avg show similar diagrams to
Tavares; Joumard and Song show behaviors similar to SP. Estimates of MEF and SIDRA-
Inst do not show stable trends as segment length increases, and their results are not
shown.

CAN bus fuel deviates more on shorter segments and becomes more stable when the
lengths of segments exceed 500 m (see Fig. 4). Fuel estimates by Tavares, SIDRA-4Mode,

)

%

(
 
e
g
a
t
n
e
c
r
e
P

 100

 80

 60

 40

 20

 0

s
e
t
a
m

i
t
s
E

 
l
e
d
o
M

 
f
o
 
n
o
i
t
a
v
e
D

i

 250

 200

 150

 100

 50

 0

 80

 60

 40

 20

s
e
t
a
m

i
t
s
E

 
l
e
d
o
M

 
f
o
 
n
o
i
t
a
v
e
D

i

 0

 0

 500  1000  1500  2000  2500  3000  3500

 0

 500  1000  1500  2000  2500  3000  3500

Segment Length (m)
(a) Tavares (EMIT, S-4mode, S-Running, S-Avg)

Segment Length (m)
(b) SP (Joumard, Song)

Fig. 8 Relationship between segment length and deviations of model estimates (S-4Mode, S-Running, and
S-Avg represent SIDRA-4Mode, SIDRA-Running, and SIDRA-Avg)

Geoinformatica

SIDRA-Running, and SIDRA-Avg shows the same trend as does CAN bus fuel (see Fig. 8a).
Fuel estimates by SP, Joumard, and Song becomes stable when the segment lengths increase
to more than 1000 m (see Fig. 8b).

Experiment 2.4: effect of velocity on model estimates To investigate whether model esti-
mates show the same trends as CAN bus fuel when velocities change, we plot the
relationship between the fuel estimates of each model and the velocities on the two segments
considered in Section 5.2, Analysis 2 (see Fig. 5).

We present the changing trends of model estimates in Table 10. For the high velocity
segment, i.e., Segment 1, CAN bus fuel and velocities are directly proportional; for the low
velocity segment, i.e., Segment 2, CAN bus fuel is inversely proportional to velocities.

The way model estimates change can be classified into 3 categories, as shown in
Table 10: Directly/Inversely (model estimates are directly/inversely proportional to veloci-
ties) and No pattern (model estimates do not follow the way velocities change).

Table 10 shows that EMIT, SIDRA-Inst, Song, and SIDRA-Running exhibit the same
relationship with velocities as does CAN bus fuel on the two segments; Tavares and SIDRA-
Avg are always inversely proportional to velocities (see Segments 1 and 2), which is correct
when the velocities are low (e.g., <40 km/ h), and their authors state that the models are
designed for low velocity scenarios. MEF does not show patterns when vehicles travel with
high velocities (see Segment 1), but is inversely proportional to low velocities (see Segment
2). SP estimates seem to be always directly proportional to the velocities; Joumard does not
show patterns that change with velocity. SIDRA-4Mode does not work well on short seg-
ments where traversals only lasts few seconds. On such a segment, a vehicle may accelerate
for one or two seconds and then immediately decelerate. The 4 modes the model needs to
identify change fast and last only for short periods on the segment, so model estimates are
not stable and can be abnormally high.

To demonstrate the relationship between model estimates and velocities on a segment,
we assume that the segment length is 1 km and a traversal keeps a constant velocity each
time, and we gradually increase the velocity on the segment from 10 km/ h to 210 km/ h.
We plot the fuel estimated by the models at each velocity in Fig. 9.

Song is omitted, as it has a very different unit from other models. It shows the same

relation to the average velocity as do SIDRA-4Mode and SIDRA-Running.

When velocities exceed 110 km/ h, the fuel consumption estimated by MEF is omitted
because the fuel consumption is then abnormally high. As MEF is built on top of VT-Micro
that can only be used within a velocity bounding box, MEF also inherits this feature.

Similar to those demonstrated in Table 10, EMIT, SIDRA-Inst, Song, SIDRA-4Mode,
and SIDRA-Running show similar behaviors to CAN bus. As we keep a constant velocity in
this experiment, SIDRA-4Mode does not show the drawbacks as demonstrated in Table 10.

Table 10 Comparing model estimates to CAN bus fuel on example segments (S-Inst, S-4Mode, S-Running,
and S-Avg Represent SIDRA-Inst, SIDRA-4Mode, SIDRA-Running, and SIDRA-Avg)

Segment 1 (CAN bus Fuel vs Velocity: Directly)

Segment 2 (CAN bus Fuel vs Velocity: Inversely)

Directly

Inversely No pattern

Directly Inversely

No pattern

EMIT, SP

Song, S-Inst

Tavares MEF

S-Avg

Joumard

S-4Mode, S-Running

SP

EMIT, S-Inst, MEF Joumard

Song, Tavares

S-4Mode

S-Running, S-Avg

Geoinformatica

EMIT (g)
Joumard
SIDRA-Inst (ml)

 500

 400

 300

 200

 100

s
e
t
a
m

i
t
s
E

 
l
e
u
F

 0

10

SP
MEF (g)

Tavares
SIDRA-4Mode

SIDRA-Running
SIDRA-Avg

 400

)
l

m

(
 
s
e
t
a
m

i
t
s
E

 
l
e
u
F

 300

 200

 100

 0

10

50

90

130

170

210

50

90

130

170

210

Average Velocity (km/h)

(a)

sledoMsuoenatnatsnI

Average Velocity (km/h)
sledoMdetagerggA(b)

Fig. 9 Fuel estimates vs average velocity

Specifically, when the average velocity on the segment is below 50 km/ h, the fuel is
inversely proportional to the average velocity; when the average velocity is above 50 km/ h,
the fuel becomes directly proportional to the average velocity.

5.5 Empirical findings

We conclude on the study of the effectiveness of the eleven models for estimating fuel
consumption in Table 11, where

(cid:4) (×) indicates that a model performs well (not well) at a task. For the consistency
comparison, we classify a model as performing well if its consistency with CAN bus fuel
exceeds 85 %. Columns Dev on all Segs, Effect of Routes, Effects of Seg Length, and VS.
Velocity in Table 11 summarize Experiments 2.1 to 2.4 in Section 5.4, respectively.

In terms of consistencies to CAN bus fuel, all aggregated models are found to be effec-
tive at assigning eco-weights to road segments. To assign eco-weights using instantaneous
models, fuel consumption on a segment is derived by summing up instantaneous fuel on the

Table 11 Summary of effectiveness of model estimates (S-Inst, S-4Mode, S-Running, and S-Avg Represent
SIDRA-Inst, SIDRA-4Mode, SIDRA-Running, and SIDRA-Avg)

Models

Consist. Dev on all Segs Effect of Routes Effect of Seg Length VS. Velocity

Instantaneous EMIT

(cid:4)
VT-Micro ×
×
SP

×
MEF
Joumard (cid:4)
×
S-Inst

(cid:4)
Tavares
S-4Mode (cid:4)
S-Running (cid:4)
(cid:4)
S-Avg

(cid:4)

–
×

×

×

×

(cid:4)

×

(cid:4)

(cid:4)

×

Aggregated

Song

(cid:4)

(cid:4)

–
(cid:4)

(cid:4)

(cid:4)

(cid:4)

(cid:4)

(cid:4)

(cid:4)

(cid:4)

(cid:4)

(cid:4)

–
×

×

×

×

×

(cid:4)

(cid:4)

(cid:4)

(cid:4)

(cid:4)

–
×

×

×

(cid:4)

(cid:4)

×

×

(cid:4)

×

Geoinformatica

segment. EMIT works well and Joumard works acceptable using this method. We do not rec-
ommend applying this method on MEF, SP, and SIDRA-Inst to obtain the fuel on a segment
because additional vehicle operating features may be required to predict fuel consumption.
We do not comment on VT-Micro because it may be possible to be used for assigning
eco-weights if the calibration method and suitable fuel consumption data are available.

In terms of showing similar features to CAN bus fuel, only EMIT and SIDRA-Running
have shown to be generally stable at predicting fuel consumption for traversing segments
and fulfil all tasks in Experiment 2. We recommend them highly in order to assign eco-
weights to road segments. This also indicates that summing up instantaneous fuel estimated
by EMIT as fuel at the segment level is applicable.

Although other aggregated models behave worse than EMIT and SIDRA-Running, they
can still be utilized for assigning eco-weights under certain circumstances. Tavares and
SIDRA-Avg, as have been emphasized by their authors, are suitable for assigning eco-
weights to segments where speed limits are 50 km/ h. Song’s estimates vary significantly on
high velocity and long segments, e.g., motorways, where CAN bus fuel is stable, but it can
be used for assigning eco-weights to road segments whose lengths are below 500 m, regard-
less of the speed. SIDRA-4Mode can be used on relatively long segments where the vehicle
operating modes, i.e., acceleration, deceleration, idle, and cruise, can be identified clearly
and last relatively long, e.g., at least 3–4 seconds. However, SIDRA-4Mode needs more
input than SIDRA-Running, such as starting and ending velocities at each mode, which are
not always available. Thus, the utility of this model for assigning eco-weights is not as high
as SIDRA-Running.

6 Conclusions

EcoMark 2.0 proposes a general framework for the study of impact models for assigning
eco-weights to a spatial network with the purpose of enabling eco-routing. The framework
includes methods for analyzing actual fuel consumption data, methods for calibrating the
impact models, and a set of experiments designed to evaluate the utility of the models
for assigning eco-weights. The application of the framework is supported by eleven state-
of-the-art models, 1 Hz GPS trajectories, and CAN bus fuel data from 4 Mercedes-Benz
Sprinter (2.1 liter 4-cylinder engine) vehicles that traveled in Herning, Denmark from Octo-
ber 2012 to March 2013. The experiments conducted using the framework give insights into
the circumstances under which a model is suitable for assigning reliable eco-weights to road
segments.

The paper’s empirical study suggests that the instantaneous model EMIT is appropriate
for assigning eco-weights to all kinds of road segments. Specifically, it is possible to sum up
second-by-second fuel consumption estimates by EMIT on a road segment as its eco-weight.
Other instantaneous models, i.e., MEF, SP, Joumard, and SIDRA-Inst, are not suitable for
assigning eco-weights. The utility of VT-Micro for assigning eco-weights is unknown due
to limitations in the calibration method and actual fuel consumption data.

The aggregated model SIDRA-Running can also be used to assign eco-weights to all
kinds of road segments. In contrast, other aggregated models can only be used under some
circumstances. Specifically, Song can be used for assigning eco-weights to road segments
that are shorter than 500 m; Tavares and SIDRA-Avg can be used for assigning eco-weights
to road segments where the speed limits are at most 50 km/ h; SIDRA-4Mode can be used
on a road segment where the four vehicle operating modes, i.e., acceleration, deceleration,
idle, and cruise, can be identified clearly and last relatively long.

Geoinformatica

References

Further, the study also shows that it is indeed possible to reliably estimate fuel

consumption at the segment level based on high-frequency (1 Hz) GPS data.

In future work, it would be useful to conduct research on eco-routing by utilizing eco-
weights in addition to the well-known weights, e.g., length and travel time of a segment. It
is also of interests to compare and study the differences among eco-routes, fastest-routes,
and shortest routes. Trade-off routes (i.e., routes considering multiple criteria in a unified
manner) may be considered as well.

Acknowledgments This work was supported in part by the Reduction project that is funded by the Euro-
pean Commission as FP7-ICT-2011-7 STREP project number 288254 and in part by the InfinIT Project
www.infinit.dk.

1. Energy and climate goals of china’s 12th five-year plan. http://tinyurl.com/73mntqg
2. Fact sheet: Australia’s emissions reduction targets. http://tinyurl.com/7vpzufx
3. G8 plans 50 % reduction in greenhouse gases. http://tinyurl.com/68hn2a
4. CAN Applications. http://www.can-cia.org/index.php?id=30
5. Squarell CAN bus Reader. http://europe.squarell.com/en/can-bus/
6. Reducing emissions from transport. http://tinyurl.com/7ex6am3
7. Road transport: Reducing CO2 emissions from light-duty vehicles. http://tinyurl.com/6gtlzzz
8. USGS center for LIDAR information coordination and knowledge. http://lidar.cr.usgs.gov/
9. What is the EU doing on climate change? http://tinyurl.com/75qex2g

10. The Accuracy of Squarell., http://europe.squarell.com/en/Support/FAQ/faq/117/How-accurate-is-the-

11. Mercedes-Benz Sprinter Operator Manuals.

http://www.mbsprinterusa.com/files/manuals/2012

fuel-consumption-in-a-CANbus-truck-

Mercedes Benz Sprinter Operators Manual.pdf

12. FMS Standard. http://www.fms-standard.com/
13. Yang B, Guo C, Jensen CS, Kaul M, Shang S (2014) Stochastic skyline route planning under time-

14. Yang B, Kaul M, Jensen CS (2014) Using incomplete information for complete weight annotation of

15. Andersen O, Jensen CS, Torp K, Yang B (2013) EcoTour: reducing the environmental footprint of

16. Guo C, Yang B, Andersen O, Jensen CS, Torp K EcoSky: reducing vehicular environmental impact

17. Kaul M, Yang B, Jensen CS (2013) Building accurate 3D spatial networks to enable next generation

varying uncertainty. ICDE:136–147

road networks. TKDE 26(5):1267–1279

vehicles using eco-routes. MDM:338–340

through eco-routing, in ICDE, 2015 (to appear).

intelligent transportation systems. MDM:137–146

series using markov models. PVLDB 6(9):769–780

18. Yang B, Guo C, Jensen CS (2013) Travel cost inference from sparse, spatio-temporally correlated time

19. Akc¸elik R, Smit R, Besley M (2012) Calibrating fuel consumption and emission models for modern

vehicles. IPENZ transportation group conference. Rotorua, New Zealand

20. Guo C, Ma Y, Yang B, Jensen CS, Kaul M (2012) EcoMark: evaluating models of vehicular

environmental impact. SIGSPATIAL/GIS:269–278

21. Rakha H, Ahn K, Moran K, Saerens B, Van den Bulck E (2011) Virginia tech comprehensive power-
based fuel consumption model: model development and testing. Transp Res Part D: Transp Environ:492–
503

22. Lei W, Chen H, Lu L (2010) Microscopic emission and fuel consumption modeling for light-duty
vehicles using portable emission measurement system data. World Acad Sci Eng Technol:918–925
23. EPA (2010) Technical guidance on the use of MOVES2010 for emission inventory preparation in state
implementation plans and transportation conformity. U.S. EPA National Vehicle and Fuel Emissions
Laboratory

24. Hausberger S, Rexeis M, Zallinger M, Luz R (2009) Emission factors from the model PHEM for the

25. Pereira F, Costa H, Pereira N (2009) An off-line map-matching algorithm for incomplete map databases.

HBEFA version 3

Eur Transp Res Rev 1(3):107–124

26. Song G, Yu L, Wang Z (2009) Aggregate fuel consumption model of light-duty vehicles for evaluating

effectiveness of traffic management strategies on fuels. J Transp Eng 135:611–618

Geoinformatica

27. Tavares G, Zsigraiova Z, Semiao V, Carvalho M (2009) Optimisation of MSW collection routes for

minimum fuel consumption using 3D GIS modelling. Waste Manag 29(3):1176–1185

28. Ahn K, Rakha H (2008) The effects of route choice decisions on vehicle energy consumption and

emissions. Transp Res Part D: Transp Environ 13(3):151–167

29. Kono T, Fushiki T, Asada K, Nakano K (2008) Fuel consumption analysis and prediction model for
“eco” route search. In: 15th World congress on intelligent transport systems and ITS America’s 2008
annual meeting

30. ARB (2007) EMFAC2007 version 2.30: calculating emission inventories for vehicles in California. U.S.

the California Air Resources Board

31. Boulter P, McCrae I, Barlow T (2007) A review of instantaneous emission models for road vehicles.

Transport Research Laboratory, Published Project Report 267, Final

32. EEA (2007) Copert 4 user manual (version 5), computer programme to calculate emissions from road

transport. European Environment Agency

33. Othman HF, Aji YR, Fakhreddin FT, Al-Ali AR (2006) Controller area networks: evolution and
applications. In: 2nd Information and Communication Technologies, ICTTA’06, vol 2, pp 3088–3093.
IEEE

34. Scora G, Barth M (2006) Comprehensive Modal Emission Model (CMEM), version 3.01 users guide.

University of California Riverside Center for Environmental Research and Technology

35. Voss W (2005) A comprehensible guide to Controller area network. Copperhill Technologies Corpora-

tion

36. Nam EK, Giannelli R (2005) Fuel consumption modeling of conventional and advanced technology vehi-
cles in the Physical Emission Rate Estimator (PERE). Technical report, U.S. Environmental Protection
Agency

37. Rakha H, Ahn K, Trani A (2004) Development of VT-Micro model for estimating hot stabilized light

duty vehicle and truck emissions. Transp Res Part D: Transp Environ 9(1):49–74

38. Dhir A (2004) The digital consumer technology handbook: a comprehensive guide to devices, standards,
future directions, and programmable logic solutions. Newnes (an imprint of Butterworth-Heinemann
Ltd)

39. Pelkmans L, Debal P, Hood T, Hauser G, Delgado M-R (2004) Development of a simulation tool to

calculate fuel consumption and emissions of vehicles operating in dynamic conditions. SAE

40. Rakha H, Ahn K, Trani A (2003) Comparison of MOBILE5a, MOBILE6, VT-MICRO, and CMEM
models for estimating hot-stabilized light-duty gasoline vehicle emissions. Can J Civil Eng 30(6):1010–
1021

41. Teng H, Yu L, Qi Y (2002) Statistical microscale emission models incorporating acceleration and

deceleration. In: 81st transportation research board annual meeting

42. Ahn K, Rakha H, Trani A, Van Aerde M (2002) Estimating vehicle fuel consumption and emissions

based on instantaneous speed and acceleration levels. J Transp Eng 128(2):182–190

43. Cappiello A (2002) Modeling traffic flow emissions. Master’s thesis, Massachusetts Institute of

Technology

44. Cappiello A, Chabini I, Nam EK, Lue A, Zeid MA (2002) A statistical model of vehicle emissions and
fuel consumption. In: The IEEE 5th international conference on intelligent transportation systems, pp
801–809

45. EPA (2001) User’s guide to MOBILE6, mobile source emission factor model. U.S. EPA National Vehicle

and Fuel Emissions Laboratory

46. Ntziachristos L, Samaras Z, Agency EE (2000) COPERT III Computer programme to calculate
emissions from road transport: methodology and emission factors (version 2.1). Eur Environ Agency
47. Joumard R et al (1999) Methods of estimation of atmospheric emissions from transport: European

scientist network and scientific state-of-the-art. INRETS report LTE, 9901

48. Hickman J, Hassel D, Joumard R, Samaras Z, Sorenson S (1999) Methodology for calculating transport

emissions and energy consumption. TRL Report SE/491/98: Deliverable for EU project MEET

49. Jim´enez-Palacios JL (1998) Understanding and quantifying motor vehicle emissions with vehicle

specific power and TILDAS remote sensing. PhD thesis, Massachusetts Institute of Technology

50. Joumard R, Jost P, Hickman J, Hassel D (1995) Hot passenger car emissions modelling as a function of

instantaneous speed and acceleration. Sci Total Environ 169:167–174

51. Bowyer D, Ak˙celik R, Biggs D, A. R. R. Board (1985) Guide to fuel consumption analyses for urban

traffic management. Technical report, Australian Road Research Board

52. Dijkstra E (1959) A note on two problems in connexion with graphs. Numerische mathematik 1(1):269–

271

Geoinformatica

Chenjuan Guo is a postdoctoral researcher at the level of research assistant professor at Aalborg University,
specialized in spatial-temporal data management. She was a postdoctoral researcher at Aarhus Univer-
sity. She received her Ph.D. degree in computer science from the University of Manchester, UK, in 2011,
and received her M.E. and B.E. degrees from Northwestern Polytechnical University, China. Her research
interests include spatial-temporal data management, heterogeneous data management, and data analytics.

Bin Yang is an assistant professor at Aalborg University, Denmark. He was at Aarhus University, Denmark,
during 2011–2014 and at Max-Planck-Institut f¨ur Informatik, Germany, during 2010–2011. He received his
B.E. and M.E. degrees from Northwestern Polytechnical University, China, in 2004 and 2007, respectively,
and the Ph.D. degree in computer science from Fudan University, China in 2010. His research interests
include data management and data analytics. He has served on program committees of several database
conferences and as an invited reviewer for several database journals, including ICDE, TKDE, and The VLDB
Journal.

Geoinformatica

Ove Andersen is database specialist within spatio-temporal data working at Department of Computer
Science at Aalborg University, Denmark. Ove got his M.Sc. in computer science in 2010 from Aalborg Uni-
versity and has since his graduation worked in the Daisy research group. Ove is the main architect behind
Daisy DIP (Daisy ITS Platform) system, a complex software solution for handling large quantities of posi-
tioning and fuel data. In particular, Ove has been working with data management issues for large GPS and
CAN bus data sets such as data modeling, data cleansing (ETL), and map-matching.

Christian S. Jensen is Obel Professor of Computer Science at Aalborg University, Denmark. He was recently
at Aarhus University for three years and at Google Inc. for one year. His research concerns data management
and data-intensive systems, and its focus is on temporal and spatio-temporal data management. Christian is
an ACM and an IEEE fellow, and he is a member of the Academia Europaea, the Royal Danish Academy of
Sciences and Letters, and the Danish Academy of Technical Sciences. He has received several national and
international awards for his research. He is editor-in-chief of ACM Transactions on Database Systems.

Geoinformatica

Kristian Torp is an associate professor of Computer Science at Aalborg University, Denmark. Kristian has
aM.Sc. and Ph.D. from Aalborg University in 1994 and 1998, respectively. Kristian has worked for a number
of commercial software companies. Since 2003 he has been with the Daisy research group. Kristian’s research
focuses on spatio-temporal data management in particular GPS and CAN bus data. Since 2009 Kristian has
been the coordinator of Daisy DIP (Daisy ITS Platform) a complex software stack for spatio-temporal data
analysis.

