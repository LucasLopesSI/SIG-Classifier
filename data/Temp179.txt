The Cartographic Journal
The World of Mapping

ISSN: 0008-7041 (Print) 1743-2774 (Online) Journal homepage: http://www.tandfonline.com/loi/ycaj20

Computer cartography at the Polytechnic of Wales

C. B. Jones

To cite this article: C. B. Jones (1991) Computer cartography at the Polytechnic of Wales, The
Cartographic Journal, 28:1, 83-86, DOI: 10.1179/caj.1991.28.1.83

To link to this article:  http://dx.doi.org/10.1179/caj.1991.28.1.83

Published online: 18 Jul 2013.

Submit your article to this journal 

Article views: 2

View related articles 

Full Terms & Conditions of access and use can be found at
http://www.tandfonline.com/action/journalInformation?journalCode=ycaj20

Download by: [Universite Laval]

Date: 07 May 2016, At: 17:19

ComputercartographyatthePolytechnicofWalesc.B.JonesDepartmentofComputerStudies,ThePolytechnicofWales,Pontypridd,MidGlamorganCF371DLINTRODUCTIONComputercartographyhasbeenthesubjectofresearchpro-jectsintheDepartmentofComputerStudiesatthePolytechnicofWalesoverthepasteightyearsanditcon-tinuestobeachallengingapplicationareaofcomputerscience.Therearenot,atpresent,taughtcoursesinthisfieldbutresearchactivityincartographyandgeographicalinfor-mationsystems(GIS)has,however,providedasteadysourceofprojectsforundergraduatestudentsinthefinalyearofdegreesinComputerStudiesandinMathematicsandComputing.ExperienceaccumulatedincartographicresearchandGISalsoservesasafoundationforcon-sultancyservicestoexternalorganisationsconcernedwithcomputermapping.Themainareasofresearchactivityareinautomatedmapdesign,particularlythroughtheapplicationofartificialintelligencetechniques,andinthedevelopmentofmulti-scaledatabaseswithacapacitytostoreandretrievespatialdataacrosswiderangesofscales.Clearlythesetwoareasoverlapinthecommonfactorofgeneralisationasanessen-tialaspectofmulti-scalemapping.ResearchincartographicgeneralisationiscurrentlyahighpriorityintheDepart-ment,butinthefieldofmapdesignperhapsthemostpro-gresstodatehasbeenmadeindevelopingsoftwareforautomatednameplacement.Thishasnowreachedasophisticatedlevel,thanksinparttointernalcollaborationwiththePolytechnic'sInformationTechnologyCentre.Afurtherfieldofrecentactivityisthatofinteractive,map-basedmulti-mediacomputingsystems,foruseinmuseumsandeducation.Intheremainderofthispaperthesevariousactivitieswillbedescribedinmoredetailwithillustrationsofmapsproducedbycartographicsoftwaredevelopedasaresultoftheresearch.SOFTWAREFORCARTOGRAPHICNAMEPLACEMENTRecentprogressinthedevelopmentofnameplacementsoft-warehasbuiltupontheresultsofaPhDprojectcompletedbyA.C.Cookin1988(Cook,1988).ThePhDresearchpro-ducedtwoexperimentalcomputerprogramscalledLABPOSandNAMEX,aspectsofbothofwhichhavebeenexploitedtocreateanewsuiteofprogramswhichalsotakesthegenericnameNAMEX.ProgrammingofthislatterproducthasbeencarriedbyJ.E.McBrideoftheInforma-tionTechnologyCentre.Cook'sLABPOSprogramwaswritteninanattempttoemulateautomaticallymuchofthenameplacementoftheOrdnanceSurvey's(OS)1:625,000RoutePlannerMap.ItusedtheOS1:625,000digitaldatasetandplacedallclassesofsettlementandroadnames.ThetechniquesemployedinLABPOSmayberegardedtosomeextentasasynthesisofmethodsusedinanumberofearlierprograms,inparticularduetoAhnandFreeman,Basoglu,andGreggains(AhnandFreeman1983,FreemanandAhn1984,Basoglu1984,Greggains1982).OneimportantpropertyoftheLABPOSprogramistheevaluation,foreachname,ofasetoftrialpositionsinthevicinityofthefeaturetobeannotated.Thepositionsareweightedinitially,accordingtotheirdegreeofoverlapwithadjacentmapfeatures,beforeconsideringpossibleoverlapsbetweennames.Inordertocalculateweightsfortrialposi-tions,eachclassoffeatureonthemapisallocatedseparatelytoarasterdatastructure,referredtoasabitplane,towhichaparticularpriorityisattached.Theweightingforaparticularlabelisdeterminedbyrasterisingitssurroundingrectanglebeforesummingthepixelsoverlappedwithintheindividuallyweightedbitplanes.Havingorderedthetrialpositionsforeachnameinincreas-ingdegreeofoverlapwithunderlyingfeatures,aconflictresolutionalgorithmisexecutedtofindasetofnameplacementsforthemapwhichbothobeystheseprioritiesandavoidsoverlapbetweenselectedlabelpositions.TheLABPOSconflictresolutionprocessisaniterativeonewhich,afteraprespecifiednumberofattempts,modifiesitselfbyfixinglabelswhicharemovedmorethanagivennumberoftimesinthefirstphase.Italsohasafinalphaseinwhichnameswhichhavebeenmovedtoalowpriorityposition,butwhichstillhaveavailableahigherpriorityposition,aremovedtotheirhighestavailablepriorityposi-tion.LABPOSincludesmanyadjustableparameterswhichcanaffectthequalityofthefinalplacement.Cookexperimentedwiththesesettingstofindoptimalvalues,whereoptimalitycanbedefinedintermsofmaximisingtheselectionofhighprioritypositionsforlabels.AlthoughtheLABPOSprogramprovedremarkablyeffectiveinperformingitsintendedtask,itsvalueislimitedbythefactthatitwasdesignedtoproduceonlyonepar-ticulartypeofmapwithfairlywelldefinedcharacteristics.Thesecondphaseofnameplacementresearchwasdirectedtowardstheproductionofasystemwhichprovidedcon-siderableflexibilityinspecifyingthecharacteristicsofthemaptobeproduced.Particularemphasiswasplacedontheideaofspecifyingcartographicrulestocontrolnameplace-ment.Inanattempttoachievethisobjective,thedecisionwastakentousethelogicprogramminglanguageProlog.TheCartographicJournalVol28June199183Downloaded by [Universite Laval] at 17:19 07 May 2016 ThereasonforusingPrologwasthat,becauseprogramswritteninthelanguageconsistofrulesandfacts,itprovidesadeclarativestyleofprogrammingwhichlendsitselftoexpressingspatialrelationsinarelativelyexplicitmanner.Thisisnottosaythatitisanideallanguageforthepurpose.Certainlyitcannotberegardedasauser-levelcommandlanguage,astoemployitrequiresanunderstandingnotjustofthesyntax,butofthewayinwhichitexecutesinordertoprovethetruthofapredicate.However,forresearchpur-posesitprovidesapowerfultoolforexperimentingwithcartographicrulespecification.Manyaspectsofcartographicnameplacementrequiregeometricoperationsconcernedforexamplewithdetermin-ingtrialpositionsofalabelrelativetoalinearfeatureorwithdetectingoverlapsbetweenarbitrarilyorientedlabels.Prologhasfewadvantagesforimplementingsomeoftheseoperationsefficiently,andforthatreasonitwasconsideredadvantageoustoprovideaninterfacebetweenahigherlevelrulespecification,writteninProlog,andlowerlevelspatialdataprocessingprocedures,writteninaprocedurallanguage,whichinthscasewasFortran.Intheresultingsystem,whichwasthefirstversionofNAMEX,allgeometryandtopologicaldatadescribingthemapfeaturesandtheirnameswereimplementedinFortran.AccesstothiscartographicdatabasewasachievedbymeansofasetofPrologpredicates,orprimitives,whichwerethenusedtoexpressthecartographicrulesandthestrategyofnameplacement.AnalternativeapproachinwhichbothtrialpositionsandoverlapsareevaluateddirectlyinProloghasalsobeendeveloped(Jones,1989).ThePrologprimitivesinNAMEXincludesimpledatabaseaccessfunctions,suchastofindthecoordinatesofaspecifiedpointfeature.Morecomplexspatialfunctionsarealsopresentandincludeonestosearchforthepresenceofspecifiedfeatureclasseswithinagivenradiusorrec-tangulararea,andtotestforoverlapbetweentwolabels.TheversatilityofthisversionofNAMEXwasdemon-stratedbyplacingtextonamapofcountiesandtowns,arouteplannermap(asinLABPOS)andtocreateaseriesofmapsoflunarcratersatscalesrangingfrombetweenI:1~OOO,OOOandI:24,000,000.Inthelatter,lunarmaps,therulesforselectingnamestobeplacedwerenotableforbeingafunctionofmapscale,thusillustratingtheuseofthesystemforperforminggeneralisationasanelementofnameplacement(CookandJones,1990a,1990b).ThefirstversionofNAMEXprovidedconvincingevidenceoftheusefulnessoflogicprogrammingforspeci-fyingrulesgoverningtheselectionsofnamesandtheallowablespatialrelationshipsbetweenlabelsandothermapfeatures.However,thestrategythatitemployedtoresolveconflictsbetweenlabelswaspronetoexecution~imeswhichwereslowcomparedwiththeearlierLABPOSprogram.Thismadeexperimentationwithdifferentrulesaslowprocessanddidnotprovideaprogramwhichcouldberegardedasacceptableinaproductionenvironment.Followingthecompletionoftheresearchproject,asecondphaseofNAMEXsoftwareproductionhasbeeninitiatedwiththeintentionofcreatingacommercialnameplacementpackagewhichisbothflexiblewithrespecttorulespecifica-tionandefficientandreliableintermsofexecutiontimesandthequalityoftheresultingmaps.ThesecondversionofNAMEXiscurrentlywritteninanentirelyproceduralmannerusingFortran.Itincludesnumeroususer-definableparameters,whichgiveagreatdealofcontrolovertherelationshipbetweennamesand84mapfeatures.Theusercanadjustthemaximumnumberoftrialpositionswhichareexaminedforeachname,sothatforhighlyinteractiveworkfewerpositionsareconsidered,whileforpublicationqualitymappingamorecomprehen-sivesearchisperformed.Fortheformerpurpose,itispos-sibletospecifyanentirelyautomaticplacementstrategy,whileforthelattertheprogramcanhighlightpoorerqualityplacementswhichtheusermaychoosetoadjustmanuallyorwhichcouldbealteredbyachangetothemappingparameters(suchasdecreasingtextsizeandallowingcertainfeaturestobeoverlapped).Wherenosolutionwhichsatisfiesthegivenparameterscanbefound,duetolackofspaceonthemap,anautomaticnamedeletionprocesscanbeinstigatedinwhichdeletionstakeintoaccounttherelativeimportanceoflabelsasdeterminedbyafeatureclassification.ExamplesofroadmapsproducedbythisversionofNAMEXareillustratedinFiguresIand2.Figure1.AnexampleofautomatednameplacementusingtheNAMEXpackage.Reproducedusingthe1:625,000OrdnanceSurveyRoutePlannermapdigitaldatasetwithpermissionHMSO.GENERALISATIONANDMULTI-SCALEDATABASESAsmoreorganisationsinvestinthecreationoflargespatialdatabasesthereisanincreasingdemandtoprovidefacilitiesDownloaded by [Universite Laval] at 17:19 07 May 2016 whichcanmaintainmultipleversionsofmapdataatdif-ferentscalesandwhichcanautomaticallyderivegeneralisedmapsfromlargerscaledata.Thisrequirementarisesbothinorganisationsconcernedwithenvironmentalmonitoringandplanningandwiththoseconcernedwithpublishingarangeofmapproductsatdifferentscaleswhich,ideally,couldbegeneratedfromasingleintegrateddatabase.Progressincreatingmulti-scaledatabasesforstoringlinearfeatureshasbeenmadeinthedevelopmentofanexperimentaldatabasewhichusesalinegeneralisationalgorithmtoclassifytheverticesoflinefeaturesaccordingtotheircontributiontoshape(Abraham1988,JonesandAbraham1987).Intheexperimentaldatabaselineverticesareseparatedintogeneralisationlevelswhicharethemselvesspatiallysegmentedusingaquadtreetessellation.Reconstructionofalineatagivenlevelofgeneralisationrequiresaccessingverticesatalllevelsdowntothechosenlevel.Thus,ingeneral,verticesarenotduplicatedbetweenlevelsexceptinsofarasitisrequiredtomaintainboundarypointsforthequadtreecells.GeneralisationwascarriedoutusingtheDouglasandPeucker(1973)algorithm.Theimportantpropertyofthisalgorithmforourpurposesistheabilitytoclassifyallpointsdistinctlysuchthatlinesofpro-gressivelygreaterdetailcanbeobtainedbyinsertingverticesselectedbytheuseofcorrespondinglysmallertolerancevalues.Theuseoflinegeneralisationalgorithmstoclassifylineverticesaccordingtoscaleimpliesthatthereisaknownrela-tionshipbetweentheparameterswhichcontrolthealgorithm(asingletolerancevaluefortheDouglas-Peuckeralgorithm)andthe'scalesignificance'oftheresultingline.ThedifficultyofchoosingappropriatetolerancevalueshasbeenreferredtobyButtenfield(1987)andMcMaster(1987).InanefforttosolvethisproblemfortheDouglas-Peuckeralgorithm,experimentswerecarriedouttodeterminetherelationshipbetweentolerancevalueandthenumberofpointswhichwereselected(Abraham1988,JonesandAbraham1987).Thenumberofpointsselectedwasfoundtobeinverselyproportionaltoanapproximatelylinearfunctionofthetolerancevalue,wherethecoefficientsoftheequationdifferbetweenlinesaccordingtotheircar-tographiccharacteristicsandcanbefoundbyaregressionprocedure.Thechangeinthenumberofpointsbetweentwoscales,i.e.theirratio,wasassumed,asafirstapproxima-tion,tobeequaltotheratioofthetwocorrespondingscales.ThisassumptionwasbasedontheapplicationofTopfer'sLaw(TopferandPillewizer,1966)wheneachpointistakentorepresentavectorwhichispartofaline(ratherthanbeinganindependentpointfeature).Thusna.Ma=nf.Mf,wherenaandnfaretheoriginalandderivednumberofpointsandMaandMfarethecorrespondingscaledenominators.Abraham(1988)found,inatheoreticalanalysis,thatbytakingthefractaldimensionintoaccountthelatterequationshouldbemodifiedbyraisingthescaledenominatortothepowerofthefractaldimension.Itmaybenotedthat,independently,Muller(1987)cametothesameconclusion.Researchintomulti-resolutiondatastructureshascon-85Downloaded by [Universite Laval] at 17:19 07 May 2016 tinuedintheDepartmentbyextendingitsscopetoincludeterrainmodelsinwhichpoint,lineandpolygonalfeaturesareembedded.AbasisforthisworkistheDelaunaypyramid,duetoDeFloriani(1989).Thislatterdatastruc-ture,whichisamulti-resolutiontriangulation,isbeingextendedtoincludeinternalspatialindexingateachlevelofthehierarchy,alongwithamappingoftopologicallystruc-turedfeaturesontotheverticesofthetriangulation(WareandJones,inpreparation).Multi-resolutiondatastructuresofthesortreferredtoaboveareintendedtoprovideefficientaccesstopoints,linesandsurfaces.Theydependupontheuseofwelldefinedsimplificationalgorithmsinwhichthegeneralisationprocessgeneratesaderivedversionwhichconsiststoalargeextentofasubsetofthegeometryofthesourceobject.Inpractice,generalisationoverlargescalechangesmaysignifi-cantlyalterthegeometryofobjectsby,forexample,mergingthemwithsimilaradjacentobjectsorexaggeratingordisplacingthemtoretaintheiridentityinwhatmaybeahighlysymbolicrepresentation.Whiletherearesomeautomaticprocedurestoperformthistypeofgeneralisa-tion,theyarenotsufficientlywelladvancedtocreateaninformationsysteminwhichallrequireddegreesofgeneralisationcouldbegeneratedfromasinglelargescalerepresentation.Thus,inapplicationsrequiringobjectstoberetrievedatwidelydifferingscales,itisstillnecessarytostoremultiplerepresentationsofthesamereal-worldobjectsatdifferentlevelsofdetail.Thisdoesnotpreventtheuseofexistingmulti-resolutiondatastructures,buttheycanonlybeusedoverrestrictedrangesofscales.Maintenanceofadatabasecontainingmultiple-scalerepresentationswhichmaybestoredinmulti-resolutiondatastructuresposesmajorproblemsinprovidingautomaticcontroloverupdateandretrievalofthestoredobjects.Inanattempttoaddresssomeoftheproblemsofbuildingandmaintainingsuchadatabasearesearchprojectwasinitiatedin1990,withsupportfromtheScienceandEngineeringResearchCouncil(SERC)andfromtheOrd-nanceSurvey.Theobjectiveoftheprojectistobuildanexperimentaldatabaseinwhichupdatesandqueriesarehandledbyarule-basedsystemwhichisimplementedusingdeductivedatabasetechnology.Theprojectwillexploitdatastructuressuchasthemulti-resolutiontriangulationmen-tionedearlierand,forthepurposesofretrieval,willemploygeneralisationprocessorsdevelopedaspartofarelatedresearchproject(atpostgraduatelevel)whichisalsofundedbySERCandtheOrdnanceSurvey.MAP-BASEDMULTI-MEDIAINFORMATIONSYSTEMSThecurrentavailabilityofhighlyversatilesoftwaretoolsforcombiningimages,textandsound,withrelativelyeasy-to-useuserinterfaceshasprovidedgreatpotentialfordevelopingsystemsinwhichmapscanprovideaframeworkforavarietyofspatiallyreferencedinformation.Followinganapproachfromalocalmuseum(ThePontypriddHistoricalandCulturalCentre)amulti-mediasystemhasbeendevelopedtoprovideinformationonlocalhistoryoverthelasthundredyears.TheuserinterfaceofthisLocalHistoryProjectiscentredontheuseofasmallscalemapoftheregionwhichislogicallydividedintorectangularcells.Foreachoftheseapairoflargerscalemaps,dating'fromabout1880and1980respectively,isavailable.Whenpresentedinitiallywiththeregionalmap,theuserpoints,withamouse,toanareaofinterestwhichisthendisplayedinmoredetailwiththelargerscalemaps.Associatedwith86eachmapcellareimages,chieflyconsistingofhistoricalphotographs,graphicspresentingsocialandeconomicdata,andtextualcommentaries.Thetextassociatedwiththeoldandmodernmapsreferstolocal'placesandeventsofinterest.Whenphotographsaredisplayed,thetextisthenspecifictothesubjectoftheindividual*nes.Allmapsandphotographsfortheprojectwerescannedusingacolourscanner,whileothergraphksandtextweregeneratedusingappropriateapplicationspackages.Thesystemhasbeensetupsuchthat,thougJ,allmapswerescannedinadvance,theycanbeeditedbymuseumstafftohighlightfeaturesofinterest.Asregardsphotographs,graphicsandtext,thesystemcanbeupdatedatwill,asinformationandnewmaterialbecomeavailable,ortomakechangestothecurrentstateofthesystem.ThepresentversionoftheLocalHistoryProjectisrelativelysimplisticcomparedwiththepotentialofsuchsystems.Futureenhancementsunderconsiderationincludethedelineationofspecificmapfeaturestocreategraphic'buttons'whichwillprovidemorefocusedinformationretrieval.Itwillalsobepossibletoprovidemoresophisticatedlinksbetweenconceptsorplacesspecifiedbytheuserandthestoredinformation,aswellastoprovidesoundandvideooutput.ACKNOWLEDGEMENTThefiguresinthispaperwerekindlyproducedbyMr.JohnMcBrideoftheInformationTechnologyCentre,ThePolytechnicofWales.REFERENCESAbraham,I.M.,1988.AutomatedCartographicLineGeneralisationandScale-IndependentDatabases.PhdThesis,ThePolytechnicofWales.Ahn,J.andFreeman,H.,1983.AProgramforAutomaticNamePlacement.ProceedingsAuto-CartoSix,2:444-453.Ed.B.S.Wellar,SteeringCommitteefortheSixthInternatinalSymposiumonActomatedCartography,Ottawa.Basoglu,U.,1984.ANewApproachtoAutomatednamePlacementSystems.PhDThesis,DepartmentofGeography,UniversityofWisconsin-Madison.Buttenfield,B.F.,1987.Automatingtheidentificationofcartographiclines.TheAmericanCartographer,14(1):7-20.Cook,A.C.,1988.AutomatedCartographicNamePlacementUsingRule-BasedSystems.PhDThesis,PolytechnicofWales.Cook,A.C.andJones,C.B.,1990.AProloginterfacetoacar-tographicdatabasefornameplacement.Proceedings4thInternationalSymposiumonSpatialDataHandling,Zurich,701-710.Cook,A.C.andJones,C.B.,1990.APrologrule-basedsystemforcartographicnameplacement.ComputerGraphicsForum,9:109-126.DeFloriani,L.,1989.Apyramidaldatastructurefortriangle-basedsurfacedescription.IEEEComputerGraphicsandApplications,March1989:67-78.Douglas,D.H.andPeucker,T.K.,1973.Algorithmsforthereductionofthenumberofpointsrequiredtorepresentadigitizedlineoritscaricature.CanadianCartographer,10(2):112-122.Freeman,H.andAhn,J.,1984.AUTONAP-AnExpertSystemforAutomaticMapNamePlacement.ProceedingsInternationalSym-posiumonSpatialDataHandling,2:544-569.Greggains,A.,1982.AStrategyforNamePlacement.UnpublishedReport,UniversityofCambridge,ComputerLaboratory.Jones,C.B.,1989.CartographicNamePlacementWithProlog.IEEEComputerGraphicsandApplications,9(5):36-47.Jones,C.B.andAbraham,I.,1987.Linegeneralisationinaglobalcar-tographicdatabase.Cartographica,24(3):32-45.Jones,C.B.andCook,A.C.,1989.Rule-basedcartographicnameplacementwithProlog.ProceedingsAuto-Carto,9:231-240.McMaster,R.B.,1987.AutomatedLineGeneralisation.Car-tograp.hica,24:74-111.Muller,J.-C.,1987.Optimumpointdensityandcompactionratesfortherepresentationofgeographiclines.ProceedingsAuto-Carto,8:221-230.Topfer,F.andPillewizer,W.,1966.Theprinciplesofselection.Car-tographicJournal,3(1):10-16.Downloaded by [Universite Laval] at 17:19 07 May 2016 