G   E   O   M   A   T   I   C   A

USING DISTRIBUTED MAP OVERLAY 
AND LAYER OPACITY FOR VISUAL 
MULTI-CRITERIA ANALYSIS

Michael Markieta, Claus Rinner
Department of Geography, Ryerson University, Toronto, Ontario

Strategic decision-making is often based on multiple decision criteria and on the decision-makers’ preferences
regarding relative criterion importance. We present version 2 of a map overlay and opacity tool (moot2), which
supports the visual exploration of decision-making scenarios. The tool uses a basic function of geographic infor-
mation systems (GIS): visual map overlay. In this approach, visual overlay serves as a representation of weighted
linear combination in multi-criteria decision analysis (MCDA). Using the tool, we model a global human influence
index for the extent of the province of Ontario, Canada. The index is a weighted overlay of six indicators that rep-
resent human influence on the land. The semi-transparent overlay of the six indicator layers occurs online in a web
browser,  making  it  accessible  to  distant  collaborators  in  low-technology  settings.  The  software  architecture  of
moot2 includes the OpenLayers JavaScript library to display thematic Web Map Service (WMS) layers, such as the
human influence indicators, on top of popular base map services, such as OpenStreetMap or Google Maps. The
tool also uses jQuery, a JavaScript library that enables interactions between the user and the map environment.
Layer opacity is manipulated by the jQuery Slider, permitting the user to generate on-the-fly weighting schemes for
the combination of the human influence indicators. By removing the analytical engine (i.e., GIS), decision-makers
can perform rapid MCDA without recalculating composite evaluation scores. The case study demonstrates how
visual-spatial MCDA supports the refinement of decision-making parameters such as criterion weights.

La prise de décisions stratégiques est souvent basée sur des critères décisionnels multiples et sur les
préférences des décideurs concernant l’importance relative de ces critères. Nous présentons la version 2
d’un outil de superposition de cartes à opacité réglable (moot2), qui aide à explorer visuellement les scé-
narios de prise de décisions. Cet outil utilise une fonction fondamentale des systèmes d’information géo-
graphique (SIG) : la visualisation de cartes superposées. Dans cette approche, la superposition visuelle sert
à représenter la combinaison linéaire pondérée dans l’analyse décisionnelle multicritères. À l’aide de cet
outil,  nous  modélisons  un  indice  d’influence  humaine  globale  à  l’échelle  de  la  province  de  l’Ontario  au
Canada. L’indice est une superposition pondérée de six indicateurs qui représentent l’influence humaine sur
le terrain. La couche semi-transparente résultant de la superposition des six couches d’indicateurs est pro-
duite en ligne dans un navigateur Web, devenant ainsi accessible à des collaborateurs éloignés qui utilisent
des environnements technologiques peu développés. L’architecture logicielle de moot2 comprend la biblio-
thèque OpenLayers JavaScript afin d’afficher des couches thématiques de Services de cartes Web (SCW),
comme des indicateurs d’influence humaine, sur des services cartographiques de base très répandus comme
OpenStreetMap et Google Maps. L’outil utilise également jQuery, une bibliothèque JavaScript qui permet
l’interaction  entre  l’utilisateur  et  l’environnement  de  la  carte.  L’opacité  des  couches  est  maniée  par  le
jQuery Slider, ce qui permet à l’utilisateur de générer sur le champ des grilles de pondération pour la
combinaison  des  indicateurs  d’influence  humaine.  En  enlevant  le  moteur  analytique  (c.-à-d.  le  SIG),  les
décideurs peuvent entreprendre de rapides analyses décisionnelles multicritères sans recalculer les cotes
d’évaluations  combinées.  L’étude  de  cas  démontre  comment  l’analyse  décisionnelle  multicritères  visuo-
spatiale permet de raffiner les paramètres de prise de décisions comme la pondération des critères.

1. Introduction

Geospatial  data  are  usually  organized  and
managed  in  a  layer  model  to  support  GIS
operations  (e.g.,  Clarke [2001]).  The  layer
model  separates  geographic  features  or  fields
into  different  datasets  according  to  their
geometry  type  and  their  theme.  For  example,
roads  are  represented  as  lines  in  a  vector  data

structure on one layer, while the distance from the
nearest  road  is  represented  as  a  raster  surface  on
another layer. 

Map  overlay  is  a  basic  function  of  GIS  (e.g.,
Malczewski [1999]),  yet  there  are  two  distinct
forms:  visual overlay  and  computational overlay.
Visual overlay is concerned with the rendering on
the  user’s  screen  of  a  map  image  created  as  a

M. Markieta

C. Rinner
crinner@ryerson.ca

dx.doi.org/10.5623/cig2014-202

GEOMATICA  Vol. 68, No. 2, 2014, pp. 95 to 105

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

combination of  multiple  data  layers.  Technical
concerns  include  the  rendering  sequence.  In  the
above  example,  the  layer  with  sparse,  linear  road
features would be drawn on top of the continuous
coverage layer representing distance from these
roads,  in  order  to  be  visible  at  all.  While  the
datasets participating in a visual overlay remain
separate,  in  a  computational  overlay  they  are
merged.  For  example,  two  layers  with  major
roads  and  subordinate  roads  may  have  to  be
integrated  into  one  layer  for  certain  purposes.
Or,  a  distance  surface  may  be  merged  with  a
traffic  density  raster  for  a  coarse  estimate  of
travel  times.  The  computational  overlay  of
raster  layers  has  been  conceptualized  as  “map
algebra” by Tomlin [1990]. 

In  the  last  example  above,  a  simple  index
model was created from two layers, which could
be  weighted  using  multiplicative  factors  in  a
map algebra operation. This example illustrates
the  relationship  between  the  layer  model,  map
overlay  and  multi-criteria  decision  analysis
(MCDA),  which  combines  information  from
multiple criterion maps or feature attributes into
an  evaluation  score  that  supports  a  decision
between alternative locations [Malczewski 1999]. 
This  paper  presents  a  reimplementation  of
Rinner  and  Düren’s [2011]  map  overlay  and
opacity tool (“moot”). The overlay of semi-trans-
parent  criterion  maps  represents  the  MCDA
process in a purely graphical manner. The origi-
nal  moot  tool  [Rinner  and  Düren 2011]  was
developed  and  presented  without  a  standardized
approach  to  utilizing  data  layers  for  visual  map
overlay.  The  tool  accepted  any  OpenGIS  Web
Map Service (WMS) layer. By standardizing the
WMS layer specification and integration for the
“moot2” tool, we provide a significant structural
improvement  over  its  predecessor.  The  moot2
tool  illustrates  an  efficient,  computationally
inexpensive  approach  to  using  distributed  data
layers  for  spatial  decision  support.  This
approach  is  tested  with  the  visual  analysis  of
human influence across the province of Ontario,
Canada,  replicating  a  global  human  influence
index developed by Sanderson et al. [2002]. 

interactive  decision 

The  remainder  of  this  paper  outlines  related
research  in  the  area  of  geovisual  analytics  and
map-centred 
support,
describes the approach of Sanderson et al. [2002]
as a composite index, details the architecture and
functionality  of  moot2  using  the  Ontario  human
influence index, and concludes with a discussion
and outlook on future research. 

2. Research Context – Spatial
Multi-Criteria Decision Analysis
and Composite Indices of Human
Influence on the Environment

Spatial  multi-criteria  decision  analysis  can  be
defined  as  a  “subset  of  multi-criteria  decision
analysis  techniques  in  which  location  plays  a  role
in  the  decision  variables”  [Bryan  and  Crossman
2008]. Malczewski [1999] noted that the geospatial
aspects  in  many  decision  problems  suggest  using
GIS  and  maps  for  geographical  representations  of
decision space, which complement graphical rep-
resentations of criterion space. One of the earliest
discussions and most advanced implementations of
this  concept  was  proposed  by  Jankowski  et  al.
[2001].  In  their  DECADE  prototype,  analysts
could set MCDA parameters (e.g., criterion aspi-
ration  levels  for  public  health  variables)  through
an  interactive  map  interface,  as  well  as  examine
decision  outcomes  (Idaho  County  performance)
through  manipulation  of  thematic  map  symbolo-
gy,  map-derived  classification  and  dynamically
linked  displays  [Jankowski  et  al. 2001].  In  one  of
many  subsequent  publications,  Andrienko  and
Andrienko [2002]  propose  specific  visual  tools  for
spatial  multi-criteria  decision  analysis,  including
“utility bar charts” and “utility wheels” that repre-
sent weighted, standardized criterion outcomes on
interactive maps. 

With  reference  to  Thomas  and  Cook [2005],
Andrienko et al. [2007] outline the emerging field
of “geovisual analytics.” In the same special issue,
Rinner [2007]  presents  a  distinct  view  of  using
interactive  mapping  tools  to  explore  user-defined
parameters  in  MCDA.  While  geovisual  analytics
was presented as a response to challenges with ana-
lyzing increasingly large datasets (now commonly
labelled  as  “big  data”),  Rinner [2007]  argues  that
“small”  datasets  are  becoming  large  through  data
processing,  such  as  MCDA.  In  this  perspective,
changes  in  MCDA  parameters  are  producing  a
potentially  unlimited  number  of  alternative  out-
comes,  which  can  be  examined  using  highly
interactive, map-centred tools. 

Spatial MCDA has found numerous applications
in  natural  resource  management  and  environmental
planning,  among  other  fields  [Malczewski  2006].
Many of these applications aim to create composite
indices,  where  index  scores/values  represent  a
degree of suitability or vulnerability. Recent exam-
ples  include  decision-making  on  integrated  land

96

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

Figure 1: Software architecture with server and client components.

management [Greene et al. 2010] and mapping the
wildness degree of landscapes [Carver et al. 2010].
A specific application of spatial MCDA in the environ-
mental domain attempts to model human influence on
the  land.  Sanderson  et  al.  [2002]  present  a  global
assessment of the human footprint on the earth’s sur-
face. They use a total of nine factors to represent human
influence, including population density, land cover cat-
egories, night-time stable lights as well as distance from
railroads,  roads,  navigable  rivers  and  coastlines.
These are aggregated in a compensatory fashion to
form a grid of human influence index values. 

A  key  characteristic  of  MCDA  is  the  use  of
compensatory criteria, where poorer performance in
one  criterion  can  be  substituted  to  some  extent  by
greater performance in another criterion, depending
on the criteria’s respective weights. This character-
istic distinguishes MCDA from constraint mapping
and screening procedures that use Boolean criteria
with  crisp  threshold  values.  Eastman  et  al. [1995]
label the compensatory criteria as “factors” and the
Boolean criteria as “constraints.” 

The World Wide Web has been presented as a
suitable  medium  for  GIS-based  MCDA  [Rinner
2003]. While MCDA usually requires computation-
al combination of multiple data layers, Rinner and
Düren [2011]  introduced  a  web-based  weighted
map  overlay  tool  that  represents  criteria  as  semi-
transparent  raster  layers,  and  criterion  weights  as

levels  of  transparency.  In  terms  of  interoperable
geographic information technology, the OpenGIS Web
Map Service (WMS) specification supports the visual
overlay of separately sourced layers, and is used in the
moot2 tool described in the following section. 

3. The Map Overlay and
Opacity Tool

The  moot2  software  architecture  can  be
separated into two fundamental groups of com-
ponents:  server  and  client.  The  hardware  and
software components of the server allow moot2
to  be  accessible  from  any  computer  with  Internet
access and a recent web browser. The client is a
series  of  JavaScript  libraries  that  are  made
available to the web browser on the user’s computer
with  which  moot2  is  accessed.  The  tool  can  be
broadly described as a platform, in which mul-
tiple  transparent  WMS  layers  are  overlaid  by
the  client  to  create  a  cumulative  representation
of opaqueness. The transparency of each WMS
layer  can  be  adjusted  by  the  user  through
manipulation  of  a  slider  or  by  using  buttons  to
obtain  predefined  transparency  configurations.
Figure 1 displays the interaction between these
components, as well as the interaction between
the user and the GUI components.

97

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

3.1. Server Hardware and Software

The server that runs moot2 requires no specific
hardware.  However,  server  performance  depends
on  the  available  memory  and  processing  speed  of
the  CPU.  Current  consumer  computer  technology
(less than five years old) is sufficient to run moot2.
The  Apache  web  server  software  is  used  on  a
Windows Server 2008 machine to run a public-fac-
ing server from which moot2 can be accessed. As
shown in the left part of Figure 1, the moot2 tool
displays  WMS  layers  served  by  the  UMN
MapServer [UMN 2013] included in the MapServer
for Windows (ms4w version 3.0.3) package, which
conveniently  installs  a  preconfigured  Apache  web
server  environment  on  the  Windows  Server.  This
server  software  listens  for  incoming  requests  from
the  client  software,  and  returns  tiled  images  that
make  up  standardized  WMS  layers  [OGC 2006].
The  UMN  MapServer  allows  us  to  publish  spatial
data  to  the Web  as  a  series  of  images  that  in  turn
create the web map, which is representative of the
original  data  on  the  server.  The  preconfigured
Apache server within ms4w includes all of the pre-
requisite  additions  to  handle  and  process  spatial
data, which are needed here for raster optimization
processes explained below. 

The MapServer configuration can be completed
in  one  step,  which  consists  of  creating  a  unique
MAP  file  for  all  WMS  layers  in  moot2. A  MAP
file  is  a  structured  text  file  that  instructs
MapServer  on  how  to  create  the  WMS  layers,
including  such  information  as  relationships
between  objects,  metadata,  data  source  on  the
server and layer style definitions.

A feature-rich WMS can be created by config-
uring  a  MAP  file  with  all  relevant  parameters
explained  in  the  MAP  file  documentation  [UMN
2013]. For moot2 however, we only need a few key
parameters: projection,  expression and  style. The
projection parameter defines the geographical ref-
erence  system  using  numeric  EPSG  codes.
Expressions  enable  map  symbolization  of  pixels
based  on  the  selection  created  by  the  expression
statement.  Lastly,  the  style parameter  defines  the
symbolization  applied  to  the  pixels  that  were
selected  by  the  expression  statement.  The  geo-
graphic  raster  data  are  stored  as  a  series  of  TIFF
images that MapServer can read by default, along
with  many  other  geographic  data  formats,  both
open-source  (e.g.,  JSON,  XML)  and  proprietary
(e.g., ESRI Shapefile). 

As an example, the MAP file used in moot2 to
display  the  railroads  layer  contains  53  lines  of

configuration  parameters,  values  and  comments.
Of  these,  only  the  16  lines  shown  below,  which
make up the LAYER parameter, are specific to this
individual MAP file and WMS layer in moot2. The
LAYER  parameter  allows  us  to  define  the  WMS
layer  name,  which  is  used  as  a  reference  to  the
WMS published by MapServer. The DATA param-
eter points to the location on the server where the
data  are  stored,  and  the  TYPE  parameter  defines
the data format as raster. 

LAYER

#-> BEGIN LAYER DEF.: Railroads
# Layer identifier

DEFAULT

NAMErailroads
DATA “data/wgs84/railroads_1024.tif” # Name of the data file
STATUS
TYPE RASTER
OPACITY
OFFSITE
CLASS

# Default (always on) <-OR-> ON/OFF
# Data type
# Layer transp. (0-100 <-OR-> ALPHA)
# Image background colour
#-> BEGIN CLASS
NAME“Railroads”
# Name of class (used in legend)
EXPRESSION  ([pixel] ne 0)  # Attribute value definition query
STYLE

100
0 0 0

OPACITY 100
COLOR   0 0 0

#-> BEGIN STYLE
# Opacity
# Fill colour
#-> END STYLE
#-> END CLASS
#-> END LAYER DEFINITION: Railroads

END

END

END

The moot2 tool relies on the principles of alpha
blending  to  change  image  opacity.  Generally,  all
layers are defined with red-green-blue (RGB) val-
ues  of  0,0,0  (black).  Using  the  additional  alpha
parameter A, for example in the case of the WMS
layer  railroads,  the  raster  opacity  is  configured  to
display cells as entirely opaque (R,G,B,A=0,0,0,1)
in locations where the cell value is not equal to zero
(a  railroad  is  present),  and  as  entirely  transparent
(R,G,B,A=0,0,0,0)  elsewhere.  The  client  handles
the management of opacity in moot2 and therefore
the railroads WMS layer is served at its maximum
opaqueness where data values exist. In this manner,
the client has the ability to display data on an alpha
scale of 0-100 percentage opaqueness. Some WMS
layers  in  moot2  are  not  represented  on  a  binary
scale of opaque or transparent raster cells. The use
of gradual transitions in opaqueness is illustrated in
Table 1 in the next section. 

Once the MAP file is created and the Apache
server  is  configured  to  allow  public  access  to  the
file directory in which the MAP file is saved, it will
be available as a WMS for mapping purposes. Each
WMS  has  a  default  URL  that  can  be  used  to  dis-
tribute  the  service  publicly. The  URL  begins  with
the  location  of  the  MapServer  CGI  executable  on
the Apache server. To verify that a MAP file is pub-
licly accessible, we can attach the relative path to
the Map file as a parameter to the base URL of the
WMS. This will return a false-positive error since
we  have  not  specified  any  other  URL  parameters
that are needed to display the WMS as a map in the
browser. The URL which points to the MapServer

98

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

CGI executable and MAP file for each WMS layer
are required components for the client software to
display the data as WMS layers. Ensuring that these
two URLs are working will confirm that the WMS
layer can be added to the client software of moot2.

3.2. Client Software

The client software, which is represented in the
centre and right-hand side of the moot2 architecture
diagram  in  Figure  1,  is  a  combination  of  multiple
JavaScript  libraries  and  a  series  of  custom
JavaScript  functions,  as  well  as  the  moot2  web
page itself. The web map environment was created
using  the  OpenLayers  version  2.11  JavaScript
library  [OpenLayers 2014]. The  web  page  is  built
using HTML5 and CSS3 standards, separating the
map  environment  and  moot2  user  interface.  The
user  interface  is  built  using  the  jQuery  and
jQueryUI  version  1.8  JavaScript  libraries,  which
allow  us  to  create  the  graphical  user  interface
(GUI),  as  well  as  the  background  connection
between  the  GUI  and  the  web  map  environment
[jQuery 2014].

OpenLayers  is  an  open-source  JavaScript  web
mapping library that provides an extensive API with
which geographic data can be visualized. Some 30
layer types can be displayed using the OpenLayers
API,  including  popular  base  map  WMSs  such  as
Google Maps, OpenStreetMap and GeoIQ Acetate,
as  well  as  any  other  OGC-compliant  WMS  layers
such as those served by our MapServer instance. The
moot2  tool  utilizes  OpenLayers  to  display  these
WMS  layers  along  with  base  map  layers  from
Google Maps, CloudMade or geoIQ, which provide
map pan and zoom controls, track cursor latitude and
longitude, and offer a layer switcher.

Each WMS layer from MapServer is added to
OpenLayers as a separate JavaScript object that can
be accessed with the OpenLayers API. All but the
MAP file name in the OpenLayers WMS layer con-
figurations are the same across all six moot2 layers.
The  JavaScript  code  that  defines  the  OpenLayers
layer object in moot2 for the railroads WMS layer
from MapServer is as follows:

hii_5 = new OpenLayers.Layer.MapServer(

"Railroads",
"../../fcgi-bin/mapserv.exe",

// Layer name
{  // Base URL for MapServer CGI

map:'C:/ms4w/Apache/htdocs/moot2/hii_railroads.map'

}, {

// Key/value pair for GetMap query string

isBaseLayer:false,

// List of additional options for layer

});

transparent:true,
format:"image/png",
alpha:true,
displayInLayerSwitcher:false

});

The above constructor of the Layer object requires
a name, the MapServer CGI executable path, and the
MAP  file  location  as  parameters  in  key/value  pairs.
The  additional  optional  parameters  shown  above  are
needed in the case of moot2. These ensure that all lay-
ers are transparent and utilize alpha blending in the
PNG image format, but are not base layers and not
displayed in the OpenLayers layer switcher control.
The  jQuery  open-source  JavaScript  library
enables the interactions between the GUI and web
map environment. The GUI is based on the jQueryUI
template, which allows moot2 to have an accordion
menu organization, as well as sliders and buttons to
control layer opacity. Custom JavaScript functions
were utilized to implement the user interface sliders
and  buttons.  These  functions  are  implemented  in
the callback methods of the sliders and buttons. In
the  case  of  moot2,  callbacks  fire  asynchronously
with the interaction of GUI elements.

The moot2 client uses jQueryUI slider objects
to  manage  layer  opacities.  For  every  WMS  layer,
there is a slider representing its layer opacity, which is
connected by referencing the OpenLayers JavaScript
object representing the layer. Each slider is initialized
with a range of values between 0 and 100, and using
a step value of 0.1. Each slider also has a callback that
is  triggered  by  every  mouse  move  during  the  slide
event. This enables us to bind a custom function that
sets  the  layer  opacity  of  the  respective  OpenLayers
layer based on the value of the slider. The JavaScript
code defining the jQuery slider that is connected to the
railroads OpenLayers layer is as follows:

$("#five").slider({

animate: "fast",
range: "min",
min: 0,
max: 100,
value: 20,
step: .1,
change: function(event,ui){

// Minimum slider value
// Maximum slider value
// Initial value (20% weight/opacity)
// Slider increment 
// Async. function on change event 
$(this).siblings().text(ui.value);  // Update slider value in GUI 

}, 
slide: function(event, ui)  {
var total = ui.value;
sliders.not(this).each(function( ) {// Calculate sum of all slider values

// Async. function on change event
// Keeps track of total weight 

total += $(this).slider("option", "value"); 

}); 
if (total > availableTotal) { // If sum>100, stop slider movement

return false; 

} 

hii_5.setOpacity(ui.value / 100); // Map layer opacity = slider value
$(this).siblings().text(ui.value); 
}

The  above  code  demonstrates  the  working
implementation of a slider in moot2, including the
previously-outlined  parameters  for  the  minimum,
maximum and step values, as well as the callback
function  that  changes  the  respective  layer  opacity
asynchronously with the slide event. 

99

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

The  slider  values  (i.e.,  layer  opacities)  repre-
sent  the  weights  of  multiple  criteria  in  a  typical
MCDA,  where  the  sum  of  all  weights  cannot
exceed  100%.  Therefore,  moot2  relies  on  the
capacity of the sliders to monitor the sum of opaci-
ties across all sliders, while the user interacts with
them, specifically prohibiting any slider increments
if their sum reaches 100 (i.e., 100% opacity). This
functionality is implemented as the first step in the
callback method of the slide event.

The  moot2  client  also  includes  three  buttons
that can be used to change the sliders to preconfig-
ured distribution of weights: nil, equal weights and
default weights. The nil button changes all sliders
to a value of 0, which changes the layer opacities to
completely  transparent.  The  equal  weights  button
calculates  a  slider  value  that  evenly  distributes
weights  across  all  layers,  in  turn  equalizing  the
layer opacities. The default weights button is pro-
grammatically configured to set the sliders to val-
ues  that  approximate  the  weights  in  the  human
influence  index  of  Sanderson  et  al. [2002],  as
described in the following section. 

Figure  2  shows  the  moot2  GUI  with  the  map
resulting  from  semi-transparent  map  overlay  under
default  weight  settings. Also  visible  are  the  weight
sliders  and  buttons  for  predefined  weight  settings.
The GUI also includes zoom tools to switch between
predefined zoom levels, pan tools to move the user’s
viewpoint,  and  a  list  of  background  layer  options
including OpenStreetMap and Google Maps. 

4. The Human Influence Index
for Ontario

4.1 Case Study Data and Pre-Processing

The human influence index for the province of
Ontario  is  used  as  a  case  study  to  demonstrate  the
visual  map  overlay  procedure  in  moot2,  and  to
explore the varying degrees of human influence across
Ontario as layer weights are adjusted using the sliders
and  buttons.  The  index  replicates  the  global  human
influence index proposed by Sanderson et al. [2002],

Figure 2: The Ontario human influence index shown in the map overlay and opacity tool (moot2). The tool is available at
http://rinnerweb.arts.ryerson.ca/moot2/.

100

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

Table 1: Indicator categories, map expressions and layer opacity values.

to  the  extent  that  corresponding,  more  detailed
datasets  were  available  for  Ontario.  Sanderson  and
colleagues considered one or more variables in each
of  four  groups:  human  population  density,  land
transformation, human access and electrical power
infrastructure.  While  Sanderson  et  al. [2002]
include settlements, agricultural land use and routes
of roads and railways under land transformation, we
separated areal land uses (urban, agriculture) from
the distance-decay effects of linear features (roads,
railways,  navigable  waters)  and  combined  coast-
lines and rivers, which were separated in Sanderson
and colleagues’ study. The Ontario data were avail-
able  from  multiple  sources,  including  Statistics
Canada  (StatsCan),  DMTI  Spatial  Inc.,  Natural
Resources  Canada  (NRCan)  and  the  National
Geophysical  Data  Centre  (NGDC).  The  night  time
lights data is the only layer acquired in raster format.
The  data  were  prepared  for  moot2  using  a
combination  of  tools  included  in  the ArcGIS  soft-
ware package [ESRI 2013] and the GDAL processing
library  [GDAL 2013].  Data  acquired  in  vector  for-
mat were converted to raster format of 1000-metre
resolution  using  the  Feature  to  Raster  tool  in
ArcMap.  Tests  with  resolutions  starting  at  100  m
showed that 1 km x 1 km cell size was the finest res-
olution  that  produced  a  manageable  file  size  for  a
WMS  served  by  our  UMN  MapServer  instance.
Data  that  were  acquired  in  raster  format  were
resampled  to  1000-metre  resolution  using  the
resample tool in ArcMap. The raster data were then
reclassified according to the Sanderson et al. [2002]
Human  Influence  Index  using  the  classify  tool  in
ArcMap.  Columns  1  and  2  in  Table  1  display  the
raster  reclassifications,  such  as  classifying  those
cells in the criterion layer railroads to be a value of
1,  where  distance  from  a  feature  is  within  2  km.
These cell values were used in the definition queries
of  the  respective  MapServer  MAP  files  to  generate
tiles for each WMS image. 

All six raster layers were further processed using
GDAL for performance enhancements for their usage
with MapServer. This included creating internal tiling
and overviews (sometimes referred to as raster pyra-
mids) within each file and re-projecting the raster to
the WGS84 Web  Mercator  projection  (EPSG:3857)
that is employed by most web mapping applications
including  all  moot2  base  layers.  This  allows  the
human  influence  indicators  to  be  overlayed  semi-
transparently  over  the  selected  base  map  layer. The
raster pyramids were created using the gdal_translate
function, which converts the untiled raster data to a
tiled image for all standard image resolutions that can
be requested by the client. The gdaladdo utility was
used  to  build  raster  pyramids  for  levels  ranging

between  2  and  4096  that  are  compressed  using  the
deflate algorithm. Lastly, the gdalwarp utility is used
to  re-project  the  raster  image  to  the  WGS84  Web
Mercator projection. Practical examples of the use of
GDAL for the above processing are shown below:

gdal_translate -co TILED=YES railroads_orig.tif railroads_tiled.tif

gdaladdo --config COMPRESS_OVERVIEW DEFLATE 

railroads_tiled.tif 2 4 8 16 32 64 128 256 512 1024 2048 4096

gdalwarp -t_srs '+proj=merc +datum=WGS84' railroads_tiled.tif 

railroads_tiled_wgs84.tif

Table  1  outlines  the  expressions  used  in  the
MapServer  MAP  file  for  all WMS  layers  in  moot2.
For  WMS  layers  such  as  population  density,  cell
opacity is a function of population density at each cell
location.  The  highest  population  density  values  are
represented  by  full  opaqueness,  while  each  subse-
quent  lower  density  value  group  is  represented
through  increasing  transparency.  The  opacity  values
correspond  to  standardized  scores  assigned  by
Sanderson  et  al. [2002],  which  were  based  on  pub-
lished  research  and  expert  consultation.  MapServer
documents  the  best  method  for  utilizing  multiple
raster  layer  classifications  in  their  documentation
[UMN 2013]. 

4.2 Visual Analysis of the Human Footprint

Using these parameters and the default weights,
the  human  footprint  across  Ontario  shown  in
Figure 2 is characterized by high human influence
in the densely populated south of the province, and
decreasing levels of influence towards the north of
the  province.  More  specifically,  an  area  from  the

101

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

Quebec border in the east and Georgian Bay to the
southwest, and stretching along the north shore of
Lake Huron and north shore of Lake Superior to the
Manitoba border in the west, is subject to a medium
level of human influence. North of approximately
51  N,  the  latitude  of  the  southernmost  point  of
James Bay, human influence is low or inexistent, if
measured using the selected indicators. 

The  configuration  of  varying  opacity  values
across the original WMS is related to the standard-
ization requirement for criterion values in MCDA,
which typically range from 0 to 1. The moot2 tool
replicates the weighted linear combination method
of MCDA whereby the opacity sliders and buttons
control the weighting scheme in combination with
the predefined layer opacities. For example, a 50%
opacity  (weight)  set  in  the  moot2  slider  for  the
population density layer will result in locations of
densities >  9.5  persons/km2 to  be  displayed  as
R,G,B,A=0,0,0,50,  densities  of  between  8.6-9.5
persons/km2 displayed as R,G,B,A = 0,0,0,45, and
so  on. This  is  shown  in  Figure  3  with  a  zoom  on
southern  Ontario,  where  population  density  is

highest  and  starts  to  decline  as  one  moves  away
from the Toronto region. Also visible in this screen-
shot  is  the  layer  information  tab  in  the  accordion
menu of the client GUI.

Figure 4 illustrates a possible stage in an inter-
active data exploration using moot2. The user has
set the roads and railroads layer to 50% weighting,
identifying  the  factors  that  contribute  the  most  to
the human influence index in the medium latitudes
of Ontario. 

5. Discussion and Conclusions

The  moot2  tool  provides  a  platform  for
performing  visual-spatial  MCDA.  In  the  case  of
the human influence index for Ontario, the opaci-
ty  sliders  and  buttons  provide  the  means  to
explore  varying  degrees  of  anthropogenic  influ-
ence across the province. As a multi-criteria tool,
moot2  aids  the  user  in  adjusting  the  opacities
(weights)  of  the  six  layers  (criteria)  so  that  any
combination  of  layers  does  not  exceed  a  sum  of

Figure 3: The population density indicator in moot2 shown with 50% weight.

102

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

100%  opacity.  The  tool  was  not  designed  to  be  a
decision-making tool but rather a means to frame a
discussion.  It  supports  exploratory  map  overlay  of
multiple layers in an online web mapping environ-
ment, where ad-hoc scenario-testing can take place.
Based  on  anecdotal  feedback  received  from
users of the current version, several improvements
to  the  moot2  user  interface  are  planned.  These
include  the  ability  to  specify  exact  weights  using
keyboard  input  in  addition  to  the  sliders,  and  to
provide the option of not displaying a background
layer.  We  are  also  planning  to  make  the  code
available for others to develop instances of the tool
with different indicator layers. Other improvements
concern the explanation of the indicator categories
and  opacities  within  each  layer,  essentially  calling
for a map legend, as well as additional documenta-
tion  of  the  human  influence  index  such  as  layer
selection,  references  and  potential  uses.  Much  of
this information is included in this paper. 

This implementation of moot2 requires that the
data  are  stored  on  a  server  and  made  available
through  WMS  to  the  client.  The  Ontario  human

footprint case study serves as an illustrative exam-
ple,  although  it  uses  layers  from  a  single  WMS
source. In a realistic setting, the layers representing
different influence indicators, or more broadly, dif-
ferent decision criteria, would possibly be accessed
from different servers. As part of a geospatial data
infrastructure,  such  layers  would  be  held  in  an
authoritative database and map images served upon
request from the moot2 client. However, this paper
also  describes  the  technical  requirements  on  such
distributed data sources. For example, layers would
have to be provided with a predefined representa-
tion of influence or suitability through one or more
opacity values. Alternately, the authoritative WMS
would  need  to  be  parameterized  so  that  user-
defined map expressions could be processed.

Presently, moot2 is deployed with MapServer
querying  the  raster  datasets  upon  each  WMS  tile
request  from  the  client.  In  order  to  facilitate  the
usage  of  higher  precision  data  without  impacting
the performance of MapServer, a pre-seeded cache
of tile images for the WMS could be created using
the  TileCache  software  for  MapServer.  Clients

Figure 4: The Ontario human influence with roads and railroads layers at 50% weighting.

103

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

would  then  request  these  cached  tiles  instead  of
tiles from MapServer, which are generated on-the-
fly for each request but not saved for future use. 

The  use  of  the  WMS  specification  and
MapServer  software  allows  for  time-enabled
human influence indicators. For example, indicator
data from several decades apart could be provided
to  represent  the  change  of  the  human  influence
index  in  Ontario  over  time.  However,  such  an
approach  entails  conceptual  difficulties  relating
to the comparability of indicators over time. Young et
al. [2010]  discussed  issues  with  changes  in  census
geography and standardization of criteria (indicators).
Specifically, Young et al. [2010] propose a “joint stan-
dardization,” where criteria are standardized using the
combined  value  range  across  all  time  periods.  This
approach  will  support  comparison  of  composite
indices over time, under the condition that reference
geographies  and  variable  definitions  remain  consis-
tent. A recent study by Heinrich [2013] compares this
approach with one that standardizes each time period
separately,  thereby  affecting  the  comparability  of
index values yet better supporting the visual analy-
sis of spatial patterns at each separate time. 

The visual map overlay architecture of moot2
does not imply significant client- or server-side cal-
culations.  An  alternative  approach  would  support
the  storage  of  raster  data  as  array  objects  in  the
client and performing the computations in the client
itself. However, we expect that this approach will
not  scale  well  with  the  number  of  layers  and  with
raster resolutions. Alternatively, web-based computa-
tional map overlay can be developed with server-side
processing by storing data in a database and allowing
the client to perform queries to extract the map over-
lay result. In an interoperable geoprocessing environ-
ment,  the  OpenGIS  Web  Coverage  Service  (WCS)
specification would allow for access to remote raster
datasets. In addition, the implementation and configu-
ration of distributed computational overlays, as envi-
sioned  by  Bernard  et  al. [2003]  and  Holzmeier  and
Ostländer [2005],  could  be  achieved  using  the Web
Coverage Processing Service (WCPS) standard. This
approach would also facilitate client-based analytical
tools  to  complement  the  visual  analysis  proposed
here. However, the amount of network traffic would
increase,  compensating  for  the  lack  of  scalability  in
the client-side processing approach.

Acknowledgements

This article was revised and expanded from a
paper included in the proceedings of the Joint 2013
Canadian Institute of Geomatics Annual Conference
International  Conference  on  Earth
and  4th 
Observation  for  Global  Changes  (EOGC’2013).

Questions and suggestions from the conference audi-
ence as well as helpful comments by two anonymous
reviewers  are  gratefully  acknowledged.  This
research  was  partially  funded  by  the  Natural
Sciences  and  Engineering  Research  Council  of
Canada, and by the Ontario Work Study Program. 

References

Andrienko, N. and G. Andrienko. 2002. Interactive visu-
al tools for spatial multicriteria decision making. In:
M.  De  Marsico,  S.  Levialdi,  E.  Panizzi  (Eds.):
Proceedings  of 
the  Working  Conference  on
Advanced Visual Interfaces AVI 2002, Trento, Italy.
May 22-24, 2002. ACM Press. 129-132.

Andrienko, G., N. Andrienko, P. Jankowski, M.-J. Kraak,
D.  Keim,  A.  MacEachren  and  S.  Wrobel.  2007.
Geovisual analytics for spatial decision support; set-
ting  the  research  agenda.  International  Journal  of
Geographical Information Science. 21(8): 839-857.
Bernard,  L.,  C.  Rinner,  N.  Ostländer.  2003.  Impact
assessment for the Barents Sea Region—a geodata
infrastructure  approach.  Proceedings  of  the  6th
AGILE  Conference,  Lyon,  France.  April  24-26,
2003. 653-661. 

Bryan,  B.A.  and  N.D.  Crossman.  2008.  Systematic
regional  planning  for  multiple  objective  natural
resource  management.  Journal  of  Environmental
Management. 88(4): 1175–1189.

Carver, S.J., A. Comber, R. McMorran and S. Nutter. 2010.
Landscape and Urban Planning. 104(3-4): 395-409. 
Clarke, K. 2001. Getting Started With Geographic Information

Systems. 3rd edition, Prentice Hall. 

Eastman, J.R., W. Jin, P.A.K. Kyem and J. Toledano. 1995.
Raster procedures for multi-criteria/multi-objective deci-
sions.  Photogrammetric  Engineering  and  remote
Sensing. 61(5): 539-547.

Environmental Systems Research Institute, Inc. (ESRI). 2013.
Mapping  and  analysis  for  understanding  our  world.
ArcGIS  product  page  [viewed  15  November  2013].
Available from: http://www.esri.com/software/arcgis 
Geospatial Data Abstraction Library (GDAL). 2013. GDAL -
Geospatial data abstraction library. Homepage [viewed
from:
2013]. 
15 
http://www.gdal.org/ 

November 

Available 

Greene, R., J.E. Luther, R. Devillers and B. Eddy. 2010. An
approach  to  GIS-based  multiple  criteria  decision
analysis  that  integrates  exploration  and  evaluation
phases:  case  study  in  a  forest-dominated  landscape.
Forest Ecology and Management. 260(12): 2102-2114. 
Heinrich,  K.  2013.  “Normalization  and  spatio-temporal
standardization  in  multi-criteria  analysis:  a  case
study  of  Wellbeing  Toronto.”  Unpublished  major
research paper, Master of Spatial Analysis program,
Ryerson University, Toronto, Canada. 

Holzmeier, R. and N. Ostländer. 2005. Map-algebra goes
online: introducing the WMAS. In I. Simonis (ed.):
Sensors  and  Geographic  Networks,  GI-Days,
Münster, Germany. 22-24 May 2005. 85-97. 

104

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.G   E   O   M   A   T   I   C   A

Jankowski,  P.,  N.  Andrienko  and  G.  Andrienko.  2001.
Map-centered exploratory approach to multiple cri-
teria spatial decision making. International Journal
Geographical Information Science. 15(2): 101-127.
jQuery. (2014). “What is jQuery.” [viewed 1 April 2014].

Available from: http://jquery.com/ 

Malczewski,  J.  1999.  GIS  and  Multicriteria  Decision

Analysis. New York: Wiley and Sons. 

Malczewski, J. 2006. GIS-based multicriteria decision analy-
sis: a survey of the literature. International Journal of
Geographical Information Science. 20(7): 703-726.
Open  Geospatial  Consortium  (OGC).  2006.  OpenGIS
Web map server implementation specification, ver-
sion 1.3.0. doi: OGC 06-042

OpenLayers.  2014.  OpenLayers:  free  maps  for  the  Web
[viewed 1 April 2014]. Available from: http://openlay-
ers.org/ 

Rinner, C. 2003. Web-based spatial decision support: sta-
tus and research directions. Journal of Geographic
Information and Decision Analysis. 7(1): 14-31. 
Rinner, C. 2007. A geographic visualization approach to
multi-criteria  evaluation  of  urban  quality  of  life.
International Journal of Geographical  Information
Science. 21(8): 907-919.

Rinner, C. and M. Düren. 2011. Design with Nature 2.0–a
geodata  infrastructure  approach  to  map  overlay.  In:
A.  Schwering,  E.  Pebeszma,  K.  Behncke  (eds.):
Geoinformatik 2011—Geochange. ifgiPrints No. 41,
Akademische  Verlagsgesellschaft,  Heidelberg,
Germany. 21-28. 

Sanderson,  E.W.,  M.  Jaiteh,  M.A.  Levy,  K.H.  Redford,
A.V.  Wannebo  and  G.  Woolmer.  2002.  The  human
footprint and the last of the wild. BioScience. 52(10):
891-904.

Thomas, J.J. and K.A. Cook (editors). 2005. Illuminating
the  path. The  research  and  development  agenda  for
visual analytics. IEEE Computer Society [viewed 28
from:
March 
http://vis.pnnl.gov/pdf/RD_Agenda_VisualAnalytics.pdf 
Tomlin, C.D. 1990. Geographic information systems and

Available 

2014]. 

cartographic modelling. Prentice Hall.

University  of  Minnesota  (UMN)  2013. An  Introduction
to  MapServer  [viewed  15  November  2013].
Available from: http://mapserver.org/introduction.html

Young, J., N. Ashton and C. Rinner, 2010. Spatio-tempo-
ral  multi-criteria  analysis—conceptual  challenges
and application to health service planning. Extended
abstract  presented  at  the  workshop:  Geospatial
Visual  Analytics:  Focus  on  Time.  13th  AGILE
International  Conference 
on  Geographic
Information Science, Portugal. 10-11 May 2010.

Authors

Michael  Markieta is  a  Master  of  Spatial Analysis
(MSA) candidate at Ryerson University. He is also
working  as  a  free-lance  GIS  consultant  for  the
Neptis  Foundation  and  holds  a  Mitacs Accelerate
internship with Esri Canada. On his transportation
planning intern and consultant positions with Arup,
he  designed  a  global  flight  path  map,  which  went
viral in early 2013. Michael’s research as a BA in
Geographic  Analysis  graduate  from  Ryerson
includes  the  development  of  the  moot2  tool
described  in  this  paper,  and  a  human  influence
index for Ontario using the novel locally weighted
linear  combination  technique.  His  beginning
Master’s research deals with the analytic-delibera-
tive approach to spatial decision support. 

Dr.  Claus  Rinner is  an  associate  professor  and
program director of the Master of Spatial Analysis
(MSA)  in  the  Department  of  Geography  at
Ryerson University. His research aims to improve
geographic  visualization,  participatory  mapping,
and spatial decision support tools within geographic
information  systems.  His  two  major  research
interests  are  spatial  multi-criteria  decision
analysis, reflected in this paper, and argumentation
mapping  as a  contribution  to  the  participatory
geospatial  Web.  Applications  of  Claus’  research
span the spectrum of public health, social policy,
regional planning, and environmental studies. q

105

Geomatica 2014.68:95-105.Downloaded from www.nrcresearchpress.com by UNIVERSITY OF OTAGO LIBRARY on 08/31/19. For personal use only.