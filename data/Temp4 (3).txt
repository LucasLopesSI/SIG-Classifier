RESEARCH ARTICLE

1

Wave measurements with a modified HydroBall®
buoy using different GNSS processing strategies

Benoit Crépeau Gendron, Mohamed Ali Chouaer, Rock Santerre, Mathieu Rondeau,
and Nicolas Seube

Abstract: One of the CIDCO’s (The Interdisciplinary Center for the Development of Ocean
Mapping) HydroBall® GNSS buoys has been specifically adapted to evaluate its potential
for wave measurement at centimeter accuracy level. Multiple GNSS processing strategies
were tested, namely PPK (Post-Processed Kinematic), PPP (Precise Point Positioning), and
TRP (Time Relative Positioning). Experiments were carried out in a hydraulic flume where
waves of different amplitudes and periods were generated in a controlled environment.
The wave heights obtained by the various GNSS solutions were compared with ultrasonic
gauge measurements placed along the flume. The best results were obtained with the PPK
and TRP solutions with root mean squared (RMS) values of 2 cm (on average). The main
advantages of the TRP solution are that it does not require any reference station nearby
(contrary to PPK) or precise ephemerides (required by PPP). A sinusoidal regression compari-
son of the wave height time series allowed determination of the wave period and amplitude
with mean errors of 0.06 s and 0.8 cm, respectively.
Key words: GNSS buoy, wave measurements, PPK, PPP and Time Relative Positioning comparison.

Résumé : L’une des bouées GNSS HydroBall® du CIDCO (Centre Interdisciplinaire de
Développement en Cartographie des Océans) a été spécialement adaptée dans le but
d’évaluer son potentiel pour mesurer les vagues à un niveau de précision centimétrique.
Diverses stratégies de traitement GNSS ont été testées, nommément le PPK (positionne-
ment cinématique post-traité), le PPP (Positionnement Ponctuel Précis) et le PRT
(Positionnement Relatif Temporel). Des expériences ont été effectuées dans un canal
hydraulique où des vagues de différentes amplitudes et périodes étaient générées dans un
environnement contrôlé. Les hauteurs de vagues mesurées par les diverses solutions GNSS
ont été comparées aux mesures de jauges ultrasons disposées le long du canal. Les meilleurs
résultats ont été obtenus avec les solutions PPK et PRT avec des erreurs moyennes quadra-
tiques (EMQ) de 2 centimètres (en moyenne). Les principaux avantages de la solution
PRT étant qu’elle ne requiert aucune station de référence à proximité comme en PPK,
ni d’éphémérides précises comme pour les solutions PPP. Une modélisation par régression
sinusoïdale des séries temporelles des hauteurs de vagues a permis de déterminer
la période et l’amplitude des vagues avec des erreurs moyennes de 0.06 sec et de 0.8 cm,
respectivement. [Traduit par la Rédaction]
Mots-clés : bouée GNSS, mesure des vagues, comparaison entre le PPK, le PPP et le Positionnement
Relatif Temporel.

Received 22 October 2018. Accepted 15 April 2019.

B.C. Gendron, M.A. Chouaer, and R. Santerre. Department of Geomatics Sciences, Laval University, Québec,
QC G1V 0A6, Canada.
M. Rondeau and N. Seube. CIDCO, Rimouski, Québec, QC G5L 3A1, Canada.
Corresponding author: Benoit Crépeau Gendron (email: benoitgendron@hotmail.com).
Copyright remains with the author(s) or their institution(s). Permission for reuse (free in most cases) can be obtained from
RightsLink.

Geomat. 73: 1–14 (2019) dx.doi.org/10.1139/geomat-2018-0021

Published at www.nrcresearchpress.com/geomat on 26 June 2019.

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.2

1. Introduction

Geomat. Vol. 73, 2019

Accurate wave measurement is crucial in a wide range of environmental studies related
to bank erosion and its potential impacts to properties and riparian roads. It is also useful
in the analysis of future coastal development sites, offshore constructions, new ports and
marinas, and in the context of fish farming and mariculture. Wave information is also
important to nautical sports fellows and even for professional surfing competitions, as an
example.

Wave measurement typically involves surface buoys (including GNSS buoys), Doppler
acoustic current profilers (ADCP), and synthetic aperture radars (Pandian et al. 2010).
We focus on GNSS buoys which are easily accessible and relatively inexpensive. Several
companies and research centers have developed such GNSS buoys to measure waves such
as Datawell (de Vries et al. 2003) and CIDCO (The Interdisciplinary Center for the
Development of Ocean Mapping) (Rondeau et al. 2016). Other GNSS buoys have been
developed for altimetry purposes (Watson 2005; André et al. 2013; Fund et al. 2013) to name
just a few of their uses. The rational of measuring waves using GNSS buoys is strengthened
by the capabilities of such instruments to measure two phenomena (waves and tides) with
one instrument.

Several publications on wave measurement using GNSS observations have been
published by different research groups such as de Vries et al. (2003) who present Datawell
GPS wave buoys, which describe the motion of the GPS antenna using buoy speed
computed from Doppler-shifted frequency. Doong et al. (2011) also present the use of GPS
output velocity signals to calculate wave parameters. Joodaki et al. (2013) show the
application of high-pass filtering to GPS data in conjunction with directional wave spectral
theory to enhance the accuracy of estimated wave parameters. Herbers et al. (2012) present
the capabilities of several GPS sensors mounted on surface-following buoys with field
observations in wind–sea and swell conditions off the California coast. Finally, Patra and
Jena (2014) compare the performance of Datawell’s accelerometer and GPS buoy.

Different methodologies and algorithms for processing GNSS observations make it
possible to achieve centimeter level of accuracy, even in kinematic mode, namely PPK
(Post-Processed Kinematic), PPP (Precise Point Positioning), and TRP (Time Relative
Positioning). Those three approaches will be tested and compared, using the CIDCO’s modi-
fied HydroBall® GNSS buoy, to quantify their accuracies in measuring waves of controlled
amplitude and period generated in a hydraulic flume.

The following sections present: (i) the comparison of different GNSS methodologies
to achieve centimetric accuracies, (ii) the modifications made to the HydroBall® to adapt
and optimize it for wave measurements, (iii) the description of the tests carried out in the
hydraulic flume, and (iv) the analysis of the results obtained.

2. Comparison of GNSS methodologies

The Global Navigation Satellite Systems (GNSS) mainly include signals from American
(GPS), Russian (GLONASS), European (Galileo), and Chinese (BeiDou) satellites (UNAVCO
2019). Among GNSS methodologies, relative positioning is best-known, exploiting phase
measurements collected by at least two geodetic receivers, one acting as a reference station
(base) nearby the observation site. The more recent technique PPP uses single-receiver
phase and pseudorange measurements in an absolute mode of positioning, thus requiring
precise satellite ephemerides and clock corrections as calculated by the International
GNSS Service (IGS) (Kouba 2015). This technique is increasingly used for diverse types of
surveys (Fund et al. 2013; Banville 2016). However, PPP requires several tens of minutes to
converge to a centimetric level of accuracy. To reduce this convergence period and to

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.Gendron et al.

3

Figure 1. Different strategies for GNSS observation processing. [Colour online.]

improve PPP accuracy, phase Ambiguity Resolution (AR) algorithms have been developed
and adapted to PPP (Ge et al. 2008; Geng et al. 2010a, 2010b; Laurichesse 2015; Banville
2016). Another technique named TRP allows the determination of three-dimensional
displacements (that is position variation, see Fig. 1) of a receiver using temporal variation
of phase measurements between consecutive observation epochs without the needs of
a nearby reference station nor precise ephemerides (Michaud and Santerre 2001; Balard
et al. 2006; Traugott et al. 2008; Chouaer 2017). Its main disadvantage is that GNSS errors
vary over time, which affects the calculated displacements. Nevertheless, for up to 20 min
intervals, the error impact behaves in a linear manner (Balard et al. 2006) and can be consid-
ered by estimating this drift (i.e., by removing the slope presents in the time series displace-
ments obtained from TRP). For real-time operation of TRP and to manage the error
accumulation over time, we suggest restarting the accumulation of the antenna displace-
ment every 1 min for a maximal duration of 20 min for each time series. In this manner,
20 parallel time series are produced, but the beginning of each time series would not be
significantly affected by the time drift of the TRP solutions.

The observation equation of TRP is

(1)

δφ

= δρ

+ cδdt

12

− cδdT

12

− δdion12

+ δdtrop12

12

12

+ δε

where δφ12 is the phase difference between two epochs 1 and 2, δρ12 is the range difference
between the two epochs, δdt12 and δdT12 are, respectively, the satellite and receiver clock’s
error variation, δdion12 and δdtrop12 are, respectively, the ionospheric and tropospheric
error variation, ε is the phase observation noise, and c is the speed of light in vacuum.

Chouaer (2017) have adapted the TRP method, initially developed to measure structural
health monitoring and wave measurements to detect displacements, over a short time
interval, with an accuracy better than 1 cm for the horizontal component and 2 cm for
the vertical component, using exclusively broadcast ephemeris. His work is mainly inspired
by Michaud and Santerre (2001) and Balard et al. (2006). Another approach comparable with
TRP has been developed by Colosimo (2012). In this case, Doppler observations are used to
determine the instantaneous velocity of the GNSS antenna, and then, the antenna displace-
ment is calculated with the inferred velocity. The TRP method uses phase differences to
directly calculate the GNSS antenna displacements.

Figure 1 illustrates these three concepts, and Table 1 summarizes the main distinctions
between them. The software used for GNSS observation processing is also found in
Table 1.

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.4

Geomat. Vol. 73, 2019

Table 1. Comparison of technologies PPK, PPP, and TRP.

Methodology

PPK

PPP

TRP

Geodetic receiver
Observations
GNSS errors

At least 2
ΔΦ1 and ΔΦ2
Eliminated between receivers,

if common

Broadcast
Broadcast

Φ3 (D > 15 km)
Tropospheric model
Fixed (D < 15 km)
ΔX, ΔY, ΔZ, ΔdT

Satellite orbits
Satellite clock
corrections

Ionosphere
Troposphere
Ambiguities
Estimated

parameters
Disadvantages

Only 1
P3 and Φ3
Must be all modeled

at the source

Precise (IGS)
Precise (IGS)

P3 and Φ3
dtrz estimated at 1 h
a
Estimated (float)
X, Y, Z, dT, dtrz

Position error increases by

approximately 1 ppm (depending
on distance from the base)

Convergence time of

several tens of minutes
for centimeter accuracyb

CSRS-PPP, NRCan (2017)

Software used

TBC, Trimble (2012)

Only 1
δΦ1
Eliminated between

epochs, if constant

Broadcast
Broadcast

Φ1 (Φ3 option)
Hopfield model
Eliminated
δX, δY, δZ, δdT

Temporal linear drift
over short intervals
(<20 min)
CRG-U. Laval,

Chouaer (2017)

a
Fixed with PPP-AR solution (with satellite phase bias calibration).
b
PPP-AR reduces this convergence time and improve PPP accuracy.

The symbols ΔΦ1, ΔΦ2, P3, Φ3, and δΦ1 denote the difference between receivers (Δ),
phase (Φ), or pseudorange (P) measurements on L1 and L2 frequencies. The combination
without ionospheric effect is denoted L3. The temporal variation of phase (or coordinate)
measurements is represented by the δ symbol. X, Y, Z, dT, dtrz denote, respectively, the
three coordinates, the receiver clock error, and the zenith (z) tropospheric delay error.

3. Specifications and HydroBall

modifications

®

The CIDCO has developed a bathymetric buoy named HydroBall®. In its original version,
the HydroBall® includes the following components (Rondeau et al. 2016): a single-beam
echosounder for bathymetry, a GNSS receiver and antenna for positioning, an attitude
sensor to reduce soundings to vertical, and a processor and datalogger module with
Bluetooth capabilities. Its spherical shell has a diameter of 40 cm for a weight of about
13 kg (including batteries) and an autonomy of 24 h. To date, the HydroBall® buoy has been
used for diverse types of field work such as riverbed transect survey, beach profiling and
bathymetry of rivers, and hydroelectrical reservoirs (Rondeau et al. 2016).

The HydroBall® buoy has been adapted for the specific purposes of measuring waves
(Gendron 2017). First, the antenna was lowered to be close to the buoy’s waterline and
secured to a gimballed platform (Fig. 2). This configuration makes it possible to keep the
antenna horizontal even if the hull of the buoy rolls and pitches, providing a better continu-
ity in the reception of GNSS signals from satellites, thus reducing gaps or cycle slips in
phase measurements. In addition, the height of the antenna above the waterline, which is
about 5 cm, remains stable, eliminating the need for an attitude sensor. This attitude sensor
and the echosounder have been removed in this configuration of the HydroBall®.
In the tests described below, the antenna used is the Antcom G5ant-3AT1 model and the
GPS-GLONASS receiver is the Eclipse II P320 model from Hemisphere.

The HydroBall® is usually attached to a small boat or left drifting in open water. For in
situ wave measurement, a specific anchorage system inspired by Girardot (2001), has been
used (see Fig. 4 in the next section). This system consists of a passive buoy anchored to the
seabed by a chain held by a mooring load. It is this passive buoy that absorbs the vertical
force generated by the anchor, leaving the HydroBall® free to follow the movement of the

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.Gendron et al.

5

Figure 2. HydroBall® electronic components and gimballed stabilization of the GNSS antenna. [Colour online.]

waves. The HydroBall® is attached horizontally to the passive buoy by a semi-rigid line of
about 3 m to avoid collisions between the two buoys and to keep them away from each
other thus also limiting obstructions of the GNSS signals.

4. Tests description

The LHE (Laboratoire Hydraulique Environnemental) of the INRS (Institut National de la
Recherche Scientifique) owns a multifunctional large-scale wave flume (INRS 2017). Located
in the Québec Metro High Tech Park, the flume is 120 m long and has a depth and a width of
5 m. It is the largest of its kind in North America. The wave generator can create several
types of waves, with periods varying from 1.5 to 12 s and wave amplitudes that can reach
up to 75 cm. We chose to generate sinusoidal form waves. In our tests, three ultrasonic
gauges, spaced 5 m apart, were placed along the flume near the HydroBall® anchor spot
(see Fig. 3). This device developed by the company General Acoustics include a controller
module (model UltraLab ULS Advance) and three gauges (model USS 10). It has a precision
of 1 mm and recorded the water level every 0.1 s (General Acoustics 2016).

In our tests, sinusoidal waves of varying periods (2, 3, and 4 s) and amplitudes (5, 10, and
20 cm) were generated. Sinusoidal waves are easier to be interpolated spatially than other
types of waves. Spatial interpolation was required because the HydroBall® was not always
in front of one of the three ultrasonic gauges. The spatial interpolation model is described
in Gendron (2017). Knowing the location of the ultrasonic gauges positioned by GNSS using
Trimble Can-Net (RTK using Virtual Reference Network) (Can-Net 2016) and estimating the
wave’s speed as determined by wave’s crest travelling time between the ultrasonic gauges
allowed to us to spatially interpolate gauge measurements at the HydroBall’s position.
In this way, the phase shift between the GNSS buoy and the gauge locations is properly
considered. Periods of 2, 3, and 4 s were chosen because they typically correspond to the
smallest wave periods encountered in the St. Lawrence Estuary (Gagnon 2008). Slight
amplitudes have been selected to demonstrate the resolution of GNSS phase measurements
to detect small vertical displacements, even in kinematic mode. A total of nine tests with
waves of sinusoidal forms were performed, the last two tests being conducted without

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.6

Geomat. Vol. 73, 2019

Figure 3.

INRS hydraulic wave flume. Map data: Google, DigitalGlobe. [Colour online.]

Figure 4. Wave measurement in INRS’s hydraulic flume using the HydroBall®. [Colour online.]

enabling the gimballed platform of the GNSS antenna. For periods of 3 and 4 s, test results
are presented in the next section. However, the two tests with a 2 s wave period did not pro-
vide the sought centimeter level of accuracy. In fact, the water displacement generated by
the waves with a 2 s period quickly generated in the enclosed flume abrupt and shaky
movements of the buoy. Consequently, GNSS observations were lost about 25% of the time,
which degrades GNSS solutions making phase ambiguity resolution or convergence
solutions difficult or impossible. In comparison, for the wave periods of 3 and 4 s, almost
no signal loss happened (only 2%, in the worst case). Recommendations are presented in
the last section of the article to improve the performance of HydroBall® in such a situation.
Figure 4 shows the HydroBall’s setup inside the wave flume (disposition of the anchor
buoy and the ultrasonic gauges). A video taken during one of the tests can be found on
YouTube (INRS 2016). The average water level inside the flume during the experiments
was 3.5 m. As an example, this implies that for 20 cm amplitude waves, the height of the
basin wall would vary between 1.3 and 1.7 m, from the point of view of the HydroBall®.
Figure 5 illustrates an example of the GPS satellites visibility (green circles) and GLONASS
(red circles) at the beginning of the afternoon of 9 September 2016 (the day of the tests at
the INRS flume). The parts of the sky mostly obstructed by the basin walls are in the trans-
versal direction of the flume, which is oriented on the NW–SE direction. Typically, the basin
walls obstructed about one-third (33%) of available satellites at that time. On average,
11 satellites have been tracked in the flume on a total of 16 available satellites.

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.Gendron et al.

7

Figure 5. Visibility of the GPS satellites (green circles) and GLONASS (red circles) for heights of the basin walls of
1.3 m (left), 0 m (center), and 1.7 m (right). Source: Trimble 2017. [Colour online.]

Experiments in an environment, without obstructions created by the flume walls, would
have been more favorable for GNSS signal acquisition. A GNSS reference station (for PPK
solutions) was placed about 60 m from the flume (Fig. 3). At the reference station,
a Trimble R8 GNSS geodetic receiver observed GPS and GLONASS satellites at a sampling
rate of 10 Hz, which is the same rate used in the HydroBall’s receiver. An elevation mask
of 10° has been used in all GNSS solutions presented in this article.

5. Comparison and analysis of results

Seven tests were performed with wave periods of 3 and 4 s. During the first five tests, the
gimballed antenna platform was active, and during tests 6 and 7, it was locked. Table 2 is a
comparison of the different GNSS solutions compared with the measurements of gauges
2 and 3 (spatially interpolated at each time).

The first column of Table 2 contains the test number and the number of values
compared for each test. Columns 2 and 3 give the nominal values of the period (P) and
amplitude (A) of the generated waves in the flume (the actual produced values are reported
in Tables 3 and 4). Columns 4–8 contain the RMS of the differences between the wave
heights measured by the gauges (interpolated) and the value calculated at each epoch
(every 0.1 s) according to PPK, TRP-L1, TRP-L3, PPP, and PPP-AR solutions, respectively. The
correlation coefficient (corr) acts as an indicator of coherence between the time series so
compared. The last column contains the comparison between GNSS solutions PPK and
TRP-L1, which will be analyzed later. The minimum, average, and maximum values of the
RMS and the correlation coefficients of each comparison (for the five tests with the
gimballed stabilization) are shown at the bottom of Table 2. As already mentioned, two
other tests were carried out with 2 s periods, but none of the proposed GNSS solutions
(not even PPK) yielded acceptable results (in fact, decimeter rather than centimeter
accuracy were obtained), due to the harsh movements of the buoy through the waves in
the flume, which make difficult and even impossible the convergence of the solution or
the GNSS phase ambiguity resolution.

The PPK and TRP-L1 solutions give comparable results of about 2 cm (average value) for
the RMS and 96% for the correlation coefficients. These accuracies obtained are compatible
with the vertical accuracies of RTK (Real-Time Kinematic) which are typically 2 cm + 1 ppm
(RMS). The results deteriorated when gimballed stabilization was locked (not used) and
when the wave amplitude was 20 cm (test 7), with a RMS of 4 cm.

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.8

Geomat. Vol. 73, 2019

Table 2. Comparison of GNSS solutions vs. (interpolated) gauge values.

RMS (cm), corr (%)

PPK vs.
gauges
±1.2, 99.6
±2.1, 94.9
±3.4, 94.9
±1.9, 95.5
±3.4, 96.8
±2.3, 94.6
±4.0, 96.6

TRP-L1 vs.
gauges
±1.5, 99.4
±1.5, 95.9
±3.1, 94.5
±2.1, 94.6
±2.3, 98.6
±2.2, 94.9
±4.3, 95.2

P (s)

A (cm)

4
3
3
4
4
4
4

20
5
10
10
20
10
20

TRP-L3 vs.
gauges
±4.4, 94.4
±3.5, 91.2
±4.2, 89.8
±3.5, 83.5
±3.8, 96.1
±2.4, 94.4
±4.9, 94.3

PPP vs.
gauges
±3.8, 95.8
±5.7, 90.1
±4.7, 90.6
±4.1, 77.8
±4.7, 93.9
±2.7, 93.2
±3.4, 97.2

PPP-AR vs.
gauges
±3.4, 96.6
±3.9, 92.5
±4.4, 91.1
±4.8, 71.5
±4.0, 95.7
±2.3, 95.0
±3.4, 97.4

PPK vs.
TRP-L1
±0.9, 99.8
±1.1, 98.9
±1.5, 99.5
±1.0, 98.8
±2.6, 98.1
±0.6, 99.7
±0.9, 99.8

±1.2
±2.4
±3.4

99.6
96.3
94.9

±1.5
±2.1
±3.1

99.4
96.6
94.5

±3.5
±3.9
±4.4

96.1
91.0
83.5

±3.8
±4.6
±5.7

95.8
89.6
77.8

±3.4
±4.1
±4.8

96.6
89.5
71.5

±0.6
±1.2
±2.6

99.8
99.2
98.1

Test
(epoch)

1 (157)
2 (76)
3 (177)
4 (192)
5 (161)
6 (170)
7 (151)

RMS (cm)
|Minimum|
|Mean|
|Maximum|

Corr (%)
Minimum
Mean
Maximum

Table 3. Comparison of periods (P) obtained from sinusoidal regressions.

Distance
to G2 (m)

Interpolated
gauges (s)

ΔP PPK −
gauges (s)

Test
(epoch)

1 (157)
2 (76)
3 (177)
4 (192)
5 (161)
6 (170)
7 (151)

P (s)

4
3
3
4
4
4
4

Gauge 2 (s)
4.0 ± 0.01
2.8 ± 0.01
3.0 ± 0.01
3.8 ± 0.02
3.8 ± 0.01
3.8 ± 0.02
4.2 ± 0.01

Gauge 3 (s)
3.9 ± 0.01
2.9 ± 0.02
3.0 ± 0.01
3.8 ± 0.02
3.8 ± 0.02
3.9 ± 0.02
4.1 ± 0.02

2.5
2.2
2.9
0.3
2.4
2.5
1.6

Note: Mean |ΔP| = 0.06 s.

Test
(epoch)

1 (157)
2 (76)
3 (177)
4 (192)
5 (161)
6 (170)
7 (151)

A (cm)

20
5
10
10
20
10
20

Gauge 2 (cm)
17.9 ± 0.3
7.5 ± 0.2
13.2 ± 0.3
9.1 ± 0.3
18.0 ± 0.5
9.2 ± 0.3
17.3 ± 0.4

Gauge 3 (cm)
18.4 ± 0.3
6.5 ± 0.3
13.1 ± 0.3
9.4 ± 0.3
19.1 ± 0.6
9.0 ± 0.4
20.1 ± 0.5

2.5
2.2
2.9
0.3
2.4
2.5
1.6

Note: Mean |ΔA| = 0.8 cm.

4.0
2.8
3.0
3.8
3.8
3.9
4.2

18.2
7.1
13.1
9.1
18.5
9.1
18.2

PPK (s)
4.0 ± 0.01
2.9 ± 0.03
3.0 ± 0.01
3.8 ± 0.02
3.9 ± 0.02
4.0 ± 0.02
4.1 ± 0.02

0.0
0.1
0.0
0.0
0.1
0.1
−0.1

PPK (cm)
18.9 ± 0.3
8.5 ± 0.4
15.2 ± 0.3
9.3 ± 0.2
18.1 ± 0.5
9.2 ± 0.3
18.7 ± 0.4

0.7
1.4
2.1
0.2
−0.4
0.1
0.5

Table 4. Comparison of amplitudes (A) obtained from sinusoidal regressions.

Distance
to G2 (m)

Interpolated
gauges (cm)

ΔA PPK −
gauges (cm)

The other three GNSS solutions (TRP-L3, PPP, and PPP-AR) give average values for RMS of
about 4 cm and 90% for the correlation coefficients. Between the two types of PPP solutions,
the PPP-AR solution gives slightly better results than the conventional PPP solution. The
TRP-L3 solution is degraded mainly by the fact that the L3 combination amplifies the noise
by a factor of 3 (Santerre 1991) and that the temporal variation of the ionospheric delay is
small (and the impact is linear) over short periods of time for TRP solutions.

The graphs for test 1 (best result), test 2 (with the smallest wave amplitude), and test 3
(worst result with gimballed platform) are shown in Fig. 6. To reduce the variations in

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.Gendron et al.

9

Figure 6. Wave heights measured by the gauges and HydroBall® buoy using various GNSS solutions for (a) test 1
(18 s), (b) test 2 (8 s), and (c) test 3 (20 s). Pale colour: raw solution; Dark colour: MA solution. [Colour online.]

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.10

Geomat. Vol. 73, 2019

heights generated by GNSS observation’s noise and the effect of multipath, all GNSS
solutions were smoothed with a moving average (MA) using a five values window (i.e., two
values before and two values after the current epoch). For comparison, we superimposed
the raw solution (pale colour) on the MA solution (dark colour) for test 1. The vertical
resolution of these GNSS solutions can be further appreciated in Fig. 6 (center). Indeed,
these GNSS solutions can easily detect waves of only 5 cm in amplitude, even if the determi-
nation of GNSS altitudes is 2–3 times less accurate than the determination of the horizontal
displacements (Santerre 1991). The difference between GNSS vertical displacements and
gauge’s measurements are also plotted in Fig. 7. The RMS values of these differences have
been reported in Table 2.

The ultimate column of Table 2 is the direct comparison of the two best GNSS solutions
(PPK vs. TRP-L1). In this comparison, gauge measurements are not used and no spatial
interpolation is required. The seven tests (with or without stabilization of the antenna)
can all be grouped because even if the antenna rolls or pitches, the GNSS solutions are
not compared with the gauges measurements. It is the same GNSS observations (containing
the same noise and multipath) collected by the HydroBall’s receiver that are processed but
with entirely different algorithms (see Fig. 1 and Table 1). In this case, the average value of
the RMS obtained is 1.2 cm and the average of the correlation coefficients is 99%. These
results demonstrate that the proposed new TRP-L1 solution is fully compatible with the
PPK solution that has been used for decades. Recall that the TRP solution only gives the
displacement of a mobile GNSS antenna. Furthermore, for the PPK solution, the reference
station of the PPK solution was advantageously placed very close (60 m) to the HydroBall®,
which would rarely be the case in real-life wave measurement situations. The impact
of the distance from the reference station increases by approximately 1 cm per 10 km
(a relative error of 1 ppm) (Hemisphere GNSS 2013). The TRP solution (like the PPP) does
not require a reference station and is therefore not restricted by the proximity of a GNSS
reference station.

To determine wave periods and amplitudes, consistent with the sinusoidal wave pattern
that we chose, a sinusoidal regression on the altitude time series has been used. This
approach makes it possible to evaluate four parameters (period, amplitude, vertical offset,
and phase shift) from the time series of a few hundred wave height values. The NLIN
procedure (fits nonlinear regression models) of the SAS (Statistical Analysis System)
software (SAS 2017) was used to estimate these periods and these amplitudes and their
respective precisions. The values are reported in the second-last columns of Tables 3 and 4.
The PPK solution, one of the two optimal solutions (see Table 2), was used for this
analysis. In a real-life situation, the wave pattern will not always have a sinusoidal shape.
In general, Fast Fourier Transform (FFT) could be used to detect the main period, amplitude,
and phase of the compound wave signals.

These values are compared with the sine-wave regression values also applied to the time
series of wave height measurements of gauges 2 and 3 (columns 3 and 4). These values were
spatially interpolated at the position of the HydroBall®, which was between the gauges
2 and 3 (which are 5 m apart). The longitudinal distance of the HydroBall® with respect to
the gauge 2 is given in column 5. Column 6 contains the values of the period (Table 3) and
the amplitude (Table 4) thus spatially interpolated. These values were used as a comparison
with the corresponding values obtained from the PPK solution and reported in the last
column of Tables 3 and 4. The average of the period differences is 0.06 s. This result is
excellent considering that the measurements were made at a rate of 10 Hz, i.e., at a
temporal resolution of 0.1 s. With this sinusoidal regression approach (which uses all the
wave height values to estimate only four parameters), test results with or without the
stabilization of the GNSS antenna shows comparable values. The average difference in

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.Gendron et al.

11

Figure 7. Wave height differences between the gauges and the HydroBall® buoy using various GNSS solutions for
(a) test 1 (18 s), (b) test 2 (8 s), and (c) test 3 (20 s). [Colour online.]

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.12

Geomat. Vol. 73, 2019

amplitude (in absolute value) is 0.8 cm, which is <1 cm. Recall that when the differences in
height were compared between PPK and gauges (Table 2), the average value of the RMS was
2 cm. This improvement (by more than 50%) could be explained by the greater redundancy
of a few hundred observations, which improves the estimation of the four parameters of
the sinusoidal regression, including the amplitude of the waves. Note that there is no
moving average applied to the raw data before estimating the sinusoidal parameters.

6. Conclusions and recommendations

Various GNSS processing strategies (PPK, PPP, and TRP) were compared for wave
measurements using a modified version of the CIDCO GNSS HydroBall®. Tests took place
at the INRS wave flume, where sinusoidal waves of given periods and amplitudes were
generated in a controlled environment. The results of the GNSS solutions were compared
with the wave heights measured independently by ultrasonic gauges. The best results were
obtained from PPK and TRP-L1 solutions when the antenna was gimbal stabilized. In this
case, the average value of the RMS is 2 cm and the correlation coefficient is 96%. When com-
pared with each other, the PPK and the TRP-L1 solutions gave an average height difference
value of 1.2 cm and a correlation coefficient of 99%. The advantage of the TRP solution over
PPK solution is that no nearby GNSS reference station is required. However, the temporal
variation of GNSS errors, which is practically linear for time intervals smaller than about
20 min, must be considered. Recall that the TRP solution, unlike the PPP, does not required
external information like precise IGS ephemerides (Kouba 2015) and that its algorithm is
much simpler and carrier phase ambiguities do not have to be estimated.

Sinusoidal regression modeling on the GNSS time series of wave heights provided the
estimation of wave period and amplitude with mean errors of 0.06 s and 0.8 cm, respec-
tively. These improved results are explained by the fact that over 100 values are used to
estimate only four unknown parameters in the sinusoidal regression.

The above results are from the measurement of waves that had a period of 3–4 s and
amplitudes as small as 5 cm. This last criterion was to confirm the performance of GNSS
to detect small vertical displacements, even if the determination of GNSS’s altitudes is
known to be 2–3 times less accurate than the determination of horizontal components.
None of the GNSS solutions gave satisfactory results (centimeter accuracy) for our tests with
a wave period at 2 s, as the water displacement through the flume generated abrupt and
shaky movements of the buoy, engendering many GNSS signals cuts. Moreover, it should
be noted that the tests were done in a narrow basin and that the antenna was surrounded
by two masking walls, which reduced by one-third the acquisition of the number of GPS
and GLONASS satellites that were available. Experiments in an environment without
obstructions created by the flume walls would have been more favorable for GNSS signal
acquisition. Moreover, the addition of the European Galileo and Chinese BeiDou constella-
tions, as well as the use of a higher sampling rate at 20 Hz (some receivers operate up
to 100 Hz), are options that would favor the determination of waves of short periods.
In addition, for the measurement of shaky waves, the integration of an accelerometer
placed under the gimballed platform of the GNSS antenna could offer an even more robust
solution.

Acknowledgements

We thank our partners in this project, namely Hydro-Québec (Geomatics Group) and
NSERC (R. Santerre’s grants) for their financial support and the INRS for access to their
flume, as well as Multi-Electronics (MTE) for modifications to the electronic components
of the HydroBall®. Thanks also to Guy Montreuil of the Université Laval Metrology
Laboratory for mounting the gimballed antenna platform and for his help during the

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.Gendron et al.

13

planning of the field experiments. Dr. Simon Banville (NRCan) is thanked for the data
processing in PPP-AR mode and Dr. Marc Cocard (U. Laval) for his co-supervision of M.A.
Chouaer’s Master Thesis on the TRP technique.

References
André, G., Martín Míguez, B., Ballu, V., Testut, L., and Wöppelmann, G. 2013. Measuring sea level with

GPS-equipped buoys: a multi-instruments experiment at Aix Island. Int. Hydrogr. Rev. (10): 27–38.

Balard, N., Santerre, R., Cocard, M., and Bourgon, S. 2006. Single GPS receiver time-relative positioning with loop

misclosure corrections. GPS Solutions, 10(1): 56–62. doi:10.1007/s10291-005-0008-2.

Banville, S. 2016. GLONASS ionosphere-free ambiguity resolution for precise point positioning. J. Geod. 90(5):

487–496. doi:10.1007/s00190-016-0888-7.

Can-Net. 2016. Trimble Can-Net network — VRS explained. [Online]. Available from http://www.can-net.ca/

index.php?option=com_content&view=article&id=36&Itemid=230&lang=en.

Chouaer, M.A. 2017. Utilisation du Positionnement Relatif Temporel GNSS pour l’auscultation topographique et la
mesure des vagues. Mémoire de maîtrise, Département des sciences géomatiques, Université Laval, Québec,
QC, Canada. 103 pp.

Colosimo, G. 2012. VADASE variometric approach for displacement analysis stand-alone engine. Ph.D. thesis,

Sapienza University of Rome, Rome, Italy. 190 pp.

de Vries, J.J., Waldron, J., and Cunningham, V. 2003. Field tests of the new Datawell DWR-G GPS wave buoy. Sea

Doong, D.-J., Lee, B.-C., and Kao, C.C. 2011. Wave measurements using GPS velocity signals. Sensors, 11: 1043–1058.

Technol. 44(12): 50–55.

doi:10.3390/s110101043. PMID:22346618.

Fund, F., Perosanz, F., Testut, L., and Loyer, S. 2013. An Integer Precise Point Positioning technique for sea surface

observations using a GPS buoy. Adv. Space Res. 51: 1311–1322. doi:10.1016/j.asr.2012.09.028.

Gagnon, M. 2008. Caractérisation des courants et des vagues dans les principaux sites maricoles du Québec.

Rapport de Biorex inc. à la Société de développement de l’industrie maricole (SODIM). 57 pp.

Ge, M., Gendt, G., Rothacher, M., Shi, C., and Liu, J. 2008. Resolution of GPS carrier-phase ambiguities in Precise

Point Positioning (PPP) with daily observations. J. Geod. 82(7): 389–399. doi:10.1007/s00190-007-0187-4.

Gendron, B.C. 2017. Mesure des marées et des vagues à l’aide d’une bouée GNSS. Mémoire de maîtrise, Département

des sciences géomatiques, Université Laval, Québec, QC, Canada. 121 pp.

General Acoustics. 2016. UltraLab ULS Advanced — Lab Wave Gauge. General Acoustics Datasheet. 2 pp. [Online].

Available from https://www.generalacoustics.com/ultralab-uls-advanced/.

Geng, J., Meng, X., Dodson, A.H., Ge, M., and Teferle, F.N. 2010a. Rapid re-convergences to ambiguity-fixed solutions

in precise point positioning. J. Geod. 84(12): 705–714. doi:10.1007/s00190-010-0404-4.

Geng, J., Meng, X., Dodson, A.H., and Teferle, F.N. 2010b. Integer ambiguity resolution in precise point positioning:

method comparison. J. Geod. 84(9): 569–581. doi:10.1007/s00190-010-0399-x.

Girardot, J.-P. 2001. Mouillages : Techniques de mouillages utilisés en océanographie. Université de Bretagne
Occidentale, Brest, France. [Online]. Available from http://manualzz.com/doc/5016086/mouillages—universit%
C3%A9-de-bretagne-occidentale.

Hemisphere GNSS. 2013. P320 specifications. Eclipse OEM Board Integrator Guide. 74 pp. [Online]. Available from

https://hemispheregnss.com/Resources-Support/Technical-Documentation.

Herbers, T.H.C., Jessen, P.F., Janssen, T.T., Colbert, D.B., and MacMahan, J.H. 2012. Observing ocean surface waves

with GPS-tracked buoys. J. Atmos. Ocean. Technol. 29(7): 944–959. doi:10.1175/JTECH-D-11-00128.1.

INRS. 2016. YouTube video. [Online]. Available from https://youtu.be/6RWVUdnyct0.
INRS. 2017. Environmental Hydraulics Laboratory. [Online]. Available from http://lhe.ete.inrs.ca/en/.
Joodaki, G., Nahavandchi, H., and Cheng, K. 2013. Ocean wave measurement using GPS buoys. J. Geod. Sci. 3(3):

163–172. doi:10.2478/jogs-2013-0023.

Kouba, J. 2015. A guide to using International GNSS Service (IGS) products. International GNSS Service (IGS). 34 pp.
Laurichesse, D. 2015. Carrier-phase ambiguity resolution — handling the biases for improved triple-frequency PPP

Michaud, S., and Santerre, R. 2001. Time-relative positioning with a single civil GPS receiver. GPS Solutions, 5(2):

convergence. GPS World, 26(4): 42–49.

71–77. doi:10.1007/PL00012888.

NRCan. 2017. Natural Resources Canada CSRS-PPP ToolBox. [Online]. Available from http://www.nrcan.gc.ca/

earth-sciences/geomatics/geodetic-reference-systems/tools-applications/10925#ppp.

Pandian, P.K., Osalusi, E., Ruscoe, J.P., Side, J.C., Harris, R.E., Kerr, S.A., and Bullen, C.R. 2010. An overview of
recent technologies on wave and current measurement in coastal and marine applications. J. Oceanogr. Mar.
Sci. 1(1): 1–10.

Patra, S.K., and Jena, B.K. 2014. Inter-comparison of wave measurement by accelerometer and GPS wave buoy in

shallow water off Cuddalore, east coast of India. Indian J. Mar. Sci. 43(1): 45–49.

Rondeau, M., Seube, N., and Le Denuf, J. 2016. Surveying in hostile and non accessible areas with the bathymetric
HydroBall® buoy. Pages 47–56 in B. Zerr, L. Jaulin, V. Creuze, N. Debese, I. Quidu, B. Clement, and
A. Billon-Coat, eds. Quantitative monitoring of the underwater environment. Ocean Engineering and
Oceanography. Vol. 6. Springer, Cham, Switzerland.

Santerre, R. 1991. Impact of GPS satellite sky distribution. Manuscripta Geodaetica, 16(1): 28–53.

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.14

Geomat. Vol. 73, 2019

SAS. 2017. Statistical Analysis System — NLIN nonlinear regression procedure. [Online]. Available from https://

support.sas.com/documentation/cdl/en/statug/63347/HTML/default/viewer.htm#nlin_toc.htm.

Traugott, J., Dell’Omo, G., Vyssotski, A.L., Odijk, D., and Sachs, G. 2008. A time-relative approach for precise
positioning with a miniaturized L1 GPS logger. Proc. 21st International Technical Meeting of the Satellite Division
of The Institute of Navigation (ION GNSS 2008), Savannah, GA, USA, 16–19 September 2008. pp. 1883–1894.

Trimble. 2012. Trimble HD-GNSS processing. Trimble Survey Division White Paper. 13 pp.
Trimble. 2017. Trimble GNSS Planning Online. Trimble Terrasat GmbH, Trimble Inc., Munich, Germany. [Online].

Available from http://www.trimble.com/GNSSPlanningOnline/.

UNAVCO. 2019. What is the difference between GPS and GNSS. [Online]. Available from https://kb.unavco.org/kb/

article/what-is-the-difference-between-gps-and-gnss-167.html [20 Jan. 2019].

Watson, C.S. 2005. Satellite altimeter calibration and validation using GPS buoy technology. Ph.D. thesis, University

of Tasmania, Hobart, Australia. [Online]. Available from http://eprints.utas.edu.au/254/2/02Whole.pdf.

Published by NRC Research Press

Geomatica 2019.73:1-14.Downloaded from www.nrcresearchpress.com by University of Toronto on 01/05/20. For personal use only.