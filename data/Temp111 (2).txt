Geoinformatica
DOI 10.1007/s10707-014-0212-8

Adaptive generation of variable-scale network maps
for small displays based on line density distribution

Zhilin Li & Peng Ti

Received: 1 March 2013 / Revised: 15 March 2014 /Accepted: 21 May 2014
# Springer Science+Business Media New York 2014

Abstract This paper presents an integrated strategy for adaptive generation of variable-scale
network maps for different small displays. It is based on the line density distribution and
comprised of three steps, i.e. (a) to estimate the line density by a grid-based method, (b) to
adaptively generate variable-scale maps based on density distribution for given display sizes
and (c) to improve the map readability by map generalization. The proposed strategy has been
tested by using two real-life network datasets, with a statistical analysis and a perceptual
evaluation. Experimental results show that this strategy is able to better exploit the limited map
space so as to significantly improve map clarity and readability and at the same time to
preserve map recognition ability compared to its original shape.

Keywords Variable-scale map . Network map . Small display . Line density distribution

1 Introduction

Network maps, e.g. metro maps or road maps, are widely used in daily activities, e.g. personal
navigation or other location-based services. Currently, with the widespread use of mobile
devices, network maps are often displayed on these devices, such as laptops and smart phones.
However, a major problem is their small display size. The representation of a considerable
amount of map information on such displays will result in the reduction of map readability and
clarity. An example shown in Fig. 1 is the road network map of the city of Marion in USA (see
Fig. 1(a)), which is displayed on three common display sizes of mobile phone devices, i.e.
3.75×5 cm (2.2 in. and a 2:3 height/width ratio), 3.85×2.65 cm (1.7 in. and a 3:2 height/width
ratio) and 3.2×2.4 cm (1.4 in. and a 3:2 height/width ratio).

There are two common approaches to improve map visualization for small display sizes. In
the first approach, the uniform map scale is preserved and the visual clutter arising from small

Z. Li : P. Ti (*)
Faculty of Geosciences and Environmental Engineering, Southwest Jiaotong University, Chengdu, Sichuan,
People’s Republic of China
e-mail: peng_ti@hotmail.com
Z. Li : P. Ti
Department of Land Surveying and Geo-Informatics, The Hong Kong Polytechnic University, Hung Hom,
Kowloon, Hong Kong

Geoinformatica

(b)

(c)

(d)

(a)

Fig. 1 Display of a road network map of Marion on three common mobile phone devices. a Original shape; b
uniform scaling result (2.2 in.); c uniform scaling result (1.7 in.); d uniform scaling result (1.4 in.)

displays is reduced by various methods, e.g. zooming based on a multi-scale geo-database
(showing detailed views on other display windows) [1], generalization operations [2] and
personalization [3]. The second approach replaces the principle of uniform scale used on maps
by a variable scale transformation. This study is devoted to the second approach, as it allows
for a better exploitation of the limited map space [4] so that the detailed information of a map
can be more clearly displayed to meet the user’s requirements.

For a specific-task, the map information of interest to users is in either a part of the map or the
whole map, i.e. of local or global interest. The local interest is often required for personal
navigation, and the focus region is usually around the user’s position. For the global interest
requirement, a detailed overview map is usually provided to support the user’s decision making,
e.g. the travel map of a scenic spot which can help tourists to choose a preferred route. Therefore,
current variable scale methods can be divided into two classes, i.e. local-interest-based and
global-interest-based. In the local-interest-based methods (e.g. [5–9]), pre-selected regions on a
map are locally enlarged and the clarity and readability of other regions are either ignored or
improved as much as possible. For the global interest, a common approach is to homogenize the
spatial density distribution as much as possible (e.g. [10, 11]), because the real-world dataset
distributions are often highly non-uniform [10]. As shown in Fig. 1, with the size reduction of the
map with non-uniform distribution, the dense regions become even denser, so as to further
reduce the visual clarity and readability while other regions may be still sparse or even empty.

Geoinformatica

This study is devoted to the development of a methodology for the automated generation of
variable-scale maps following the principle of global interest. From the literature, it can be
found that not much work has been carried out on this. Merrick and Gudmundsson [11] have
developed a centrality-based scaling method to enlarge dense areas and shrink sparse regions
on a network map. In their method, the centrality values of two vertices connecting an edge are
used to compute the desired length of the edge and a distance-cartogram-based distortion
proposed by Shimizu and Inoue [12] is adopted to deform the network map. However, the
results of vertex-based methods may be misleading if there are dense lines with only a few
vertices. To overcome this problem, line density is used as a measure for the generation of
variable-scale network maps.

Other related work is the generation of a mixed-scale map [13] by interpolation based on a
vario-scale (i.e. multi-scale) data structure called tGAP (topological Generalized Area Parti-
tion) [14–16], which consists of several levels of map information with different details.
However, this structure only supports area features.

The remainder of the article is structured as follows: a strategy for adaptive generation of
variable-scale network maps is explained in Section 2; the methodology and its implementa-
tion are described in Sections 3–5; experimental evaluations are reported in Section 6; a
discussion on the computational effort of the proposed method is presented in Section 7; and
finally conclusions are drawn in Section 8.

2 A strategy for adaptive generation of variable-scale network maps based on line
density distribution

As discussed in the introduction, this study aims to provide a methodology for the automated
generation of variable-scale network maps based on the line density distribution. In addition,
the sizes of display devices are considered, to achieve a display-adaptive representation of
resultant maps.

The generation of variable-scale maps with given output map sizes based on the density
values of different regions on a map is an ill-posed problem that has no unique solution.
Therefore, an optimization method is employed to achieve a generalized solution using convex
quadratic programming (CQP), which can be reliably and efficiently solved [17].

The representation by variable scale does improve the readability of maps if the scale
change is within certain range. However, if the scale reduction is too large, so that even the
sparse regions become cluttered, then a generalization process called selective omission should
be applied to less important features.

Based on the above thoughts, a strategy is proposed as follows:

(a)
(b)

(c)

to estimate the line density distribution of a network map;
to automatically generate variable-scale maps for given display sizes based on line
density distribution using convex quadratic programming; and
to improve the map readability by map generalization (optional).

3 Estimation of line density using a grid-based method

In this study, the generation of variable-scale maps for small displays is based on the line
density distribution. This means that map visualization is improved by reducing the sparse and
empty regions as much as possible. To achieve this aim, an appropriate measure for

Geoinformatica

the estimation of the line density is needed in order to globally describe the map
density distribution. In addition, the density-based deformation proposed in this study
should not be a value-by-area transformation, and it
is necessary to consider the
density of neighbor regions in the deformation process, as the sparse or empty regions
between dense regions cannot be excessively compressed in order to preserve the map
readability and clarity, while other sparse or empty regions should be reduced as
much as possible. This means that the degree of distortion may be quite different for
regions even with same or similar density values.

The use of a uniform grid is a common approach to estimate the line density of
network maps not least due to the ease of implementation [18]. In addition, each grid
cell in the grid has its natural neighbors, i.e. adjacent cells, and the spatial relation-
ships between adjacent cells in the uniform grid are very easy to describe, which is
convenient when considering the density of neighbor cells in the deformation process.
Therefore, a grid-based method is used in this study and the measure for the line
density D is defined as follows:

D ¼

L
A

ð1Þ

Where, A is the area of a grid cell; L is the total length of lines falling into A and D

represents the line density of the area.

However, for the grid-based method, the choice of the grid size has a great influence on the
density estimation. A too large or too small grid cell will fail to accurately describe the density
distribution and the density differences on network maps. Therefore, in this study, a default grid
size is suggested, and determined with consideration of the separations between network lines,
and a two-step strategy is proposed to calculate the default value. Firstly, a network map is
converted to a raster-based map according to the physical resolution of the display device, and
raster scans are implemented in the X and Y directions. Secondly, an algorithm similar
to run-length encoding is adopted to record all the separations between lines, and the
median values (mx and my) of all recorded separations in X and Y directions are used
to determine the default size (mx × my) of a grid cell That is, the area A of the grid
cell in Eq. (1) is mx × my. For the even number group of separations, there are two
middle numbers, e.g. 1 and 2, and the median value is 1.5 calculated by adding them
together and dividing by two.

This process of run-length encoding is illustrated by the example shown in Fig. 2, and (b) is
the rasterized result of Fig. 2(a). By the run-length encoding, the raster-based map, i.e.
Fig. 2(b), is encoded and recorded in a table as shown in Fig. 2(c). In this table, each row
consists of a number of data pairs in form of “x,y”. Where “x” takes values either 0 or 1,
meaning either “empty” or “filled”; and “y” represents the count of “x”. For example, “0,2”
means two blank pixels and 1,1 means one filled pixel. The separations between the two lines,
which have been depicted by a black rectangle in Fig. 2(c), are the critical information and
recorded to determine the default grid cell size.

4 Adaptive generation of variable-scale maps by a two-step strategy

To generate variable-scale maps based on the grid density distribution, a two-step strategy is
proposed, i.e. (a) grid distortion based on the density values of grid cells; and (b) map
reconstruction by interpolation according to the distorted grids. The process is described in
the following subsections.

Geoinformatica

(a)

(b)

(c)

Fig. 2 Recording the separations between lines. a Lines; b the rasterized result of the lines; c recording the raster
map per row using run-length encoding

4.1 Grid distortion using convex quadratic programming

In this study, the grid distortion based on the density values of grid cells is achieved by convex
quadratic programming (CQP), which is an optimization technique.

An optimization problem is an abstraction of the problem of making the best possible
choice of a vector x from a set of candidate choices [17]. For the use of an optimization to
solve practical problems, the key is in recognizing and formulating the problem. Many
practical problems, e.g. portfolio management or device sizing in electronic design, can be
formulated as optimization problems. In general, an optimization problem can be written:

g xð Þ ¼ min
subject to f i xð Þ ≤ai; i ¼ 1; ⋯; n

Where, x=(x1,⋯xm) is the vector of variables of the optimization problem; g(x) is the objective

function; fi(x) are the equality or inequality constraint functions and ai are the limits of fi(x).

However, not all forms of objective and constraint functions can be easily solved because
either they require a considerable amount of computational time or it is not possible to find a
solution. Only some particular forms, e.g. convex optimization (whose objective and constraint
functions satisfy the inequality (3)), can be reliably and efficiently solved [17].

F ax þ by

ð

Þ ≤ aF xð Þ þ bF yð Þ

Convex quadratic programming is a common subclass of convex optimization where the
constraints only contain linear terms and the objective function can consist of sum of squares
terms. The general form of CQP can be written:

mincx þ xT Dx
Ax ≤ b

Where c is an n-vector and x is an n-vector, D is a positive semi-definite (n,n) matrix and

xTDx≥0.

As previously discussed, under grid distortion, not only the density value of a grid
itself but also the density values of neighbor grid cells should be taken into
cell
consideration. In the transformation for the grid deformation, the centers (or centroids)

ð2Þ

ð3Þ

ð4Þ

Geoinformatica

of each grid cell are selected as control points (reference points). Firstly each control
point is assigned the scale determined by the density value of its grid cell and then its
adjacent control points in the horizontal and vertical directions are displaced relative
to the control point.

The input control points can be defined as a set of points C. The deformation problem for
each control point i∈C with two coordinates {Xi,Yi}∈ℜ can be modeled with three variables,
i.e. the transformed coordinates {xi,yi}∈ℜ and an unknown scale factor Si∈ℜ+. The con-
straints imposed on these variables are described as follows:

The first constraint is defined by Eq. (5) to ensure that the size of the resultant map can fit
into a given map frame. As the shape of the device screen, e.g. laptop or mobile phone, is
commonly rectangular, the size of the display can be defined by the range (Umin,Vmin)→
(Umax,Vmax).

U min ≤xi ≤U max
V min ≤ yi ≤ V max

for control point i:

ð5Þ

To ensure the first constraint, the grid (depicted in grey in Fig. 3) to calculate the line
density should be slightly larger than the map size so that the coordinate range of control points
(represented by black points in Fig. 3) should be larger or the same as the vertices on the
network map.

The second constraint is to assign larger scales to dense regions, and the unknown scale
factor of each centroid is determined through optimization. In fact, the height/width ratio of the

Fig. 3 Original grid and the grid consisting of centers

Geoinformatica

ð6Þ

ð7Þ

ð8Þ

display screen may vary from device to device, thus the scale factors in the x and y directions
(Six and Siy) are respectively defined as follows:

Six ¼ ux⋅Di
Siy ¼ uy⋅Di

for each centroid i :

Where Di is the density value of centroid p and ux and uy are the constants, indicating the
proportional factors relative to Di. The larger the ux and uy, the larger the scales that will be
assigned to the denser regions.

However, as mentioned above, the density values of the sparse or empty cells in dense
regions are quite small or even zero. When using Eq. (6), these cells will be excessively
compressed, which may reduce the map readability and clarity. Hence, the constraint for the
scale factors is relaxed and defined by the inequalities as follows:

Six ≥ux⋅Di
Siy ≥uy⋅Di

for each centroid i:

The objective function is to minimize the sum of edge distortions in order to preserve the map
recognition, compared to its original shape, as much as possible and can be written as follows:

X

X

(cid:6)

0

@

i∈c

j∈Adj ið Þ

(cid:2)

(cid:2)
Six⋅ X i−X j

(cid:3)

(cid:2)
− xi−x j

(cid:2)
(cid:3)2 þ Siy⋅ Y i−Y j
(cid:3)

(cid:3)

(cid:4)

(cid:4)
− yi−y j

(cid:5)

(cid:5)

2

1

(cid:7)
A ¼ min

In this study, the CQP consists of the constraints inequality (5) and (7) plus objective
function (8). As all constraints are linear and the objective function is convex, the CQP can be
efficiently solved.

4.2 Map reconstruction by multiquadric interpolation

In the reconstruction of the network map, the vertices on the map are displaced to new
positions according to the displacement of the control points. A classical solution for the
problem is the use of scatter data interpolation techniques. In fact, the techniques have been
often used to build a smooth displacement map which results in plausible deformations [19].
Although a large number of methods have been developed for the problem of scattered data
interpolation, in this study, for the selection of an appropriate interpolation technique, the
continuity and visual aspects of the deformed results are important in order to obtain a smooth
implementation and
In addition,
and aesthetic reconstruction result.
algorithm efficiency should also be considered in the process of reconstruction.
Franke [20] compared 29 typical scattered data interpolation techniques and the
results indicated that Hardy’s multiquadric interpolation [21] usually yields pleasing
and smooth results and is easy to implement. In addition, the algorithm complexity
is also lower than the others’. In fact, Beineke [22] had used multiquadric interpo-
the distorted grid, which intuitively represents the difference
lation to construct
between an ancient map and corresponding modern maps, and the result
(see
Fig. 4)
this method was very effective. Therefore, multiquadric
interpolation is adopted in this study.

indicated that

the ease of

Multiquadric interpolation was first applied to the height interpolation for a set of scattered

data on a contour map and the function can be written as:

z ¼

ai f x; y; xi; yi

ð

Þ

X
n

i¼1

ð9Þ

Geoinformatica

(a) 

(b)

(c) 

Fig. 4 Deformation process using the method of Beineke (2001). a Network and displacement vectors; b
achievement of displacements of the network vertices according to the displacement of vectors; c network
distortion according to the vertices’ displacements

Where z is the height of a point (x,y) to be interpolated; (xi,yi) is a known point; f(x,y,xi,yi)
is a quadratic term; ai is an interpolation coefficient to determine the algebraic sign and flatness
of the quadratic term [21].

ð
f x; y; xi; yi

Þ ¼

q

2

ﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃﬃ
Þ2 þ c
Þ2 þ y−yi
ð
ð
x−xi

A hyperboloid function (see Eq. (10)) is frequently selected as the quadratic
function f(x,y,xi,yi) and used in surface interpolation with good results [23]. For the
selection of parameter c, Franke [20] indicated that the interpolation results do not
depend strongly on the parameter. Good experimental results can be obtained when c
is set equal to zero [21, 22].

In the study, the interpolation is not for height but for the displacement of each vertex on a
network map. Consequently, the z in Eq. (9) is replaced by displacement values. The equation
form is then as follows:

U¼f rð ÞA
V¼f rð ÞB

where U is the displacement matrix in the x direction; V is the displacement matrix in
the y direction; A is the matrix of interpolation coefficient in the x direction; B is the
matrix of interpolation coefficient in the y direction; r is the distance between two
points, and f(r) is the hyperboloid function (see Eq. (11)). The expansion can be
written as follows:

13

12

22

23

rð Þ a2 þ f
rð Þ a2 þ f

11 11 rð Þ a1 þ f
21 21 rð Þ a1 þ f

u1 ¼ f
u2 ¼ f
⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅
un ¼ f
v1 ¼ f
v2 ¼ f
⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅⋅
vn ¼ f

rð Þ a1 þ f n2
11 11 rð Þ b1 þ f
11 11 rð Þ b1 þ f

rð Þ a2 þ f n3
rð Þ b2 þ f
12
rð Þ b2 þ f

rð Þ b2 þ f n3

rð Þ b1 þ f n2

n1

22

n1

rð Þ a3 þ ⋅⋅⋅ þ f
rð Þ a3 þ ⋅⋅⋅ þ f

1n rð Þ an
2n rð Þ an

rð Þ a3 þ ⋅⋅⋅ þ f nn rð Þ an
13

rð Þ b3 þ ⋅⋅⋅ þ f
rð Þ b3 þ ⋅⋅⋅ þ f

1n rð Þ bn
2n rð Þ bn

23

rð Þ b3 þ ⋅⋅⋅ þ f nn rð Þ bn

ð10Þ

ð11Þ

ð12Þ

Geoinformatica

First, the centroid grid points are selected as control points and the displacements calculated
in Section 4.1 are respectively represented by U and V in the x and y directions. The
interpolation coefficients A and B are then calculated as follows:

A¼f rð Þ−1 U
B¼ f rð Þ−1 V

ð13Þ

Next, the displacements of all vertices on the network map in the x and y directions can be
calculated by using Eq. (11). The only difference is that r is now the distance between vertices
on the network map and control points.

5 Improvement of map readability by generalization approach

As discussed previously, the representation by variable scale does improve the readability of
maps if the scale change is within certain range. However, if the scale reduction is too much so
that even the sparse regions become cluttered, then methods are therefore required to simplify
the representation to avoid the visual clutter. There are two common approaches. The first is
the integration with a multiple representation database (MRDB). However, as most of the
current systems only support the transformations through a series of fixed scales, it is difficult
to use such a system for variable-scale maps. The second is the use of the selective omission
operation in map generalization so as to transform spatial data from one scale to another more
smoothly.

Selective omission can usually be divided into two classes, i.e. stroke-based [24–26] and
mesh-density-based [27] approaches. In the stroke-based approach, firstly network segments are
concatenated based on various principles, e.g. good continuation grouping [28]. Secondly, the
formed strokes are ordered according to various properties, e.g. geometric properties, topological
properties and thematic properties. Finally, the strokes are selectively omitted based on the
orders. For the mesh-density-based approach, the line density of a mesh (which is a closed region
surrounded by network segments) is defined as the ratio of mesh perimeter to mesh area. If the
density of a mesh is higher than a threshold, then the mesh should be merged into a neighbor
mesh. The process is iterated until all mesh density values are smaller than the threshold. An
evaluation [29] shows that mesh-density-based methods are good for the gridded network
forming closed areas, while the stroke-based approach is good for others. Therefore it was
proposed [29] to integrate these two approaches. This integrated approach has the advantages of
both stroke-based and mesh-density-based approaches and is thus adopted in this study.

In the integrated method, the thresholds for the line length and the mesh density are
determined according to the scales of the input and output maps. As the scale is not consistent
for a variable-scale map, some recommended values proposed by previous researches are used
in this study, i.e. a value between 0.5 and 0.7 mm is recommended as appropriate for the
smallest visible line length and a value of 10 mm for the size of small visible mesh.

6 Experimental evaluation

In this study, two comparative analyses have been conducted to evaluate the proposed method,
i.e. statistical and perceptual. The road network map of the city of Marion (see Fig. 1(a)) is
used as test data and the three display sizes in Fig. 1, i.e. 3.75×5 cm ((2.2 in.), 3.85×2.65 cm
(1.7 in.) and 3.2×2.4 cm (1.4 in.) are selected as the output map sizes.

Geoinformatica

In this study, convex quadratic programming is used to achieve a desirable map
distortion and is solved by optimizer ILOG CPLEX 12.4. In the generation process,
an 18×23 grid is used and the grid size is determined by the method developed in
Section 3. The density values of grid cells are normalized between 0 and 1 and the
two user-defined parameters ux and uy in inequality (7) are set equal
to 1 in this
study. Three distorted grids (see Fig. 5(a), (b) and (c)) are used to visualize the
distortion effect, and the corresponding variable-scale maps reconstructed according to
the distorted grids are represented in Fig. 5(d), (e) and (f).

As current methods for the generation of variable-scale maps for small display
sizes are based on specified focus regions or network vertices, and a given output
map size is not considered in these methods, it is difficult to conduct an effective
comparison with the proposed method. Therefore,
the uniform scaling maps (see
Fig. 1(b), (c), (d)) are used as benchmarks in this study. In order to obtain an
effective comparison for the statistics of density distribution and visual
inspection,
results without simplification by generalization are used. In order to present a clear
visual difference between variable-scale maps without and with map generalization, in
Fig. 6(a), (c) and (e), the variable-scale maps in Fig. 5(d), (e) and (f) are enlarged and
used as backgrounds, and the omitted segments due to map generalization are shown
in bold. The resultant maps with map generalization are shown in Fig. 6(b), (d) and
(f).

(a)

(b)

(c)

(d)

(e)

(f)

Fig. 5 Variable-scale maps without generalization. a Distorted grid (2.2 in.); b distorted grid (1.7 in.); c distorted
grid (1.4 in.); d variable-scale map (2.2 in.); e variable-scale map (1.7 in.); f variable-scale map (1.4 in.)

Geoinformatica

To further validate the applicability of the proposed method, another network map, i.e. a
part of road network in the city of Lower Hutt in New Zealand, is used, as shown in Fig. 7(a).
The display size of 3.75×5 cm (2.2 in.) is selected as the output map size and the generated
variable-scale maps without and with generalization are shown in Figs. 7(c) and 8(b) respec-
tively. The omitted segments due to map generalization are shown Fig. 8(a) in order to show
the differences between Fig. 7(c) and 8(b).

(a)

(b)

(c)

(d)

(e)

(f)

Fig. 6 Variable-scale maps with simplification by generalization. a Omitted segments (2.2 in.); b generalized
variable-scale map (2.2 in.); c Omitted segments (1.7 in.); d generalized variable-scale map (1.7 in.); e Omitted
segments (1.4 in.); f generalized variable-scale map (1.4 in.)

Geoinformatica

6.1 Statistical analysis

For the evaluation, two measures are used to check whether the proposed method can better
exploit the map space. The first one is the utilization rate of map space, i.e. the ratio of the total
size occupied by filled grid cells to the total size of the map [10]. The second is the distribution
homogeneity of networks, i.e. the degree of homogeneity of the density distribution, and the
standard deviation of all density values calculated by a high density grid is used as the measure
for the distribution homogeneity.

The results are respectively shown in Tables 1 and 2. It is noted that the utilization
rates for the variable-scale maps are consistently higher and are increasing with the
reduction of output map sizes, and that the standard deviation of the variable-scale
maps are consistently smaller than the corresponding uniform scaling maps. In order
to verify whether there are statistically significant differences between the means of
the results for the variable scale maps and for uniform scale maps, a statistical
method, a one-tailed T-test
the significance level ∂ is
is conducted. In this T-test,
equal to 0.05 and the results are as follows:

&

&

For the results in Table 1, t=7.47 and T∂(n1+n2−2)=2.35. Because t>T∂(n1+n2−2),
H0: μ1=μ2 is rejected and H11:μ1>μ2 is accepted. That is to say, the mean of the
utilization rate for the variable scale maps is significantly higher than the resultant map
by uniform scaling.
For the results in Table 2, t=−3.91 and T∂(n1+n2−2)=2.35. Because t<T∂(n1+n2−2),
H0: μ1=μ2 is rejected and H12:μ1<μ2 is accepted. That is to say, the mean of the
distribution homogeneity for the variable scale maps is significantly smaller than the
resultant map by uniform scaling.

(b)

(c)

(a)

Fig. 7 Variable-scale maps of the road network map in the city of Lower Hutt in New Zealand. a Original shape;
b Uniform scaling result (2.2 in.); c variable-scale map (2.2 in.)

Geoinformatica

(a)

(b)

Fig. 8 Variable-scale maps with generalization. a Omitted segments (2.2 in.); b generalized variable-scale map
(2.2 in.)

From the above results, the variable scale maps generated by the proposed method have
significantly improved the utilization rates and higher distribution homogeneity. This indicates
that the proposed method is able to better exploit the map space.

6.2 Perceptual evaluation

Although the results of the statistic analysis indicate the proposed method can better exploit the
map space when reducing map sizes so as to improve map clarity, we would like to check
whether map readers come to a similar judgment via visual inspection. In addition, Harrie et al.
[5] indicated that map recognition compared with its original shape is very important for the
map usability because the lines on network maps are distorted in the deformation process.
Therefore, in this study, a psychological test on the map clarity and recognition compared with
its original shape was also conducted. 40 participants (25 male and 15 female) with different
education backgrounds (cartography (8), remote sensing (15) and other (17)) were involved in
this test and printed versions of the resultant maps were delivered to the participants.

For the test on the map clarity, they were requested to give a score for the comparison
between variable scale maps and the corresponding uniform scaling maps, following a 5-grade
marking system, i.e. 1 = not improved, 2 = little improved, 3 = improved, 4 = much improved,
5 = significantly improved. The results of this test are shown in Table 3.

Table 1 Results of utilization rate
of map space

Utilization rate
for variable-scale
map (%)

Utilization rate for
corresponding resultant
map by uniform scaling (%)

Result 1 (Fig. 5d)

Result 2 (Fig. 5e)
Result 3 (Fig. 5f)

Result 4 (Fig. 7c)

38

43
44

41

30

30
30

32

Table 2 Results of distribution
homogeneity

Geoinformatica

Distribution
homogeneity for
variable-scale map

Distribution homogeneity
for corresponding Resultant
map by uniform scaling

Result 1 (Fig. 5d)

Result 2 (Fig. 5e)
Result 3 (Fig. 5f)

Result 4 (Fig. 7c)

0.056

0.066
0.077

0.101

0.067

0.078
0.091

0.130

For the map recognition compared with its original shape, in this study, two aspects of
variable-scale maps were considered, i.e. the whole map and individual lines. For the
recognition of the whole map, the participants were asked to give a score for the level of
difficulty in recognizing the variable-scale maps compared with their original shapes by a 5-
grade marking system, i.e. 1 = very difficult, 2 = difficult, 3 = normal, 4 = easy, and 5 = very
easy. The results are shown in Table 4.

For the recognition of individual lines, (1) several network lines, i.e. A0A1, A1A4,
A2A3, B0B1, B3B4, B3B6 and B2B5, on the original maps were first selected (see
Fig. 9); (2) 40 participants were divided into two groups (which had almost identical
average age and ratios of the sex and educational background); and (c) the two
groups (20 person to each group) were requested to find and draw corresponding
lines respectively on the printed version of the variable scale maps (Figs. 5d, e, f and
7c) and the corresponding uniformly scaled maps (Figs. 1b, c, d and 7b). For the first
group, the average time used for finding and drawing was 3.01 min and the standard
deviation was 0.16. For the second group, the average time was 3.75 min and the
standard deviation was 0.36. A one-tailed T-test was conducted to verify whether there
were statistically significant differences between the means of these two groups, i.e.
μ1 and μ2, where the significance level ∂ was equal to 0.05. In this T-test, t=−7.96 and T∂(n1+
n2−2)=1.70. Because t<T∂(n1+n2−2), H0: μ1=μ2 was rejected and H1:μ1<μ2 was accepted.
That is to say, the time used for finding and drawing by the first group was significantly less
than that by the second group.

In addition, the participants involving in the first group were requested to give a score for
the level of difficulty in finding these lines by the 5-grade marking system used in the
evaluation of the recognition of the whole map, and the results are shown in Table 5.

From the results for map clarity shown in Table 3, it is noted that the variable-scale maps
had considerable improvements in map clarity by comparison with the corresponding resultant
map obtained by uniform scaling, and that the degree of improvement was significantly
increased with the reduction in map size. The results shown in Tables 4 and 5 indicate that
the variable-scale maps could be easily recognized by comparison with their original shape,
and that there is almost no influence on the map usability due to the network distortion. In

Table 3 Results of the psychological test for the evaluation of map clarity

Significantly improved Much improved

Improved Little improved Not improved

Result 1 (Fig. 5d)

0 %

Result 2 (Fig. 5e)

42.5 %

Result 3 (Fig. 5f)

57.5 %

Result 4 (Fig. 7c)

57.5 %

25 %

37.5 %

25 %

27.5 %

32.5 %

35 %

20 %

17.5 %

15 %

0 %

0 %

0 %

7.5 %

0 %

0 %

0 %

Geoinformatica

Table 4 Results of the perceptual test for the evaluation of the recognition of whole network

Very easy

Easy

Normal

Difficult

Very difficult

Result 1 (Fig. 5d)

Result 2 (Fig. 5e)

Result 3 (Fig. 5f)

Result 4 (Fig. 7c)

87.5 %

75 %

72.5 %

70 %

12.5 %

25 %

27.5 %

30 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

A3

A4

A0

B0

A2

A1

B2

B3

B5

B6

B4

B1

Fig. 9 Selection of lines for the evaluation of the recognition of individual lines

Geoinformatica

Table 5 Results of the perceptual test for the evaluation of the recognition of individual lines

Very easy

Normal

Difficult

Very difficult

Result 1 (Fig. 5d)

Result 2 (Fig. 5e)

Result 3 (Fig. 5f)

Result 4 (Fig. 7c)

60 %

45 %

35 %

40 %

0 %

0 %

5 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

0 %

Easy

40 %

55 %

60 %

60 %

addition, the recognition time for variable-scale maps generated by the proposed method was
significantly less than the corresponding uniformly scaled maps. This indicates that much
better map recognition can be achieved by this method.

7 Discussion on computational effort

In this section, the running times of the proposed method were tested for the four results in
Figs. 6(b), (d), (f) and 8(b), and the overall solution time (CPU time) was measured in seconds.
A window PC with 8G RAM and a 3.2GHz Intel Xeon CPU was used to perform the
experiments. As the method proposed in this study consisted of three steps, i.e. (1) to estimate
the line density by a grid-based method, (2) to adaptively generate variable-scale maps based
on the line density distribution for given output sizes and (3) to improve the map readability by
map generalization, the running times shown in Table 6 are respectively given for the step 1
and step3 as well as the two sub-steps of step 2, i.e. the grid distortion (step 2.1) and map
reconstruction (step 2.2).

From Table 6, it is noted that most of the computational time is spent on step 2 and the map
reconstruction by multiquadric interpolation (step 2.2) needs much more time than step 2.1.
For the entire process, between four and six seconds would result in a wait for some people,
but it is possible to reduce the computational time by adopting an interpolation technique with
lower computation complexity.

8 Conclusion

In this study, a new strategy is proposed to adaptively generate variable-scale network maps for
small display sizes based on the line density distribution. It consists of three steps, i.e. (a) to
estimate the line density by a grid-based method, (b) to adaptively generate variable-scale
maps based on density distribution for given display sizes and (c) to improve the map

Table 6 Running times for the experimental results

Original vertices Original segments Step 1

Step 2

Step 3 Total running
time

Step 2.1 Step 2.2

Result 1 (Fig. 6b) 1460

Result 2 (Fig. 6d) 1460
Result 3 (Fig. 6f) 1460

Result 4 (Fig. 8b) 1764

255

255
255

479

0.407 s 1.246 s

2.746 s

0.001 s 4.400

0.407 s 1.235 s
0.407 s 1.251 s

2.750 s
2.753 s

0.002 s 4.394
0.002 s 4.413

0.538 s 1.852 s

3.278 s

0.003 s 5.671

Geoinformatica

readability by map generalization. This strategy is then evaluated by using real-life datasets for
a number of display devices. Statistical analyses and perceptual tests were carried out for the
evaluation. Both evaluation results indicate that the proposed strategy is able to significantly
better explore the limited map space for small displays and the utilization rate is increased with
the reduction of output sizes. Another finding is that the resultant map distortion does not
influence map recognition by comparison with its original shape. It can be therefore concluded
that this strategy is effective to adaptively generate variable-scale maps for small displays.

In this study, map visualization is improved by reducing the size of sparse or
empty regions as much as possible. However, for the compression of the sparse
regions,
the line separations and line length may be excessively reduced so as to
decrease the map readability while they are still sparse. Further research is planned to
consider setting the smallest separation between lines and the shortest line length as
constraints in the distortion process.

Acknowledgments This project is supported by the National 863 Program (2013AA12A202), the Hong Kong
PolyU (1.34.37.87T5 and G-U686) and the National Natural Science Foundation of China (Grant No. 41201475) and
the Program for New Century Excellent Talents in University (NCET-12-0942). The road network map of the city of
Marion in USA and the city of Lower Hutt in New Zealand are obtained from TIGER data of US Census Bureau
(http://www.census.gov/geo/www/tiger/) and the Land Information of New Zealand respectively. The critical
comments by the anonymous reviewers are also very much appreciated, which help improve the quality of this paper.

References

1. Karnick P, Cline D, Jeschke S, Razdan A, Wonka P (2010) Route visualization using detail lenses. IEEE

Trans Vis Comput Graph 16(2):235–247

2. Li ZL (2006) Algorithmic foundation of multi-scale spatial representation. CRC Press
3. Wilson D, Bertolotto M, Weakliam J (2010) Personalizing map content to improve task completion

efficiency. Int J Geogr Inf Sci 24(5):741–760

4. Reichenbacher T (2004) Mobile cartography-adaptive visualisation of geographic Information on mobile

devices, PhD thesis, Technische Universität München, Germany

5. Harrie L, Sarjakoski LT, Lehto L (2002) A variable-scale map for small-display cartography. In: Proceedings
of the Joint International Symposium on Geo-Spatial Theory, Processing and Applications, 8–12 July, 2002,
Ottawa, Canada (CD-ROM)

6. Haunert J, Sering L (2011) Drawing road networks with focus regions. IEEE Trans Vis Comput Graph

7. Kadmon N, Shlomi E (1978) A polyfocal projection for statistical surface. Cartogr J 15(1):36–41
8. Li Q (2009) Variable-scale representation of road networks on small mobile devices. Comput Geosci 35(11):

17(12):2555–2562

2185–2190

9. Wang YS, Lee TY, Tai CL (2008) Focus + context visualization with distortion minimization. IEEE Trans

10. Bak P, Schaefer M, Stoffel A, Keim DA, Omer I (2009) Density equalizing distortion of large geographic

Vis Comput Graph 14(6):1731–1738

point sets. Cartogr Geogr Inf Sci 36(3):237–250

11. Merrick D, Gudmundsson J (2006) Increasing the readability of graph drawings with centrality-based
scaling. In: Proceeding of Asia-Pacific Symposium Information Visualization, February, Tokyo, Japan, pp
67–76

12. Shimizu E, Inoue D (2003) Time-distance mapping: visualization of transportation level of service. In:
Proceeding of Symposium on Environmental Issues Related to Infrastructure Development, August, Tokyo,
Japan, pp 221–230

13. Van Oosterom PJM, Meijers BM (2012) Vario-scale data structures supporting smooth zoom and progressive

transfer of 2D and 3D data. Jaarverslag Nederlandse Commissie voor Geodesie, pp 21–42

14. Meijers BM (2011) Variable-scale Geo-information. PhD thesis, Delft University of Technology, Holland
15. Van Oosterom PJM (1995) The GAP-Tree, an approach to On-the-Fly Map Generalization of an Area
Partitioning. GIS and Generalization, Methodology and Practice, pp 120–132. Taylor & Francis, London

Geoinformatica

16. Van Oosterom PJM (2005) Variable-scale topological data structures suitable for progressive data transfer:

the gap-face tree and gap-edge forest. Cartogr Geogr Inf Sci 32(11):331–346

17. Boyd S, Vandenberghe L (2004) Convex optimization. Cambridge University Press, Cambridge
18. Jansen M, van Kreveld M (1998) Evaluating the consistency of cartographic generalization. In: Proceeding

of 8th International Symposium on Spatial Data Handling, pp 668–678

19. Correa C, Silver D, Chen M (2007) Volume deformation via scattered data interpolation. In: Proceeding of
Euro-graphics/IEEE Visualization and Graphics Technical Committee Workshop on Volume Graphics, April
2007, Dublin, Ireland, pp 91–98

20. Franke R (1982) Scattered data interpolation: test of some methods. Math Comput 38:181–200
21. Hardy RL (1971) Multiquadric equations of topography and other irregular surfaces. J Geophys Res 176:

1905–1915

München, Germany

22. Beineke D (2001) Process on the precision analysis for old maps. PhD Thesis, Universität der Bundeswehr

23. Kansa EJ (1990) Multiquadrics-a scattered data approximation scheme with applications to computational

fluid dynamics-I. Comput Math Appl 19:127–145

24. Chaudhry O, Mackaness W (2005) Rural and urban road network generalization deriving 1:250000 from OS

Mastermap. www.era.lib.ed.ac.uk/bitstream/1842/1137/1/ochaudry001.pdf

25. Jiang B, Claramunt C (2004) A structural approach to the model generalization of urban street network.

26. Jiang B, Harrie L (2004) Selection of streets from a network using self-organizing maps. Trans GIS 8(3):

GeoInformatica 8(2):157–173

335–350

27. Chen J, Hu Y, Li Z, Zhao R, Meng L (2009) Selective omission of road features based on mesh density for

automatic map generalization. Int J Geogr Inf Sci 23(8):1013–1032

28. Thompson RC, Richardson DE (1999) The‘Good Continuity’principle of perceptual organization applied to
the generalization of road networks. In: Proceedings of the 19th international cartographic conference,
Ottawa, pp 1215–1225

29. Li ZL, Zhou Q (2012) Integration of linear and areal hierarchies for continuous multi-scale representation of

road networks. Int J Geogr Inf Sci 26(5):855–880

Li Zhilin is a full professor in geo-informatics (cartography/remote sensing/GIS). (He is currently on no-pay
leave to work at the Southwest Jiaotong University (China) as the Dean of the Faculty of Geosciences and
Environmental Envigeering). He obtained his BSc in photogrammetry and remote sensing from Southwestern
Jiaotong University (China) in 1982 and his Ph.D. from the University of Glasgow (UK) in 1990. Since 1990, he
had worked at the University of Newcastle upon Tyne as a postdoctoral research associate, the University of
Southampton and Technical University of Berlin (Germany) as a postdoctoral research fellow. In 1994, took up a
lectureship at Curtin University of Technology (Australia). He joined the Hong Kong Polytechnic University in
1996 as an assistant professor. He was promoted to associate professor in 1998 and to professor in 2003.

Geoinformatica

Peng Ti obtained his B.S. degrees in Geodesy from Wuhan University, China, and M.Sc. in Surveying from
University of Applied Sciences in Stuttgart, Germany, and Ph.D. degree in from Hong Kong polytechnic
University. His research interest includes multi-scale and variable-scale representation and network map sche-
matization.

